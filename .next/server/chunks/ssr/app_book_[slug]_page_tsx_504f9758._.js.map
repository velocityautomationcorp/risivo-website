{"version":3,"sources":["../../../../app/book/%5Bslug%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useMemo, Suspense } from 'react'\nimport { useParams } from 'next/navigation'\n\n// ==========================================\n// TYPE DEFINITIONS\n// ==========================================\n\ninterface TimeSlot {\n  startTime: string\n  endTime: string\n  utcStart: string\n  utcEnd: string\n  available: boolean\n}\n\ninterface DaySummary {\n  date: string\n  availableSlots: number\n  status: 'many' | 'few' | 'none'\n}\n\ninterface AppointmentType {\n  id: string\n  name: string\n  description?: string\n  durationMinutes: number\n  price?: number\n  currency: string\n}\n\ninterface CalendarInfo {\n  id: string\n  name: string\n  description?: string\n  durationMinutes: number\n  timezone: string\n  avatarUrl?: string\n  customBranding?: {\n    logoUrl?: string\n    primaryColor?: string\n    secondaryColor?: string\n    backgroundColor?: string\n    textColor?: string\n    showPoweredBy: boolean\n  }\n  appointmentTypes: AppointmentType[]\n  allowGuests?: boolean\n  maxGuests?: number\n}\n\ninterface Guest {\n  firstName: string\n  lastName: string\n  email: string\n  phone: string\n}\n\ninterface BookingForm {\n  name: string\n  email: string\n  phone: string\n  notes: string\n  guests: Guest[]\n}\n\n// ==========================================\n// MAIN BOOKING PAGE COMPONENT\n// ==========================================\n\nfunction BookingPageContent() {\n  const params = useParams()\n  const slug = params.slug as string\n\n  // State\n  const [calendar, setCalendar] = useState<CalendarInfo | null>(null)\n  const [selectedType, setSelectedType] = useState<AppointmentType | null>(null)\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null)\n  const [selectedSlot, setSelectedSlot] = useState<TimeSlot | null>(null)\n  const [availability, setAvailability] = useState<{\n    slots: TimeSlot[]\n    daysSummary: DaySummary[]\n  } | null>(null)\n  const [formData, setFormData] = useState<BookingForm>({\n    name: '',\n    email: '',\n    phone: '',\n    notes: '',\n    guests: []\n  })\n  const [showAddGuestForm, setShowAddGuestForm] = useState(false)\n  const [newGuest, setNewGuest] = useState<Guest>({ firstName: '', lastName: '', email: '', phone: '' })\n  const [step, setStep] = useState<'type' | 'date' | 'time' | 'form' | 'confirm'>('type')\n  const [loading, setLoading] = useState(true)\n  const [submitting, setSubmitting] = useState(false)\n  const [bookingResult, setBookingResult] = useState<any>(null)\n  const [error, setError] = useState<string | null>(null)\n\n  // Current month for calendar view\n  const [viewMonth, setViewMonth] = useState(new Date())\n\n  // Load calendar data\n  useEffect(() => {\n    loadCalendar()\n  }, [slug])\n\n  // Load availability when date or type changes\n  useEffect(() => {\n    if (calendar && viewMonth) {\n      loadAvailability()\n    }\n  }, [calendar, viewMonth, selectedType])\n\n  const loadCalendar = async () => {\n    try {\n      setLoading(true)\n      const res = await fetch(`/api/v1/public/calendars/${slug}`)\n      const data = await res.json()\n      \n      if (data.success) {\n        setCalendar(data.data)\n        // If only one appointment type, auto-select it\n        if (data.data.appointmentTypes?.length === 1) {\n          setSelectedType(data.data.appointmentTypes[0])\n          setStep('date')\n        } else if (!data.data.appointmentTypes?.length) {\n          // No types configured, skip type selection\n          setStep('date')\n        }\n      } else {\n        setError('Calendar not found')\n      }\n    } catch (err) {\n      console.error('Error loading calendar:', err)\n      setError('Failed to load booking page')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const loadAvailability = async () => {\n    if (!calendar) return\n\n    try {\n      const startDate = new Date(viewMonth.getFullYear(), viewMonth.getMonth(), 1)\n      const endDate = new Date(viewMonth.getFullYear(), viewMonth.getMonth() + 1, 0)\n      \n      const userTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone\n      const typeParam = selectedType ? `&appointmentTypeId=${selectedType.id}` : ''\n      \n      const res = await fetch(\n        `/api/v1/calendars/${calendar.id}/availability?` +\n        `startDate=${startDate.toISOString().split('T')[0]}&` +\n        `endDate=${endDate.toISOString().split('T')[0]}&` +\n        `timezone=${userTimezone}${typeParam}`\n      )\n      \n      const data = await res.json()\n      if (data.success) {\n        setAvailability(data.data)\n      }\n    } catch (err) {\n      console.error('Error loading availability:', err)\n    }\n  }\n\n  const handleDateSelect = (date: Date) => {\n    setSelectedDate(date)\n    setSelectedSlot(null)\n    setStep('time')\n  }\n\n  const handleSlotSelect = (slot: TimeSlot) => {\n    setSelectedSlot(slot)\n    setStep('form')\n  }\n\n  const handleAddGuest = () => {\n    if (!newGuest.firstName || !newGuest.lastName || !newGuest.email) {\n      return\n    }\n    setFormData({\n      ...formData,\n      guests: [...formData.guests, { ...newGuest }]\n    })\n    setNewGuest({ firstName: '', lastName: '', email: '', phone: '' })\n    setShowAddGuestForm(false)\n  }\n\n  const handleRemoveGuest = (index: number) => {\n    setFormData({\n      ...formData,\n      guests: formData.guests.filter((_, i) => i !== index)\n    })\n  }\n\n  const handleBooking = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!calendar || !selectedSlot || !formData.name || !formData.email) return\n\n    setSubmitting(true)\n    setError(null)\n\n    try {\n      // Transform guests to the API format\n      const additionalGuests = formData.guests.map(g => ({\n        name: `${g.firstName} ${g.lastName}`,\n        email: g.email,\n        phone: g.phone || undefined\n      }))\n\n      const res = await fetch('/api/v1/appointments', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          calendarId: calendar.id,\n          appointmentTypeId: selectedType?.id,\n          startTime: selectedSlot.utcStart,\n          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n          contact: {\n            name: formData.name,\n            email: formData.email,\n            phone: formData.phone\n          },\n          additionalGuests: additionalGuests.length > 0 ? additionalGuests : undefined,\n          notes: formData.notes\n        })\n      })\n\n      const data = await res.json()\n      if (data.success) {\n        setBookingResult(data.data)\n        setStep('confirm')\n      } else {\n        setError(data.error || 'Failed to book appointment')\n      }\n    } catch (err) {\n      console.error('Error booking appointment:', err)\n      setError('Failed to book appointment. Please try again.')\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  // Get available slots for selected date\n  const slotsForSelectedDate = useMemo(() => {\n    if (!availability || !selectedDate) return []\n    const dateStr = selectedDate.toISOString().split('T')[0]\n    return availability.slots.filter(slot => \n      slot.utcStart.split('T')[0] === dateStr && slot.available\n    )\n  }, [availability, selectedDate])\n\n  // Loading state\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading booking page...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Error state\n  if (error && !calendar) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <i className=\"fas fa-exclamation-triangle text-red-500 text-2xl\"></i>\n          </div>\n          <h1 className=\"text-xl font-bold text-gray-900 mb-2\">Booking Page Not Found</h1>\n          <p className=\"text-gray-600\">{error}</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (!calendar) return null\n\n  const primaryColor = calendar.customBranding?.primaryColor || '#3B82F6'\n\n  return (\n    <div \n      className=\"min-h-screen py-8 px-4\"\n      style={{ backgroundColor: calendar.customBranding?.backgroundColor || '#F9FAFB' }}\n    >\n      <div className=\"max-w-3xl mx-auto\">\n        {/* Header */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6\">\n          <div className=\"flex items-center gap-4\">\n            {calendar.customBranding?.logoUrl || calendar.avatarUrl ? (\n              <img \n                src={calendar.customBranding?.logoUrl || calendar.avatarUrl}\n                alt={calendar.name}\n                className=\"w-16 h-16 rounded-full object-cover\"\n              />\n            ) : (\n              <div \n                className=\"w-16 h-16 rounded-full flex items-center justify-center text-white text-2xl font-bold\"\n                style={{ backgroundColor: primaryColor }}\n              >\n                {calendar.name.charAt(0)}\n              </div>\n            )}\n            <div>\n              <h1 \n                className=\"text-2xl font-bold\"\n                style={{ color: calendar.customBranding?.textColor || '#111827' }}\n              >\n                {calendar.name}\n              </h1>\n              {calendar.description && (\n                <p className=\"text-gray-600 mt-1\">{calendar.description}</p>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Progress Steps */}\n        <div className=\"flex items-center justify-center mb-8\">\n          {['type', 'date', 'time', 'form', 'confirm'].map((s, i) => {\n            const stepLabels = {\n              type: 'Service',\n              date: 'Date',\n              time: 'Time',\n              form: 'Details',\n              confirm: 'Confirm'\n            }\n            const isActive = step === s\n            const isPast = ['type', 'date', 'time', 'form', 'confirm'].indexOf(step) > i\n            \n            // Skip type step if no appointment types\n            if (s === 'type' && (!calendar.appointmentTypes?.length || calendar.appointmentTypes.length <= 1)) {\n              return null\n            }\n\n            return (\n              <div key={s} className=\"flex items-center\">\n                <div \n                  className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${\n                    isActive \n                      ? 'text-white' \n                      : isPast \n                        ? 'bg-green-100 text-green-600' \n                        : 'bg-gray-100 text-gray-400'\n                  }`}\n                  style={isActive ? { backgroundColor: primaryColor } : {}}\n                >\n                  {isPast ? <i className=\"fas fa-check\"></i> : i + 1}\n                </div>\n                <span className={`ml-2 text-sm ${isActive ? 'font-medium text-gray-900' : 'text-gray-400'}`}>\n                  {stepLabels[s as keyof typeof stepLabels]}\n                </span>\n                {i < 4 && <div className=\"w-8 h-px bg-gray-200 mx-3\"></div>}\n              </div>\n            )\n          })}\n        </div>\n\n        {/* Main Content */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n          \n          {/* Step: Select Appointment Type */}\n          {step === 'type' && calendar.appointmentTypes && calendar.appointmentTypes.length > 1 && (\n            <div className=\"p-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Select a Service</h2>\n              <div className=\"space-y-3\">\n                {calendar.appointmentTypes.map(type => (\n                  <button\n                    key={type.id}\n                    onClick={() => {\n                      setSelectedType(type)\n                      setStep('date')\n                    }}\n                    className=\"w-full p-4 border rounded-lg text-left hover:border-blue-500 hover:bg-blue-50 transition-colors\"\n                    style={{ '--hover-color': primaryColor } as any}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <h3 className=\"font-medium text-gray-900\">{type.name}</h3>\n                        {type.description && (\n                          <p className=\"text-sm text-gray-500 mt-1\">{type.description}</p>\n                        )}\n                        <div className=\"flex items-center gap-3 mt-2 text-sm text-gray-500\">\n                          <span><i className=\"far fa-clock mr-1\"></i>{type.durationMinutes} min</span>\n                          {type.price && (\n                            <span><i className=\"far fa-dollar-sign mr-1\"></i>{type.currency} {type.price}</span>\n                          )}\n                        </div>\n                      </div>\n                      <i className=\"fas fa-chevron-right text-gray-400\"></i>\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Step: Select Date */}\n          {step === 'date' && (\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                {calendar.appointmentTypes && calendar.appointmentTypes.length > 1 && (\n                  <button\n                    onClick={() => setStep('type')}\n                    className=\"text-sm text-gray-500 hover:text-gray-700\"\n                  >\n                    <i className=\"fas fa-arrow-left mr-1\"></i> Back\n                  </button>\n                )}\n                <h2 className=\"text-lg font-semibold text-gray-900\">\n                  Select a Date\n                  {selectedType && (\n                    <span className=\"text-sm font-normal text-gray-500 ml-2\">\n                      for {selectedType.name}\n                    </span>\n                  )}\n                </h2>\n                <div></div>\n              </div>\n              \n              <BookingCalendar\n                month={viewMonth}\n                onMonthChange={setViewMonth}\n                daysSummary={availability?.daysSummary || []}\n                selectedDate={selectedDate}\n                onDateSelect={handleDateSelect}\n                primaryColor={primaryColor}\n              />\n            </div>\n          )}\n\n          {/* Step: Select Time */}\n          {step === 'time' && selectedDate && (\n            <div className=\"p-6\">\n              <button\n                onClick={() => setStep('date')}\n                className=\"text-sm text-gray-500 hover:text-gray-700 mb-4\"\n              >\n                <i className=\"fas fa-arrow-left mr-1\"></i> Back to calendar\n              </button>\n              \n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\n                Select a Time\n                <span className=\"text-sm font-normal text-gray-500 ml-2\">\n                  on {selectedDate.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}\n                </span>\n              </h2>\n\n              {slotsForSelectedDate.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <i className=\"far fa-calendar-times text-4xl text-gray-300 mb-4\"></i>\n                  <p className=\"text-gray-500\">No available times on this date</p>\n                  <button\n                    onClick={() => setStep('date')}\n                    className=\"mt-4 text-sm text-blue-600 hover:underline\"\n                    style={{ color: primaryColor }}\n                  >\n                    Select a different date\n                  </button>\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-3 sm:grid-cols-4 gap-2\">\n                  {slotsForSelectedDate.map(slot => {\n                    const time = new Date(slot.utcStart).toLocaleTimeString('en-US', {\n                      hour: 'numeric',\n                      minute: '2-digit',\n                      hour12: true\n                    })\n                    const isSelected = selectedSlot?.utcStart === slot.utcStart\n                    \n                    return (\n                      <button\n                        key={slot.utcStart}\n                        onClick={() => handleSlotSelect(slot)}\n                        className={`p-3 rounded-lg border text-center transition-colors ${\n                          isSelected \n                            ? 'text-white border-transparent' \n                            : 'hover:border-blue-500 hover:bg-blue-50'\n                        }`}\n                        style={isSelected ? { backgroundColor: primaryColor } : {}}\n                      >\n                        {time}\n                      </button>\n                    )\n                  })}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Step: Enter Details */}\n          {step === 'form' && selectedSlot && (\n            <div className=\"p-6\">\n              <button\n                onClick={() => setStep('time')}\n                className=\"text-sm text-gray-500 hover:text-gray-700 mb-4\"\n              >\n                <i className=\"fas fa-arrow-left mr-1\"></i> Back\n              </button>\n\n              {/* Selected slot summary */}\n              <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"w-12 h-12 rounded-lg flex items-center justify-center text-white\"\n                       style={{ backgroundColor: primaryColor }}>\n                    <i className=\"far fa-calendar-check text-xl\"></i>\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-gray-900\">\n                      {selectedDate?.toLocaleDateString('en-US', { \n                        weekday: 'long', \n                        month: 'long', \n                        day: 'numeric',\n                        year: 'numeric'\n                      })}\n                    </div>\n                    <div className=\"text-gray-600\">\n                      {new Date(selectedSlot.utcStart).toLocaleTimeString('en-US', {\n                        hour: 'numeric',\n                        minute: '2-digit',\n                        hour12: true\n                      })} - {new Date(selectedSlot.utcEnd).toLocaleTimeString('en-US', {\n                        hour: 'numeric',\n                        minute: '2-digit',\n                        hour12: true\n                      })}\n                      {selectedType && ` Â· ${selectedType.durationMinutes} min`}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Enter Your Details</h2>\n\n              {error && (\n                <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 text-red-700 text-sm\">\n                  {error}\n                </div>\n              )}\n\n              <form onSubmit={handleBooking} className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Name <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.name}\n                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent\"\n                    style={{ '--tw-ring-color': primaryColor } as any}\n                    placeholder=\"Your full name\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Email <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent\"\n                    style={{ '--tw-ring-color': primaryColor } as any}\n                    placeholder=\"your@email.com\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Phone\n                  </label>\n                  <input\n                    type=\"tel\"\n                    value={formData.phone}\n                    onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent\"\n                    style={{ '--tw-ring-color': primaryColor } as any}\n                    placeholder=\"+1 (555) 000-0000\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Notes (optional)\n                  </label>\n                  <textarea\n                    value={formData.notes}\n                    onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent\"\n                    style={{ '--tw-ring-color': primaryColor } as any}\n                    rows={3}\n                    placeholder=\"Any additional information...\"\n                  />\n                </div>\n\n                {/* Add Guests Section - Only show if calendar allows guests */}\n                {calendar.allowGuests && (\n                  <div className=\"border-t pt-4 mt-4\">\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <div>\n                        <h3 className=\"text-sm font-medium text-gray-700\">Additional Guests</h3>\n                        <p className=\"text-xs text-gray-500\">\n                          Invite others to this appointment (max {calendar.maxGuests || 5} guests)\n                        </p>\n                      </div>\n                      {formData.guests.length < (calendar.maxGuests || 5) && !showAddGuestForm && (\n                        <button\n                          type=\"button\"\n                          onClick={() => setShowAddGuestForm(true)}\n                          className=\"text-sm font-medium hover:opacity-80\"\n                          style={{ color: primaryColor }}\n                        >\n                          <i className=\"fas fa-plus mr-1\"></i> Add Guest\n                        </button>\n                      )}\n                    </div>\n\n                    {/* Guest List */}\n                    {formData.guests.length > 0 && (\n                      <div className=\"space-y-2 mb-4\">\n                        {formData.guests.map((guest, index) => (\n                          <div \n                            key={index} \n                            className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\n                          >\n                            <div>\n                              <div className=\"font-medium text-sm text-gray-900\">\n                                {guest.firstName} {guest.lastName}\n                              </div>\n                              <div className=\"text-xs text-gray-500\">{guest.email}</div>\n                              {guest.phone && (\n                                <div className=\"text-xs text-gray-400\">{guest.phone}</div>\n                              )}\n                            </div>\n                            <button\n                              type=\"button\"\n                              onClick={() => handleRemoveGuest(index)}\n                              className=\"text-red-500 hover:text-red-700 p-1\"\n                            >\n                              <i className=\"fas fa-times\"></i>\n                            </button>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n\n                    {/* Add Guest Form */}\n                    {showAddGuestForm && (\n                      <div className=\"border border-gray-200 rounded-lg p-4 bg-gray-50 space-y-3\">\n                        <div className=\"grid grid-cols-2 gap-3\">\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-700 mb-1\">\n                              First Name <span className=\"text-red-500\">*</span>\n                            </label>\n                            <input\n                              type=\"text\"\n                              value={newGuest.firstName}\n                              onChange={(e) => setNewGuest({ ...newGuest, firstName: e.target.value })}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent\"\n                              style={{ '--tw-ring-color': primaryColor } as any}\n                              placeholder=\"First name\"\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-xs font-medium text-gray-700 mb-1\">\n                              Last Name <span className=\"text-red-500\">*</span>\n                            </label>\n                            <input\n                              type=\"text\"\n                              value={newGuest.lastName}\n                              onChange={(e) => setNewGuest({ ...newGuest, lastName: e.target.value })}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent\"\n                              style={{ '--tw-ring-color': primaryColor } as any}\n                              placeholder=\"Last name\"\n                            />\n                          </div>\n                        </div>\n                        <div>\n                          <label className=\"block text-xs font-medium text-gray-700 mb-1\">\n                            Email <span className=\"text-red-500\">*</span>\n                          </label>\n                          <input\n                            type=\"email\"\n                            value={newGuest.email}\n                            onChange={(e) => setNewGuest({ ...newGuest, email: e.target.value })}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent\"\n                            style={{ '--tw-ring-color': primaryColor } as any}\n                            placeholder=\"guest@email.com\"\n                          />\n                        </div>\n                        <div>\n                          <label className=\"block text-xs font-medium text-gray-700 mb-1\">\n                            Phone\n                          </label>\n                          <input\n                            type=\"tel\"\n                            value={newGuest.phone}\n                            onChange={(e) => setNewGuest({ ...newGuest, phone: e.target.value })}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent\"\n                            style={{ '--tw-ring-color': primaryColor } as any}\n                            placeholder=\"+1 (555) 000-0000\"\n                          />\n                        </div>\n                        <div className=\"flex gap-2 pt-2\">\n                          <button\n                            type=\"button\"\n                            onClick={() => {\n                              setShowAddGuestForm(false)\n                              setNewGuest({ firstName: '', lastName: '', email: '', phone: '' })\n                            }}\n                            className=\"flex-1 py-2 border border-gray-300 rounded-lg text-sm text-gray-600 hover:bg-gray-100\"\n                          >\n                            Cancel\n                          </button>\n                          <button\n                            type=\"button\"\n                            onClick={handleAddGuest}\n                            disabled={!newGuest.firstName || !newGuest.lastName || !newGuest.email}\n                            className=\"flex-1 py-2 rounded-lg text-sm text-white disabled:opacity-50\"\n                            style={{ backgroundColor: primaryColor }}\n                          >\n                            Add Guest\n                          </button>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                <button\n                  type=\"submit\"\n                  disabled={submitting || !formData.name || !formData.email}\n                  className=\"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50\"\n                  style={{ backgroundColor: primaryColor }}\n                >\n                  {submitting ? (\n                    <span><i className=\"fas fa-spinner fa-spin mr-2\"></i>Booking...</span>\n                  ) : (\n                    <>\n                      Confirm Booking\n                      {formData.guests.length > 0 && (\n                        <span className=\"ml-1\">({formData.guests.length + 1} attendees)</span>\n                      )}\n                    </>\n                  )}\n                </button>\n              </form>\n            </div>\n          )}\n\n          {/* Step: Confirmation */}\n          {step === 'confirm' && bookingResult && (\n            <div className=\"p-6 text-center\">\n              <div \n                className=\"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-white\"\n                style={{ backgroundColor: '#10B981' }}\n              >\n                <i className=\"fas fa-check text-3xl\"></i>\n              </div>\n              \n              <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Booking Confirmed!</h2>\n              <p className=\"text-gray-600 mb-6\">\n                A confirmation email has been sent to {formData.email}\n              </p>\n\n              <div className=\"bg-gray-50 rounded-lg p-6 text-left mb-6\">\n                <h3 className=\"font-semibold text-gray-900 mb-3\">Appointment Details</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-500\">Date</span>\n                    <span className=\"text-gray-900\">\n                      {new Date(bookingResult.startTime).toLocaleDateString('en-US', {\n                        weekday: 'long',\n                        month: 'long',\n                        day: 'numeric',\n                        year: 'numeric'\n                      })}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-500\">Time</span>\n                    <span className=\"text-gray-900\">\n                      {new Date(bookingResult.startTime).toLocaleTimeString('en-US', {\n                        hour: 'numeric',\n                        minute: '2-digit',\n                        hour12: true\n                      })} - {new Date(bookingResult.endTime).toLocaleTimeString('en-US', {\n                        hour: 'numeric',\n                        minute: '2-digit',\n                        hour12: true\n                      })}\n                    </span>\n                  </div>\n                  {selectedType && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-500\">Service</span>\n                      <span className=\"text-gray-900\">{selectedType.name}</span>\n                    </div>\n                  )}\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-500\">Status</span>\n                    <span className=\"px-2 py-0.5 bg-green-100 text-green-700 rounded text-xs font-medium\">\n                      {bookingResult.status}\n                    </span>\n                  </div>\n                  {formData.guests.length > 0 && (\n                    <div className=\"pt-3 mt-3 border-t\">\n                      <span className=\"text-gray-500 block mb-2\">Additional Guests</span>\n                      <div className=\"space-y-1\">\n                        {formData.guests.map((guest, idx) => (\n                          <div key={idx} className=\"text-gray-900 text-sm flex items-center gap-2\">\n                            <i className=\"fas fa-user-plus text-gray-400 text-xs\"></i>\n                            {guest.firstName} {guest.lastName} ({guest.email})\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Add to Calendar */}\n              {bookingResult.calendarInvite && (\n                <div className=\"mb-6\">\n                  <p className=\"text-sm text-gray-500 mb-3\">Add to your calendar</p>\n                  <div className=\"flex gap-2 justify-center\">\n                    <a\n                      href={bookingResult.calendarInvite.google}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 text-sm\"\n                    >\n                      <i className=\"fab fa-google text-red-500\"></i>\n                      Google\n                    </a>\n                    <a\n                      href={bookingResult.calendarInvite.outlook}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 text-sm\"\n                    >\n                      <i className=\"fab fa-microsoft text-blue-500\"></i>\n                      Outlook\n                    </a>\n                    <a\n                      href={bookingResult.calendarInvite.icsUrl}\n                      className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 text-sm\"\n                    >\n                      <i className=\"far fa-calendar-plus text-gray-500\"></i>\n                      iCal\n                    </a>\n                  </div>\n                </div>\n              )}\n\n              {/* Reschedule/Cancel Links */}\n              <div className=\"text-sm text-gray-500\">\n                <p>Need to make changes?</p>\n                <div className=\"flex gap-4 justify-center mt-2\">\n                  {bookingResult.rescheduleUrl && (\n                    <a href={bookingResult.rescheduleUrl} className=\"text-blue-600 hover:underline\">\n                      Reschedule\n                    </a>\n                  )}\n                  {bookingResult.cancelUrl && (\n                    <a href={bookingResult.cancelUrl} className=\"text-red-600 hover:underline\">\n                      Cancel\n                    </a>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Footer */}\n        {calendar.customBranding?.showPoweredBy !== false && (\n          <div className=\"text-center mt-6 text-sm text-gray-400\">\n            Powered by <span className=\"font-medium\">Risivo</span>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n// ==========================================\n// BOOKING CALENDAR COMPONENT\n// ==========================================\n\nfunction BookingCalendar({\n  month,\n  onMonthChange,\n  daysSummary,\n  selectedDate,\n  onDateSelect,\n  primaryColor\n}: {\n  month: Date\n  onMonthChange: (date: Date) => void\n  daysSummary: DaySummary[]\n  selectedDate: Date | null\n  onDateSelect: (date: Date) => void\n  primaryColor: string\n}) {\n  const getDaysInMonth = () => {\n    const year = month.getFullYear()\n    const monthNum = month.getMonth()\n    const firstDay = new Date(year, monthNum, 1)\n    const lastDay = new Date(year, monthNum + 1, 0)\n    const daysInMonth = lastDay.getDate()\n    const startDayOfWeek = firstDay.getDay()\n    \n    const days: { date: Date; isCurrentMonth: boolean }[] = []\n    \n    // Add empty cells for days before month starts\n    for (let i = 0; i < startDayOfWeek; i++) {\n      days.push({\n        date: new Date(year, monthNum, -startDayOfWeek + i + 1),\n        isCurrentMonth: false\n      })\n    }\n    \n    // Add days of month\n    for (let i = 1; i <= daysInMonth; i++) {\n      days.push({\n        date: new Date(year, monthNum, i),\n        isCurrentMonth: true\n      })\n    }\n    \n    // Add days from next month to complete grid\n    const remaining = 42 - days.length\n    for (let i = 1; i <= remaining; i++) {\n      days.push({\n        date: new Date(year, monthNum + 1, i),\n        isCurrentMonth: false\n      })\n    }\n    \n    return days\n  }\n\n  const days = getDaysInMonth()\n  const today = new Date()\n  today.setHours(0, 0, 0, 0)\n\n  const getAvailabilityForDate = (date: Date): DaySummary | undefined => {\n    const dateStr = date.toISOString().split('T')[0]\n    return daysSummary.find(d => d.date === dateStr)\n  }\n\n  return (\n    <div>\n      {/* Month Navigation */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <button\n          onClick={() => onMonthChange(new Date(month.getFullYear(), month.getMonth() - 1))}\n          className=\"p-2 hover:bg-gray-100 rounded-lg\"\n        >\n          <i className=\"fas fa-chevron-left text-gray-500\"></i>\n        </button>\n        <h3 className=\"text-lg font-medium text-gray-900\">\n          {month.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}\n        </h3>\n        <button\n          onClick={() => onMonthChange(new Date(month.getFullYear(), month.getMonth() + 1))}\n          className=\"p-2 hover:bg-gray-100 rounded-lg\"\n        >\n          <i className=\"fas fa-chevron-right text-gray-500\"></i>\n        </button>\n      </div>\n\n      {/* Weekday Headers */}\n      <div className=\"grid grid-cols-7 mb-2\">\n        {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (\n          <div key={day} className=\"text-center text-sm font-medium text-gray-500 py-2\">\n            {day}\n          </div>\n        ))}\n      </div>\n\n      {/* Calendar Grid */}\n      <div className=\"grid grid-cols-7 gap-1\">\n        {days.map((day, i) => {\n          const isPast = day.date < today\n          const isSelected = selectedDate?.toDateString() === day.date.toDateString()\n          const isToday = day.date.toDateString() === today.toDateString()\n          const availability = getAvailabilityForDate(day.date)\n          const hasSlots = availability && availability.availableSlots > 0\n          const isDisabled = isPast || !day.isCurrentMonth || !hasSlots\n\n          return (\n            <button\n              key={i}\n              onClick={() => !isDisabled && onDateSelect(day.date)}\n              disabled={isDisabled}\n              className={`\n                aspect-square p-2 rounded-lg flex flex-col items-center justify-center\n                ${isDisabled ? 'text-gray-300 cursor-not-allowed' : 'hover:bg-gray-100 cursor-pointer'}\n                ${isSelected ? 'text-white' : ''}\n                ${!day.isCurrentMonth ? 'text-gray-300' : ''}\n              `}\n              style={isSelected ? { backgroundColor: primaryColor } : {}}\n            >\n              <span className={`text-sm ${isToday && !isSelected ? 'font-bold' : ''}`}>\n                {day.date.getDate()}\n              </span>\n              {hasSlots && !isSelected && day.isCurrentMonth && !isPast && (\n                <div className=\"flex gap-0.5 mt-1\">\n                  <span \n                    className=\"w-1.5 h-1.5 rounded-full\"\n                    style={{ \n                      backgroundColor: availability?.status === 'many' \n                        ? '#10B981' \n                        : availability?.status === 'few' \n                          ? '#F59E0B' \n                          : '#D1D5DB'\n                    }}\n                  ></span>\n                </div>\n              )}\n            </button>\n          )\n        })}\n      </div>\n\n      {/* Legend */}\n      <div className=\"flex items-center gap-4 justify-center mt-4 text-xs text-gray-500\">\n        <div className=\"flex items-center gap-1\">\n          <span className=\"w-2 h-2 rounded-full bg-green-500\"></span>\n          <span>Available</span>\n        </div>\n        <div className=\"flex items-center gap-1\">\n          <span className=\"w-2 h-2 rounded-full bg-yellow-500\"></span>\n          <span>Limited</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// ==========================================\n// LOADING COMPONENT\n// ==========================================\n\nfunction BookingPageLoading() {\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n      <div className=\"text-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n        <p className=\"text-gray-600\">Loading booking page...</p>\n      </div>\n    </div>\n  )\n}\n\n// ==========================================\n// MAIN EXPORT WITH SUSPENSE\n// ==========================================\n\nexport default function BookingPage() {\n  return (\n    <Suspense fallback={<BookingPageLoading />}>\n      <BookingPageContent />\n    </Suspense>\n  )\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAoEA,SAAS,IAEP,IAAM,EADS,AACF,CADE,EAAA,EAAA,SAAA,AAAS,IACJ,IAAI,CAGlB,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAsB,MACxD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAyB,MACnE,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,MACxD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkB,MAC5D,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAGtC,MACJ,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,CACpD,KAAM,GACN,MAAO,GACP,MAAO,GACP,MAAO,GACP,OAAQ,EAAE,AACZ,GACM,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnD,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAQ,CAAE,UAAW,GAAI,SAAU,GAAI,MAAO,GAAI,MAAO,EAAG,GAC9F,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgD,QAC1E,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACvC,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MAClD,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAG5C,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAAI,MAG/C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,CAAC,EAAK,EAGT,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,GAAY,GACd,GAEJ,EAAG,CAAC,EAAU,AAHe,EAGJ,EAAa,EAEtC,IAAM,EAAe,UACnB,GAAI,CACF,GAAW,GACX,IAAM,EAAM,MAAM,MAAM,CAAC,yBAAyB,EAAE,EAAA,CAAM,EACpD,EAAO,MAAM,EAAI,IAAI,GAEvB,EAAK,OAAO,EACd,AADgB,EACJ,EAAK,IAAI,EAEjB,EAAK,IAAI,CAAC,gBAAgB,EAAE,SAAW,GAAG,AAC5C,EAAgB,EAAK,IAAI,CAAC,gBAAgB,CAAC,EAAE,EAC7C,EAAQ,SACE,AAAD,EAAM,IAAI,CAAC,gBAAgB,EAAE,QAAQ,AAE9C,EAAQ,SAGV,EAAS,qBAEb,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,0BAA2B,GACzC,EAAS,8BACX,QAAU,CACR,GAAW,EACb,CACF,EAEM,EAAmB,UACvB,GAAK,CAAD,CAEJ,GAAI,CACF,IAHa,AAGP,EAAY,IAAI,KAAK,EAAU,WAAW,GAAI,EAAU,QAAQ,GAAI,GACpE,EAAU,IAAI,KAAK,EAAU,WAAW,GAAI,EAAU,QAAQ,GAAK,EAAG,GAEtE,EAAe,KAAK,cAAc,GAAG,eAAe,GAAG,QAAQ,CAC/D,EAAY,EAAe,CAAC,mBAAmB,EAAE,EAAa,EAAE,CAAA,CAAE,CAAG,GAErE,EAAM,MAAM,MAChB,CAAC,kBAAkB,EAAE,EAAS,EAAE,CAC/B,AADgC,cAAc,UACpC,EAAE,EAAU,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,AAClD,CADmD,CAAC,GACrD,IAAS,EAAE,EAAQ,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,AAC9C,CAD+C,CAAC,GACjD,KAAU,EAAE,EAAA,EAAe,EAAA,CAAW,AAHU,EAM5C,CALJ,CAKW,MAAM,EAAI,IAAI,GACvB,EAAK,OAAO,EAAE,AAChB,EAAgB,EAAK,IAAI,CAE7B,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,8BAA+B,EAC/C,CACF,EAgCM,EAAgB,MAAO,IAE3B,GADA,EAAE,cAAc,GACZ,AAAC,GAAa,GAAiB,EAAS,IAAI,AAA/B,EAAoC,EAAD,AAAU,GAA5B,EAAiC,EAAE,AAErE,GAAc,GACd,EAAS,MAET,GAAI,CAEF,IAAM,EAAmB,EAAS,MAAM,CAAC,GAAG,CAAC,IAAM,AAAD,CAChD,KAAM,CAAA,EAAG,EAAE,SAAS,CAAC,CAAC,EAAE,EAAE,QAAQ,CAAA,CAAE,CACpC,MAAO,EAAE,KAAK,CACd,MAAO,EAAE,KAAK,OAAI,CACpB,CAAC,GAEK,EAAM,MAAM,MAAM,uBAAwB,CAC9C,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACnB,WAAY,EAAS,EAAE,CACvB,kBAAmB,GAAc,GACjC,UAAW,EAAa,QAAQ,CAChC,SAAU,KAAK,cAAc,GAAG,eAAe,GAAG,QAAQ,CAC1D,QAAS,CACP,KAAM,EAAS,IAAI,CACnB,MAAO,EAAS,KAAK,CACrB,MAAO,EAAS,KAAK,AACvB,EACA,iBAAkB,EAAiB,MAAM,CAAG,EAAI,OAAmB,EACnE,MAAO,EAAS,KAAK,AACvB,EACF,GAEM,EAAO,MAAM,EAAI,IAAI,GACvB,EAAK,OAAO,EAAE,AAChB,EAAiB,EAAK,IAAI,EAC1B,EAAQ,YAER,EAAS,EAAK,KAAK,EAAI,6BAE3B,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,6BAA8B,GAC5C,EAAS,gDACX,QAAU,CACR,GAAc,EAChB,EACF,EAGM,EAAuB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACnC,GAAI,CAAC,GAAgB,CAAC,EAAc,MAAO,EAAE,CAC7C,IAAM,EAAU,EAAa,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CACxD,OAAO,EAAa,KAAK,CAAC,MAAM,CAAC,GAC/B,EAAK,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,GAAK,GAAW,EAAK,SAAS,CAE7D,EAAG,CAAC,EAAc,EAAa,EAG/B,GAAI,EACF,MACE,CAAA,AAFS,EAET,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gFACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,iCAOrC,GAAI,GAAS,CAAC,EACZ,MACE,CAAA,CAFoB,CAEpB,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2FACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wDAEf,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gDAAuC,2BACrD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAiB,SAMtC,GAAI,CAAC,EAAU,OAAO,KAEtB,IAAM,EAAe,EAAS,cAAc,EAAE,cAAgB,UAE9D,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,yBACV,MAAO,CAAE,gBAAiB,EAAS,cAAc,EAAE,iBAAmB,SAAU,WAEhF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,EAAS,cAAc,EAAE,SAAW,EAAS,SAAS,CACrD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAS,cAAc,EAAE,SAAW,EAAS,SAAS,CAC3D,IAAK,EAAS,IAAI,CAClB,UAAU,wCAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,wFACV,MAAO,CAAE,gBAAiB,CAAa,WAEtC,EAAS,IAAI,CAAC,MAAM,CAAC,KAG1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CACC,UAAU,qBACV,MAAO,CAAE,MAAO,EAAS,cAAc,EAAE,WAAa,SAAU,WAE/D,EAAS,IAAI,GAEf,EAAS,WAAW,EACnB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAsB,EAAS,WAAW,WAO/D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,UAAU,CAAC,GAAG,CAAC,CAAC,EAAG,KAQnD,IAAM,EAAW,IAAS,EACpB,EAAS,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,UAAU,CAAC,OAAO,CAAC,GAAQ,QAG3E,AAAU,SAAN,CAAgB,GAAC,CAAC,EAAS,gBAAgB,EAAE,QAAU,EAAS,gBAAgB,CAAC,MAAM,GAAI,CAAC,CACvF,EAD0F,GAKjG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAY,UAAU,8BACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC,0EAA0E,EACpF,EACI,aACA,EACE,8BACA,4BAAA,CACN,CACF,MAAO,EAAW,CAAE,gBAAiB,CAAa,EAAI,CAAC,WAEtD,EAAS,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iBAAsB,EAAI,IAEnD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,aAAa,EAAE,EAAW,4BAA8B,gBAAA,CAAiB,UA7B5E,AA8BZ,CA7BL,KAAM,UACN,KAAM,OACN,KAAM,OACN,KAAM,UACN,QAAS,SACX,CAwBiB,CAAC,EAA6B,GAE1C,EAAI,GAAK,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCAhBjB,EAmBd,KAIF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iFAGH,SAAT,GAAmB,EAAS,gBAAgB,EAAI,EAAS,gBAAgB,CAAC,MAAM,CAAG,GAClF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,qBACzD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAS,gBAAgB,CAAC,GAAG,CAAC,GAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,KACP,EAAgB,GAChB,EAAQ,OACV,EACA,UAAU,kGACV,MAAO,CAAE,gBAAiB,CAAa,WAEvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qCAA6B,EAAK,IAAI,GACnD,EAAK,WAAW,EACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA8B,EAAK,WAAW,GAE7D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sBAAyB,EAAK,eAAe,CAAC,UAChE,EAAK,KAAK,EACT,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4BAA+B,EAAK,QAAQ,CAAC,IAAE,EAAK,KAAK,UAIlF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CArBV,EAAK,EAAE,QA8BZ,SAAT,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACZ,EAAS,gBAAgB,EAAI,EAAS,gBAAgB,CAAC,MAAM,CAAG,GAC/D,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,QACvB,UAAU,sDAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2BAA6B,WAG9C,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,gDAAsC,gBAEjD,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,mDAAyC,OAClD,EAAa,IAAI,OAI5B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAA,MAGH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,MAAO,EACP,cAAe,EACf,YAAa,GAAc,aAAe,EAAE,CAC5C,aAAc,EACd,aAvQY,AAAD,CAuQG,GAtQ1B,EAAgB,GAChB,EAAgB,MAChB,EAAQ,OACV,EAoQc,aAAc,OAMV,SAAT,GAAmB,GAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,QACvB,UAAU,2DAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2BAA6B,uBAG5C,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,qDAA2C,gBAEvD,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,mDAAyC,MACnD,EAAa,kBAAkB,CAAC,QAAS,CAAE,QAAS,OAAQ,MAAO,OAAQ,IAAK,SAAU,SAIjE,IAAhC,EAAqB,MAAM,CAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,oCAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,QACvB,UAAU,6CACV,MAAO,CAAE,MAAO,CAAa,WAC9B,+BAKH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAqB,GAAG,CAAC,IACxB,IAAM,EAAO,IAAI,KAAK,EAAK,QAAQ,EAAE,kBAAkB,CAAC,QAAS,CAC/D,KAAM,UACN,OAAQ,UACR,QAAQ,CACV,GACM,EAAa,GAAc,WAAa,EAAK,QAAQ,CAE3D,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,CAhTnC,EAgToD,GA/SpD,EAAQ,SAgTY,AAjTJ,UAiTe,CAAC,oDAAoD,EAC9D,EACI,gCACA,yCAAA,CACJ,CACF,MAAO,EAAa,CAAE,gBAAiB,CAAa,EAAI,CAAC,WAExD,GATI,EAAK,QAAQ,CAYxB,QAOE,SAAT,GAAmB,GAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAQ,QACvB,UAAU,2DAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2BAA6B,WAI5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mEACV,MAAO,CAAE,gBAAiB,CAAa,WAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCAEf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,GAAc,mBAAmB,QAAS,CACzC,QAAS,OACT,MAAO,OACP,IAAK,UACL,KAAM,SACR,KAEF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACZ,IAAI,KAAK,EAAa,QAAQ,EAAE,kBAAkB,CAAC,QAAS,CAC3D,KAAM,UACN,OAAQ,UACR,OAAQ,EACV,GAAG,MAAI,IAAI,KAAK,EAAa,MAAM,EAAE,kBAAkB,CAAC,QAAS,CAC/D,KAAM,UACN,OAAQ,UACR,OAAQ,EACV,GACC,GAAgB,CAAC,MAAG,EAAE,EAAa,eAAe,CAAC,IAAI,CAAC,YAMjE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,uBAExD,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oFACZ,IAIL,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAe,UAAU,sBACvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,yDAA+C,QACzD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAEtC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EAAS,IAAI,CACpB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,KAAM,EAAE,MAAM,CAAC,KAAM,AAAD,GAChE,UAAU,2FACV,MAAO,CAAE,kBAAmB,CAAa,EACzC,YAAY,iBACZ,QAAQ,CAAA,CAAA,OAIZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,yDAA+C,SACxD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,MAAO,EAAS,KAAK,CACrB,SAAW,AAAD,GAAO,EAAY,CAAE,GAAG,CAAQ,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,AAAC,GAClE,UAAU,2FACV,MAAO,CAAE,kBAAmB,CAAa,EACzC,YAAY,iBACZ,QAAQ,CAAA,CAAA,OAIZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,UAGhE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,MACL,MAAO,EAAS,KAAK,CACrB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,AAAC,GAClE,UAAU,2FACV,MAAO,CAAE,kBAAmB,CAAa,EACzC,YAAY,yBAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,qBAGhE,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAO,EAAS,KAAK,CACrB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,AAAC,GAClE,UAAU,2FACV,MAAO,CAAE,kBAAmB,CAAa,EACzC,KAAM,EACN,YAAY,qCAKf,EAAS,WAAW,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,sBAClD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCAAwB,0CACK,EAAS,SAAS,EAAI,EAAE,iBAGnE,EAAS,MAAM,CAAC,MAAM,EAAI,CAAD,CAAU,SAAS,EAAI,CAAC,GAAK,CAAC,GACtD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,GAAoB,GACnC,UAAU,uCACV,MAAO,CAAE,MAAO,CAAa,YAE7B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qBAAuB,mBAMzC,EAAS,MAAM,CAAC,MAAM,CAAG,GACxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BACZ,EAAS,MAAM,CAAC,GAAG,CAAC,CAAC,EAAO,IAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,wEAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,EAAM,SAAS,CAAC,IAAE,EAAM,QAAQ,IAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAyB,EAAM,KAAK,GAClD,EAAM,KAAK,EACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAyB,EAAM,KAAK,MAGvD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,CAtczC,EAAY,CACV,GAAG,CAAQ,CACX,OAAQ,EAAS,MAAM,CAAC,MAAM,CAAC,CAAC,EAAG,IAAM,IAocgB,EApcV,AACjD,IAoc0B,UAAU,+CAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qBAjBV,MAyBZ,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,yDAA+C,cACnD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAE5C,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EAAS,SAAS,CACzB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,UAAW,EAAE,MAAM,CAAC,KAAK,AAAC,GACtE,UAAU,mGACV,MAAO,CAAE,kBAAmB,CAAa,EACzC,YAAY,kBAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,yDAA+C,aACpD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAE3C,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EAAS,QAAQ,CACxB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,SAAU,EAAE,MAAM,CAAC,KAAK,AAAC,GACrE,UAAU,mGACV,MAAO,CAAE,kBAAmB,CAAa,EACzC,YAAY,oBAIlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,yDAA+C,SACxD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,MAAO,EAAS,KAAK,CACrB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,AAAC,GAClE,UAAU,mGACV,MAAO,CAAE,kBAAmB,CAAa,EACzC,YAAY,uBAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,UAGhE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,MACL,MAAO,EAAS,KAAK,CACrB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,AAAC,GAClE,UAAU,mGACV,MAAO,CAAE,kBAAmB,CAAa,EACzC,YAAY,yBAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,KACP,GAAoB,GACpB,EAAY,CAAE,UAAW,GAAI,SAAU,GAAI,MAAO,GAAI,MAAO,EAAG,EAClE,EACA,UAAU,iGACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAniBH,CAmiBY,IAliB5B,EAAS,SAAS,EAAK,EAAD,AAAU,QAAQ,EAAK,EAAD,AAAU,KAAK,EAAE,CAGlE,EAAY,CACV,GAAG,CAAQ,CACX,OAAQ,IAAI,EAAS,MAAM,CAAE,CAAE,GAAG,CAAQ,AAAC,EAAE,AAC/C,GACA,EAAY,CAAE,UAAW,GAAI,SAAU,GAAI,MAAO,GAAI,MAAO,EAAG,GAChE,GAAoB,GACtB,EA0hB0B,SAAU,CAAC,EAAS,SAAS,EAAI,CAAC,EAAS,QAAQ,EAAI,CAAC,EAAS,KAAK,CACtE,UAAU,gEACV,MAAO,CAAE,gBAAiB,CAAa,WACxC,uBASX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,SAAU,GAAc,CAAC,EAAS,IAAI,EAAI,CAAC,EAAS,KAAK,CACzD,UAAU,oEACV,MAAO,CAAE,gBAAiB,CAAa,WAEtC,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gCAAkC,gBAErD,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAAE,kBAEC,EAAS,MAAM,CAAC,MAAM,CAAG,GACxB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,iBAAO,IAAE,EAAS,MAAM,CAAC,MAAM,CAAG,EAAE,4BAUjE,AAAS,eAAa,GACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,kFACV,MAAO,CAAE,gBAAiB,SAAU,WAEpC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4BAGf,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDAAwC,uBACtD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+BAAqB,yCACO,EAAS,KAAK,IAGvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,wBACjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,SAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBACb,IAAI,KAAK,EAAc,SAAS,EAAE,kBAAkB,CAAC,QAAS,CAC7D,QAAS,OACT,MAAO,OACP,IAAK,UACL,KAAM,SACR,QAGJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,SAChC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0BACb,IAAI,KAAK,EAAc,SAAS,EAAE,kBAAkB,CAAC,QAAS,CAC7D,KAAM,UACN,OAAQ,UACR,QAAQ,CACV,GAAG,MAAI,IAAI,KAAK,EAAc,OAAO,EAAE,kBAAkB,CAAC,QAAS,CACjE,KAAM,UACN,OAAQ,UACR,QAAQ,CACV,SAGH,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,YAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAiB,EAAa,IAAI,MAGtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,WAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+EACb,EAAc,MAAM,MAGxB,EAAS,MAAM,CAAC,MAAM,CAAG,GACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+BACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oCAA2B,sBAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAS,MAAM,CAAC,GAAG,CAAC,CAAC,EAAO,IAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAc,UAAU,0DACvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CACZ,EAAM,SAAS,CAAC,IAAE,EAAM,QAAQ,CAAC,KAAG,EAAM,KAAK,CAAC,MAFzC,eAYrB,EAAc,cAAc,EAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,yBAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CACC,KAAM,EAAc,cAAc,CAAC,MAAM,CACzC,OAAO,SACP,IAAI,sBACJ,UAAU,yGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAiC,YAGhD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CACC,KAAM,EAAc,cAAc,CAAC,OAAO,CAC1C,OAAO,SACP,IAAI,sBACJ,UAAU,yGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mCAAqC,aAGpD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CACC,KAAM,EAAc,cAAc,CAAC,MAAM,CACzC,UAAU,yGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAAyC,gBAQ9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,0BACH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACZ,EAAc,aAAa,EAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,EAAc,aAAa,CAAE,UAAU,yCAAgC,eAIjF,EAAc,SAAS,EACtB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,EAAc,SAAS,CAAE,UAAU,wCAA+B,uBAWtF,EAAS,cAAc,EAAE,iBAAkB,GAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAAyC,cAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,kBAMrD,CAMA,SAAS,EAAgB,OACvB,CAAK,eACL,CAAa,aACb,CAAW,cACX,CAAY,cACZ,CAAY,cACZ,CAAY,CAQb,EAuCC,IAAM,EAAO,CAtCU,KACrB,IAAM,EAAO,EAAM,WAAW,GACxB,EAAW,EAAM,QAAQ,GACzB,EAAW,IAAI,KAAK,EAAM,EAAU,GAEpC,EADU,AACI,IADA,KAAK,EAAM,EAAW,EAAG,GACjB,OAAO,GAC7B,EAAiB,EAAS,MAAM,GAEhC,EAAkD,EAAE,CAG1D,IAAK,IAAI,EAAI,EAAG,EAAI,EAAgB,IAAK,AACvC,EAAK,IAAI,CAAC,CACR,KAAM,IAAI,KAAK,EAAM,EAAU,CAAC,EAAiB,EAAI,GACrD,gBAAgB,CAClB,GAIF,IAAK,IAAI,EAAI,EAAG,GAAK,EAAa,IAAK,AACrC,EAAK,IAAI,CAAC,CACR,KAAM,IAAI,KAAK,EAAM,EAAU,GAC/B,gBAAgB,CAClB,GAIF,IAAM,EAAY,GAAK,EAAK,MAAM,CAClC,IAAK,IAAI,EAAI,EAAG,GAAK,EAAW,IAAK,AACnC,EAAK,IAAI,CAAC,CACR,KAAM,IAAI,KAAK,EAAM,EAAW,EAAG,GACnC,gBAAgB,CAClB,GAGF,OAAO,EACT,IAGM,EAAQ,IAAI,YAClB,EAAM,QAAQ,CAAC,EAAG,EAAG,EAAG,GAQtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAEC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAc,IAAI,KAAK,EAAM,WAAW,GAAI,EAAM,QAAQ,GAAK,IAC9E,UAAU,4CAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wCAEf,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CACX,EAAM,kBAAkB,CAAC,QAAS,CAAE,MAAO,OAAQ,KAAM,SAAU,KAEtE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAc,IAAI,KAAK,EAAM,WAAW,GAAI,EAAM,QAAQ,GAAK,IAC9E,UAAU,4CAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAKjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCACZ,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAM,CAAC,GAAG,CAAC,GACrD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAc,UAAU,8DACtB,GADO,MAOd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,EAAK,GAAG,CAAC,CAAC,EAAK,KACd,MAAM,EAAS,EAAI,IAAI,CAAG,EACpB,EAAa,GAAc,iBAAmB,EAAI,IAAI,CAAC,YAAY,GACnE,EAAU,EAAI,IAAI,CAAC,YAAY,KAAO,EAAM,YAAY,GACxD,GAxCN,EAAU,AAwCkC,EAAI,IAAI,CAxCrC,GAwCM,QAxCK,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CACzC,EAAY,IAAI,CAAC,GAAK,EAAE,IAAI,GAAK,IAwC5B,EAAW,GAAgB,EAAa,cAAc,CAAG,EACzD,EAAa,GAAU,CAAC,EAAI,cAAc,EAAI,CAAC,EAErD,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,IAAM,CAAC,GAAc,EAAa,EAAI,IAAI,EACnD,SAAU,EACV,UAAW,CAAC;;gBAEV,EAAE,EAAa,mCAAqC,mCAAmC;gBACvF,EAAE,EAAa,aAAe,GAAG;gBACjC,EAAE,CAAC,EAAI,cAAc,CAAG,gBAAkB,GAAG;cAC/C,CAAC,CACD,MAAO,EAAa,CAAE,gBAAiB,CAAa,EAAI,CAAC,YAEzD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,QAAQ,EAAE,GAAW,CAAC,EAAa,YAAc,GAAA,CAAI,UACpE,EAAI,IAAI,CAAC,OAAO,KAElB,GAAY,CAAC,GAAc,EAAI,cAAc,EAAI,CAAC,GACjD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAU,2BACV,MAAO,CACL,gBAAiB,GAAc,SAAW,OACtC,UACA,GAAc,SAAW,MACvB,UACA,SACR,QAxBD,EA8BX,KAIF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sCAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,iBAER,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,oBAKhB,CAMA,SAAS,IACP,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gFACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,gCAIrC,CAMe,SAAS,IACtB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,YACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,IAGP"}