module.exports=[34438,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e(){let a=(0,d.useParams)().slug,[e,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)({name:"",email:"",phone:"",notes:"",guests:[]}),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)({firstName:"",lastName:"",email:"",phone:""}),[v,w]=(0,c.useState)("type"),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(new Date);(0,c.useEffect)(()=>{H()},[a]),(0,c.useEffect)(()=>{e&&F&&I()},[e,F,h]);let H=async()=>{try{y(!0);let b=await fetch(`/api/v1/public/calendars/${a}`),c=await b.json();c.success?(g(c.data),c.data.appointmentTypes?.length===1?(i(c.data.appointmentTypes[0]),w("date")):c.data.appointmentTypes?.length||w("date")):E("Calendar not found")}catch(a){console.error("Error loading calendar:",a),E("Failed to load booking page")}finally{y(!1)}},I=async()=>{if(e)try{let a=new Date(F.getFullYear(),F.getMonth(),1),b=new Date(F.getFullYear(),F.getMonth()+1,0),c=Intl.DateTimeFormat().resolvedOptions().timeZone,d=h?`&appointmentTypeId=${h.id}`:"",f=await fetch(`/api/v1/calendars/${e.id}/availability?startDate=${a.toISOString().split("T")[0]}&endDate=${b.toISOString().split("T")[0]}&timezone=${c}${d}`),g=await f.json();g.success&&o(g.data)}catch(a){console.error("Error loading availability:",a)}},J=async a=>{if(a.preventDefault(),e&&l&&p.name&&p.email){A(!0),E(null);try{let a=p.guests.map(a=>({name:`${a.firstName} ${a.lastName}`,email:a.email,phone:a.phone||void 0})),b=await fetch("/api/v1/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({calendarId:e.id,appointmentTypeId:h?.id,startTime:l.utcStart,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,contact:{name:p.name,email:p.email,phone:p.phone},additionalGuests:a.length>0?a:void 0,notes:p.notes})}),c=await b.json();c.success?(C(c.data),w("confirm")):E(c.error||"Failed to book appointment")}catch(a){console.error("Error booking appointment:",a),E("Failed to book appointment. Please try again.")}finally{A(!1)}}},K=(0,c.useMemo)(()=>{if(!n||!j)return[];let a=j.toISOString().split("T")[0];return n.slots.filter(b=>b.utcStart.split("T")[0]===a&&b.available)},[n,j]);if(x)return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading booking page..."})]})});if(D&&!e)return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("i",{className:"fas fa-exclamation-triangle text-red-500 text-2xl"})}),(0,b.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Booking Page Not Found"}),(0,b.jsx)("p",{className:"text-gray-600",children:D})]})});if(!e)return null;let L=e.customBranding?.primaryColor||"#3B82F6";return(0,b.jsx)("div",{className:"min-h-screen py-8 px-4",style:{backgroundColor:e.customBranding?.backgroundColor||"#F9FAFB"},children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[e.customBranding?.logoUrl||e.avatarUrl?(0,b.jsx)("img",{src:e.customBranding?.logoUrl||e.avatarUrl,alt:e.name,className:"w-16 h-16 rounded-full object-cover"}):(0,b.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white text-2xl font-bold",style:{backgroundColor:L},children:e.name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",style:{color:e.customBranding?.textColor||"#111827"},children:e.name}),e.description&&(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:e.description})]})]})}),(0,b.jsx)("div",{className:"flex items-center justify-center mb-8",children:["type","date","time","form","confirm"].map((a,c)=>{let d=v===a,f=["type","date","time","form","confirm"].indexOf(v)>c;return"type"===a&&(!e.appointmentTypes?.length||e.appointmentTypes.length<=1)?null:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${d?"text-white":f?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,style:d?{backgroundColor:L}:{},children:f?(0,b.jsx)("i",{className:"fas fa-check"}):c+1}),(0,b.jsx)("span",{className:`ml-2 text-sm ${d?"font-medium text-gray-900":"text-gray-400"}`,children:{type:"Service",date:"Date",time:"Time",form:"Details",confirm:"Confirm"}[a]}),c<4&&(0,b.jsx)("div",{className:"w-8 h-px bg-gray-200 mx-3"})]},a)})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:["type"===v&&e.appointmentTypes&&e.appointmentTypes.length>1&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select a Service"}),(0,b.jsx)("div",{className:"space-y-3",children:e.appointmentTypes.map(a=>(0,b.jsx)("button",{onClick:()=>{i(a),w("date")},className:"w-full p-4 border rounded-lg text-left hover:border-blue-500 hover:bg-blue-50 transition-colors",style:{"--hover-color":L},children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-500",children:[(0,b.jsxs)("span",{children:[(0,b.jsx)("i",{className:"far fa-clock mr-1"}),a.durationMinutes," min"]}),a.price&&(0,b.jsxs)("span",{children:[(0,b.jsx)("i",{className:"far fa-dollar-sign mr-1"}),a.currency," ",a.price]})]})]}),(0,b.jsx)("i",{className:"fas fa-chevron-right text-gray-400"})]})},a.id))})]}),"date"===v&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[e.appointmentTypes&&e.appointmentTypes.length>1&&(0,b.jsxs)("button",{onClick:()=>w("type"),className:"text-sm text-gray-500 hover:text-gray-700",children:[(0,b.jsx)("i",{className:"fas fa-arrow-left mr-1"})," Back"]}),(0,b.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Select a Date",h&&(0,b.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["for ",h.name]})]}),(0,b.jsx)("div",{})]}),(0,b.jsx)(f,{month:F,onMonthChange:G,daysSummary:n?.daysSummary||[],selectedDate:j,onDateSelect:a=>{k(a),m(null),w("time")},primaryColor:L})]}),"time"===v&&j&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("button",{onClick:()=>w("date"),className:"text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,b.jsx)("i",{className:"fas fa-arrow-left mr-1"})," Back to calendar"]}),(0,b.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Select a Time",(0,b.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["on ",j.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]})]}),0===K.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("i",{className:"far fa-calendar-times text-4xl text-gray-300 mb-4"}),(0,b.jsx)("p",{className:"text-gray-500",children:"No available times on this date"}),(0,b.jsx)("button",{onClick:()=>w("date"),className:"mt-4 text-sm text-blue-600 hover:underline",style:{color:L},children:"Select a different date"})]}):(0,b.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:K.map(a=>{let c=new Date(a.utcStart).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),d=l?.utcStart===a.utcStart;return(0,b.jsx)("button",{onClick:()=>{m(a),w("form")},className:`p-3 rounded-lg border text-center transition-colors ${d?"text-white border-transparent":"hover:border-blue-500 hover:bg-blue-50"}`,style:d?{backgroundColor:L}:{},children:c},a.utcStart)})})]}),"form"===v&&l&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("button",{onClick:()=>w("time"),className:"text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,b.jsx)("i",{className:"fas fa-arrow-left mr-1"})," Back"]}),(0,b.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:L},children:(0,b.jsx)("i",{className:"far fa-calendar-check text-xl"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:j?.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),(0,b.jsxs)("div",{className:"text-gray-600",children:[new Date(l.utcStart).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," - ",new Date(l.utcEnd).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),h&&` \xb7 ${h.durationMinutes} min`]})]})]})}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enter Your Details"}),D&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 text-red-700 text-sm",children:D}),(0,b.jsxs)("form",{onSubmit:J,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:p.name,onChange:a=>q({...p,name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":L},placeholder:"Your full name",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"email",value:p.email,onChange:a=>q({...p,email:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":L},placeholder:"your@email.com",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,b.jsx)("input",{type:"tel",value:p.phone,onChange:a=>q({...p,phone:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":L},placeholder:"+1 (555) 000-0000"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),(0,b.jsx)("textarea",{value:p.notes,onChange:a=>q({...p,notes:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":L},rows:3,placeholder:"Any additional information..."})]}),e.allowGuests&&(0,b.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Additional Guests"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Invite others to this appointment (max ",e.maxGuests||5," guests)"]})]}),p.guests.length<(e.maxGuests||5)&&!r&&(0,b.jsxs)("button",{type:"button",onClick:()=>s(!0),className:"text-sm font-medium hover:opacity-80",style:{color:L},children:[(0,b.jsx)("i",{className:"fas fa-plus mr-1"})," Add Guest"]})]}),p.guests.length>0&&(0,b.jsx)("div",{className:"space-y-2 mb-4",children:p.guests.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-medium text-sm text-gray-900",children:[a.firstName," ",a.lastName]}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.email}),a.phone&&(0,b.jsx)("div",{className:"text-xs text-gray-400",children:a.phone})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{q({...p,guests:p.guests.filter((a,b)=>b!==c)})},className:"text-red-500 hover:text-red-700 p-1",children:(0,b.jsx)("i",{className:"fas fa-times"})})]},c))}),r&&(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["First Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:t.firstName,onChange:a=>u({...t,firstName:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":L},placeholder:"First name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Last Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:t.lastName,onChange:a=>u({...t,lastName:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":L},placeholder:"Last name"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Email ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"email",value:t.email,onChange:a=>u({...t,email:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":L},placeholder:"guest@email.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Phone"}),(0,b.jsx)("input",{type:"tel",value:t.phone,onChange:a=>u({...t,phone:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":L},placeholder:"+1 (555) 000-0000"})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{s(!1),u({firstName:"",lastName:"",email:"",phone:""})},className:"flex-1 py-2 border border-gray-300 rounded-lg text-sm text-gray-600 hover:bg-gray-100",children:"Cancel"}),(0,b.jsx)("button",{type:"button",onClick:()=>{t.firstName&&t.lastName&&t.email&&(q({...p,guests:[...p.guests,{...t}]}),u({firstName:"",lastName:"",email:"",phone:""}),s(!1))},disabled:!t.firstName||!t.lastName||!t.email,className:"flex-1 py-2 rounded-lg text-sm text-white disabled:opacity-50",style:{backgroundColor:L},children:"Add Guest"})]})]})]}),(0,b.jsx)("button",{type:"submit",disabled:z||!p.name||!p.email,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:L},children:z?(0,b.jsxs)("span",{children:[(0,b.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Booking..."]}):(0,b.jsxs)(b.Fragment,{children:["Confirm Booking",p.guests.length>0&&(0,b.jsxs)("span",{className:"ml-1",children:["(",p.guests.length+1," attendees)"]})]})})]})]}),"confirm"===v&&B&&(0,b.jsxs)("div",{className:"p-6 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-white",style:{backgroundColor:"#10B981"},children:(0,b.jsx)("i",{className:"fas fa-check text-3xl"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Confirmed!"}),(0,b.jsxs)("p",{className:"text-gray-600 mb-6",children:["A confirmation email has been sent to ",p.email]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-left mb-6",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Appointment Details"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Date"}),(0,b.jsx)("span",{className:"text-gray-900",children:new Date(B.startTime).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Time"}),(0,b.jsxs)("span",{className:"text-gray-900",children:[new Date(B.startTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," - ",new Date(B.endTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]}),h&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Service"}),(0,b.jsx)("span",{className:"text-gray-900",children:h.name})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Status"}),(0,b.jsx)("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded text-xs font-medium",children:B.status})]}),p.guests.length>0&&(0,b.jsxs)("div",{className:"pt-3 mt-3 border-t",children:[(0,b.jsx)("span",{className:"text-gray-500 block mb-2",children:"Additional Guests"}),(0,b.jsx)("div",{className:"space-y-1",children:p.guests.map((a,c)=>(0,b.jsxs)("div",{className:"text-gray-900 text-sm flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-user-plus text-gray-400 text-xs"}),a.firstName," ",a.lastName," (",a.email,")"]},c))})]})]})]}),B.calendarInvite&&(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Add to your calendar"}),(0,b.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,b.jsxs)("a",{href:B.calendarInvite.google,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 text-sm",children:[(0,b.jsx)("i",{className:"fab fa-google text-red-500"}),"Google"]}),(0,b.jsxs)("a",{href:B.calendarInvite.outlook,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 text-sm",children:[(0,b.jsx)("i",{className:"fab fa-microsoft text-blue-500"}),"Outlook"]}),(0,b.jsxs)("a",{href:B.calendarInvite.icsUrl,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 text-sm",children:[(0,b.jsx)("i",{className:"far fa-calendar-plus text-gray-500"}),"iCal"]})]})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,b.jsx)("p",{children:"Need to make changes?"}),(0,b.jsxs)("div",{className:"flex gap-4 justify-center mt-2",children:[B.rescheduleUrl&&(0,b.jsx)("a",{href:B.rescheduleUrl,className:"text-blue-600 hover:underline",children:"Reschedule"}),B.cancelUrl&&(0,b.jsx)("a",{href:B.cancelUrl,className:"text-red-600 hover:underline",children:"Cancel"})]})]})]})]}),e.customBranding?.showPoweredBy!==!1&&(0,b.jsxs)("div",{className:"text-center mt-6 text-sm text-gray-400",children:["Powered by ",(0,b.jsx)("span",{className:"font-medium",children:"Risivo"})]})]})})}function f({month:a,onMonthChange:c,daysSummary:d,selectedDate:e,onDateSelect:f,primaryColor:g}){let h=(()=>{let b=a.getFullYear(),c=a.getMonth(),d=new Date(b,c,1),e=new Date(b,c+1,0).getDate(),f=d.getDay(),g=[];for(let a=0;a<f;a++)g.push({date:new Date(b,c,-f+a+1),isCurrentMonth:!1});for(let a=1;a<=e;a++)g.push({date:new Date(b,c,a),isCurrentMonth:!0});let h=42-g.length;for(let a=1;a<=h;a++)g.push({date:new Date(b,c+1,a),isCurrentMonth:!1});return g})(),i=new Date;return i.setHours(0,0,0,0),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("button",{onClick:()=>c(new Date(a.getFullYear(),a.getMonth()-1)),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)("i",{className:"fas fa-chevron-left text-gray-500"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:a.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,b.jsx)("button",{onClick:()=>c(new Date(a.getFullYear(),a.getMonth()+1)),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)("i",{className:"fas fa-chevron-right text-gray-500"})})]}),(0,b.jsx)("div",{className:"grid grid-cols-7 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(a=>(0,b.jsx)("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:a},a))}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1",children:h.map((a,c)=>{let h,j=a.date<i,k=e?.toDateString()===a.date.toDateString(),l=a.date.toDateString()===i.toDateString(),m=(h=a.date.toISOString().split("T")[0],d.find(a=>a.date===h)),n=m&&m.availableSlots>0,o=j||!a.isCurrentMonth||!n;return(0,b.jsxs)("button",{onClick:()=>!o&&f(a.date),disabled:o,className:`
                aspect-square p-2 rounded-lg flex flex-col items-center justify-center
                ${o?"text-gray-300 cursor-not-allowed":"hover:bg-gray-100 cursor-pointer"}
                ${k?"text-white":""}
                ${!a.isCurrentMonth?"text-gray-300":""}
              `,style:k?{backgroundColor:g}:{},children:[(0,b.jsx)("span",{className:`text-sm ${l&&!k?"font-bold":""}`,children:a.date.getDate()}),n&&!k&&a.isCurrentMonth&&!j&&(0,b.jsx)("div",{className:"flex gap-0.5 mt-1",children:(0,b.jsx)("span",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:m?.status==="many"?"#10B981":m?.status==="few"?"#F59E0B":"#D1D5DB"}})})]},c)})}),(0,b.jsxs)("div",{className:"flex items-center gap-4 justify-center mt-4 text-xs text-gray-500",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,b.jsx)("span",{children:"Available"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),(0,b.jsx)("span",{children:"Limited"})]})]})]})}function g(){return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading booking page..."})]})})}function h(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(g,{}),children:(0,b.jsx)(e,{})})}a.s(["default",()=>h])}];

//# sourceMappingURL=app_book_%5Bslug%5D_page_tsx_504f9758._.js.map