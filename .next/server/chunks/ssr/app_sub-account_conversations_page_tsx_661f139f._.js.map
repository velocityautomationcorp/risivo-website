{"version":3,"sources":["../../../../app/sub-account/conversations/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport Link from 'next/link'\nimport { PageHeader } from '@/components/ui/PageHeader'\nimport {\n  Conversation,\n  Message,\n  MessageChannel,\n  InboxFilter,\n  InboxType,\n  CallStatus,\n  EmailThread,\n} from '@/lib/conversations/types'\nimport {\n  mockConversations,\n  mockMessages,\n  mockInternalChats,\n  mockTeamMembers,\n} from '@/lib/conversations/mock-data'\n\n// ==========================================\n// RISIVO CRM - Conversations Module\n// Unified Inbox for all communication channels\n// ==========================================\n\n// Tab Configuration - Shared across Conversations module\nconst CONVERSATION_TABS = [\n  { id: 'conversations', label: 'Conversations', href: '/sub-account/conversations' },\n  { id: 'power-dialer', label: 'Power Dialer', href: '/sub-account/conversations/power-dialer' },\n  { id: 'manual-actions', label: 'Manual Actions', href: '/sub-account/conversations/manual-actions' },\n  { id: 'message-templates', label: 'Message Templates', href: '/sub-account/conversations/message-templates' },\n  { id: 'smart-links', label: 'Smart Links', href: '/sub-account/conversations/smart-links' },\n]\n\n// Channel Icons\nconst channelIcons: Record<MessageChannel, { icon: string; color: string; label: string }> = {\n  sms: { icon: 'üí¨', color: 'text-blue-600', label: 'SMS' },\n  email: { icon: 'üìß', color: 'text-purple-600', label: 'Email' },\n  whatsapp: { icon: 'üü¢', color: 'text-green-600', label: 'WhatsApp' },\n  phone_inbound: { icon: 'üìû', color: 'text-blue-600', label: 'Inbound Call' },\n  phone_outbound: { icon: 'üì±', color: 'text-orange-600', label: 'Outbound Call' },\n  live_chat: { icon: 'üí≠', color: 'text-cyan-600', label: 'Live Chat' },\n  facebook_messenger: { icon: 'üîµ', color: 'text-blue-500', label: 'Facebook' },\n  instagram_dm: { icon: 'üì∏', color: 'text-pink-600', label: 'Instagram' },\n  linkedin_messenger: { icon: 'üîó', color: 'text-blue-700', label: 'LinkedIn' },\n  internal_chat: { icon: 'üë•', color: 'text-gray-600', label: 'Internal' },\n}\n\n// Email Viewer/Composer Component\ninterface AttachmentFile {\n  id: string\n  name: string\n  size: number\n  type: string\n  file: File\n}\n\ninterface EmailViewerProps {\n  email: Message\n  contact: { firstName: string; lastName: string; email?: string }\n  onClose: () => void\n  onReply: (replyData: { content: string; cc: string[]; bcc: string[]; attachments: AttachmentFile[] }) => void\n}\n\nfunction EmailViewer({ email, contact, onClose, onReply }: EmailViewerProps) {\n  const [showReplyForm, setShowReplyForm] = useState(false)\n  const [replyContent, setReplyContent] = useState('')\n  const [ccInput, setCcInput] = useState('')\n  const [bccInput, setBccInput] = useState('')\n  const [ccList, setCcList] = useState<string[]>([])\n  const [bccList, setBccList] = useState<string[]>([])\n  const [attachments, setAttachments] = useState<AttachmentFile[]>([])\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  const handleAddCc = () => {\n    if (ccInput.trim() && !ccList.includes(ccInput.trim())) {\n      setCcList([...ccList, ccInput.trim()])\n      setCcInput('')\n    }\n  }\n\n  const handleAddBcc = () => {\n    if (bccInput.trim() && !bccList.includes(bccInput.trim())) {\n      setBccList([...bccList, bccInput.trim()])\n      setBccInput('')\n    }\n  }\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files\n    if (files) {\n      const newAttachments: AttachmentFile[] = Array.from(files).map(file => ({\n        id: `attachment-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n        name: file.name,\n        size: file.size,\n        type: file.type,\n        file: file,\n      }))\n      setAttachments([...attachments, ...newAttachments])\n    }\n    // Reset input so same file can be selected again\n    if (fileInputRef.current) {\n      fileInputRef.current.value = ''\n    }\n  }\n\n  const handleRemoveAttachment = (attachmentId: string) => {\n    setAttachments(attachments.filter(a => a.id !== attachmentId))\n  }\n\n  const formatFileSize = (bytes: number): string => {\n    if (bytes < 1024) return `${bytes} B`\n    if (bytes < 1024 * 1024) return `${Math.round(bytes / 1024)} KB`\n    return `${(bytes / (1024 * 1024)).toFixed(1)} MB`\n  }\n\n  const handleSendReply = () => {\n    if (replyContent.trim()) {\n      onReply({ content: replyContent, cc: ccList, bcc: bccList, attachments })\n      setShowReplyForm(false)\n      setReplyContent('')\n      setCcList([])\n      setBccList([])\n      setAttachments([])\n    }\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200\">\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-2xl\">üìß</span>\n            <div>\n              <h2 className=\"text-lg font-semibold text-gray-900\">{email.subject || '(No Subject)'}</h2>\n              <p className=\"text-sm text-gray-500\">\n                {email.direction === 'inbound' ? 'From' : 'To'}: {contact.firstName} {contact.lastName}\n              </p>\n            </div>\n          </div>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n            <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* Email Info */}\n        <div className=\"px-6 py-3 bg-gray-50 border-b border-gray-200\">\n          <div className=\"flex flex-wrap gap-4 text-sm\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-gray-500\">From:</span>\n              <span className=\"text-gray-900\">{email.fromEmail || email.senderName}</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-gray-500\">To:</span>\n              <span className=\"text-gray-900\">{email.toEmail || 'me'}</span>\n            </div>\n            {email.cc && email.cc.length > 0 && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-gray-500\">CC:</span>\n                <span className=\"text-gray-900\">{email.cc.join(', ')}</span>\n              </div>\n            )}\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-gray-500\">Date:</span>\n              <span className=\"text-gray-900\">\n                {new Date(email.createdAt).toLocaleDateString('en-US', {\n                  month: 'short',\n                  day: 'numeric',\n                  year: 'numeric',\n                  hour: 'numeric',\n                  minute: '2-digit',\n                  hour12: true,\n                })}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Email Content */}\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          <div className=\"prose max-w-none\">\n            {email.htmlContent ? (\n              <div dangerouslySetInnerHTML={{ __html: email.htmlContent }} />\n            ) : (\n              <p className=\"whitespace-pre-wrap text-gray-700\">{email.content}</p>\n            )}\n          </div>\n\n          {/* Attachments */}\n          {email.attachments && email.attachments.length > 0 && (\n            <div className=\"mt-6 pt-4 border-t border-gray-200\">\n              <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Attachments ({email.attachments.length})</h4>\n              <div className=\"flex flex-wrap gap-2\">\n                {email.attachments.map(attachment => (\n                  <a\n                    key={attachment.id}\n                    href={attachment.url}\n                    className=\"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <svg className=\"w-4 h-4 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n                    </svg>\n                    <span className=\"text-gray-700\">{attachment.name}</span>\n                    <span className=\"text-gray-400 text-xs\">({Math.round(attachment.size / 1024)} KB)</span>\n                  </a>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Reply Form */}\n        {showReplyForm ? (\n          <div className=\"border-t border-gray-200 p-4\">\n            {/* CC/BCC Fields */}\n            <div className=\"space-y-3 mb-4\">\n              {/* CC */}\n              <div>\n                <div className=\"flex items-center gap-2 mb-1\">\n                  <label className=\"text-sm font-medium text-gray-700\">CC:</label>\n                  <div className=\"flex flex-wrap gap-1\">\n                    {ccList.map((email, idx) => (\n                      <span key={idx} className=\"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full text-xs\">\n                        {email}\n                        <button\n                          onClick={() => setCcList(ccList.filter((_, i) => i !== idx))}\n                          className=\"hover:text-blue-900\"\n                        >\n                          √ó\n                        </button>\n                      </span>\n                    ))}\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <input\n                    type=\"email\"\n                    value={ccInput}\n                    onChange={(e) => setCcInput(e.target.value)}\n                    onKeyDown={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddCc())}\n                    placeholder=\"Add CC email...\"\n                    className=\"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                  <button\n                    onClick={handleAddCc}\n                    className=\"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded\"\n                  >\n                    Add\n                  </button>\n                </div>\n              </div>\n\n              {/* BCC */}\n              <div>\n                <div className=\"flex items-center gap-2 mb-1\">\n                  <label className=\"text-sm font-medium text-gray-700\">BCC:</label>\n                  <div className=\"flex flex-wrap gap-1\">\n                    {bccList.map((email, idx) => (\n                      <span key={idx} className=\"inline-flex items-center gap-1 px-2 py-0.5 bg-gray-100 text-gray-700 rounded-full text-xs\">\n                        {email}\n                        <button\n                          onClick={() => setBccList(bccList.filter((_, i) => i !== idx))}\n                          className=\"hover:text-gray-900\"\n                        >\n                          √ó\n                        </button>\n                      </span>\n                    ))}\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <input\n                    type=\"email\"\n                    value={bccInput}\n                    onChange={(e) => setBccInput(e.target.value)}\n                    onKeyDown={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddBcc())}\n                    placeholder=\"Add BCC email...\"\n                    className=\"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                  <button\n                    onClick={handleAddBcc}\n                    className=\"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded\"\n                  >\n                    Add\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Reply Content */}\n            <textarea\n              value={replyContent}\n              onChange={(e) => setReplyContent(e.target.value)}\n              placeholder=\"Type your reply...\"\n              rows={4}\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n            />\n\n            {/* Attachments Preview */}\n            {attachments.length > 0 && (\n              <div className=\"mt-3 flex flex-wrap gap-2\">\n                {attachments.map(attachment => (\n                  <div\n                    key={attachment.id}\n                    className=\"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg text-sm group\"\n                  >\n                    <svg className=\"w-4 h-4 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n                    </svg>\n                    <span className=\"text-gray-700 max-w-[150px] truncate\">{attachment.name}</span>\n                    <span className=\"text-gray-400 text-xs\">({formatFileSize(attachment.size)})</span>\n                    <button\n                      onClick={() => handleRemoveAttachment(attachment.id)}\n                      className=\"ml-1 text-gray-400 hover:text-red-500\"\n                      title=\"Remove attachment\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            <div className=\"flex items-center justify-between mt-3\">\n              <div className=\"flex items-center gap-2\">\n                {/* Hidden file input */}\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  multiple\n                  onChange={handleFileSelect}\n                  className=\"hidden\"\n                  accept=\"*/*\"\n                />\n                <button\n                  onClick={() => fileInputRef.current?.click()}\n                  className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-500\"\n                  title=\"Attach file\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n                  </svg>\n                </button>\n                {attachments.length > 0 && (\n                  <span className=\"text-xs text-gray-500\">\n                    {attachments.length} file{attachments.length !== 1 ? 's' : ''} attached\n                  </span>\n                )}\n              </div>\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => setShowReplyForm(false)}\n                  className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSendReply}\n                  disabled={!replyContent.trim()}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Send Reply\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"flex items-center justify-between px-6 py-4 border-t border-gray-200\">\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setShowReplyForm(true)}\n                className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\" />\n                </svg>\n                Reply\n              </button>\n              <button className=\"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm\">\n                <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\n                </svg>\n                Forward\n              </button>\n            </div>\n            <button className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\" title=\"More options\">\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\n              </svg>\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default function ConversationsPage() {\n  // State\n  const [activeTab, setActiveTab] = useState('conversations')\n  const [inboxType, setInboxType] = useState<InboxType>('team')\n  const [inboxFilter, setInboxFilter] = useState<InboxFilter>('unread')\n  const [conversations, setConversations] = useState<Conversation[]>(mockConversations)\n  const [selectedConversation, setSelectedConversation] = useState<Conversation | null>(null)\n  const [messages, setMessages] = useState<Message[]>([])\n  const [searchQuery, setSearchQuery] = useState('')\n  const [newMessage, setNewMessage] = useState('')\n  const [selectedChannel, setSelectedChannel] = useState<MessageChannel>('sms')\n  const [showNewConversationModal, setShowNewConversationModal] = useState(false)\n  const [showEmailComposer, setShowEmailComposer] = useState(false)\n  const [selectedEmail, setSelectedEmail] = useState<Message | null>(null)\n  const [expandedInbox, setExpandedInbox] = useState<Record<string, boolean>>({\n    team: true,\n    my: false,\n    internal: false,\n  })\n  \n  const messagesEndRef = useRef<HTMLDivElement>(null)\n\n  // Load messages for selected conversation\n  useEffect(() => {\n    if (selectedConversation) {\n      // Filter messages for this conversation\n      const conversationMessages = mockMessages.filter(\n        m => m.conversationId === selectedConversation.id\n      )\n      setMessages(conversationMessages)\n    }\n  }, [selectedConversation])\n\n  // Auto-scroll to bottom of messages\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }, [messages])\n\n  // Filter conversations based on inbox type and filter\n  const filteredConversations = conversations.filter(conv => {\n    // Search filter\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase()\n      const contactName = `${conv.contact.firstName} ${conv.contact.lastName}`.toLowerCase()\n      const contactEmail = conv.contact.email?.toLowerCase() || ''\n      const contactPhone = conv.contact.phone?.toLowerCase() || ''\n      if (!contactName.includes(query) && !contactEmail.includes(query) && !contactPhone.includes(query)) {\n        return false\n      }\n    }\n\n    // Inbox type filter\n    if (inboxType === 'my' && conv.assignedTo !== 'user-001') return false\n    if (inboxType === 'internal' && !conv.channels.includes('internal_chat')) return false\n\n    // Inbox filter\n    if (inboxFilter === 'unread' && conv.unreadCount === 0) return false\n    if (inboxFilter === 'starred' && !conv.isStarred) return false\n\n    return true\n  })\n\n  // Format timestamp\n  const formatTimestamp = (timestamp: string) => {\n    const date = new Date(timestamp)\n    const now = new Date()\n    const diffDays = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60 * 24))\n    \n    if (diffDays === 0) {\n      return date.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true })\n    } else if (diffDays < 7) {\n      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })\n    } else {\n      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n    }\n  }\n\n  // Get initials from name\n  const getInitials = (firstName: string, lastName: string) => {\n    return `${firstName.charAt(0)}${lastName.charAt(0)}`.toUpperCase()\n  }\n\n  // Get call status icon\n  const getCallStatusIcon = (status: CallStatus | undefined) => {\n    if (!status) return null\n    return status === 'successful' ? (\n      <span className=\"text-green-500\">‚úì</span>\n    ) : (\n      <span className=\"text-red-500\">‚úó</span>\n    )\n  }\n\n  // Handle sending message\n  const handleSendMessage = () => {\n    if (!newMessage.trim() || !selectedConversation) return\n\n    const newMsg: Message = {\n      id: `msg-${Date.now()}`,\n      conversationId: selectedConversation.id,\n      channel: selectedChannel,\n      direction: 'outbound',\n      content: newMessage,\n      status: 'sent',\n      senderId: 'user-001',\n      senderName: 'Jean Pierre Fran√ßois',\n      createdAt: new Date().toISOString(),\n    }\n\n    setMessages([...messages, newMsg])\n    setNewMessage('')\n  }\n\n  // Toggle star conversation\n  const toggleStar = (convId: string) => {\n    setConversations(prev =>\n      prev.map(c => c.id === convId ? { ...c, isStarred: !c.isStarred } : c)\n    )\n  }\n\n  return (\n    <div className=\"h-[calc(100vh-8rem)] flex flex-col -m-4 sm:-m-6 lg:-m-8\">\n      {/* Page Header with Tabs */}\n      <div className=\"flex-none bg-white border-b border-gray-200 px-4 sm:px-6 lg:px-8 pt-4 sm:pt-6 lg:pt-8\">\n        <PageHeader\n          title=\"Conversations\"\n          description=\"Manage all your customer conversations across multiple channels in one unified inbox\"\n          icon=\"fa-comments\"\n        />\n        \n        {/* Tab Navigation */}\n        <nav className=\"flex items-center gap-6 -mb-px\">\n          {CONVERSATION_TABS.map(tab => (\n            <Link\n              key={tab.id}\n              href={tab.href}\n              className={`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${\n                tab.id === activeTab\n                  ? 'border-[var(--theme-secondary)] text-[var(--theme-secondary)]'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              {tab.label}\n            </Link>\n          ))}\n        </nav>\n      </div>\n\n      {/* Main Content - 3 Column Layout */}\n      <div className=\"flex-1 flex overflow-hidden bg-gray-50\">\n        {/* Left Sidebar - Inbox Navigation */}\n        <div className=\"w-56 flex-none bg-white border-r border-gray-200 flex flex-col\">\n          {/* New Conversation Button */}\n          <div className=\"p-4\">\n            <button\n              onClick={() => setShowNewConversationModal(true)}\n              className=\"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n              </svg>\n              New\n            </button>\n          </div>\n\n          {/* Inbox Sections */}\n          <div className=\"flex-1 overflow-y-auto\">\n            {/* Team Inbox */}\n            <div className=\"border-b border-gray-100\">\n              <button\n                onClick={() => setExpandedInbox(prev => ({ ...prev, team: !prev.team }))}\n                className=\"w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50\"\n              >\n                <span>Team Inbox</span>\n                <svg className={`w-4 h-4 transition-transform ${expandedInbox.team ? 'rotate-180' : ''}`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </button>\n              {expandedInbox.team && (\n                <div className=\"pb-2\">\n                  {(['unread', 'recents', 'starred', 'all'] as InboxFilter[]).map(filter => (\n                    <button\n                      key={filter}\n                      onClick={() => { setInboxType('team'); setInboxFilter(filter); }}\n                      className={`w-full text-left px-6 py-1.5 text-sm capitalize ${\n                        inboxType === 'team' && inboxFilter === filter\n                          ? 'text-blue-600 bg-blue-50 font-medium'\n                          : 'text-gray-600 hover:bg-gray-50'\n                      }`}\n                    >\n                      {filter}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* My Inbox */}\n            <div className=\"border-b border-gray-100\">\n              <button\n                onClick={() => setExpandedInbox(prev => ({ ...prev, my: !prev.my }))}\n                className=\"w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50\"\n              >\n                <span>My Inbox</span>\n                <svg className={`w-4 h-4 transition-transform ${expandedInbox.my ? 'rotate-180' : ''}`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </button>\n              {expandedInbox.my && (\n                <div className=\"pb-2\">\n                  <button\n                    onClick={() => { setInboxType('my'); setInboxFilter('all'); }}\n                    className={`w-full text-left px-6 py-1.5 text-sm ${\n                      inboxType === 'my' && inboxFilter === 'all'\n                        ? 'text-blue-600 bg-blue-50 font-medium'\n                        : 'text-gray-600 hover:bg-gray-50'\n                    }`}\n                  >\n                    üë§ Assigned to me\n                  </button>\n                  {(['unread', 'recents', 'starred', 'all'] as InboxFilter[]).map(filter => (\n                    <button\n                      key={filter}\n                      onClick={() => { setInboxType('my'); setInboxFilter(filter); }}\n                      className={`w-full text-left px-6 py-1.5 text-sm capitalize ${\n                        inboxType === 'my' && inboxFilter === filter\n                          ? 'text-blue-600 bg-blue-50 font-medium'\n                          : 'text-gray-600 hover:bg-gray-50'\n                      }`}\n                    >\n                      {filter}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Internal Chat */}\n            <div>\n              <button\n                onClick={() => setExpandedInbox(prev => ({ ...prev, internal: !prev.internal }))}\n                className=\"w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50\"\n              >\n                <span>üë• Internal Chat</span>\n                <svg className={`w-4 h-4 transition-transform ${expandedInbox.internal ? 'rotate-180' : ''}`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </button>\n              {expandedInbox.internal && (\n                <div className=\"pb-2\">\n                  {(['unread', 'all'] as InboxFilter[]).map(filter => (\n                    <button\n                      key={filter}\n                      onClick={() => { setInboxType('internal'); setInboxFilter(filter); }}\n                      className={`w-full text-left px-6 py-1.5 text-sm capitalize ${\n                        inboxType === 'internal' && inboxFilter === filter\n                          ? 'text-blue-600 bg-blue-50 font-medium'\n                          : 'text-gray-600 hover:bg-gray-50'\n                      }`}\n                    >\n                      {filter}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Conversation List */}\n        <div className=\"w-80 flex-none bg-white border-r border-gray-200 flex flex-col\">\n          {/* Search & Filter Bar */}\n          <div className=\"p-3 border-b border-gray-200\">\n            <div className=\"relative\">\n              <svg className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n              <input\n                type=\"text\"\n                placeholder=\"Search\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div className=\"flex items-center justify-between mt-2 text-xs text-gray-500\">\n              <span>‚òê {filteredConversations.length} results</span>\n              <button className=\"flex items-center gap-1 hover:text-gray-700\">\n                Latest-All\n                <svg className=\"w-3 h-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          {/* Conversation List */}\n          <div className=\"flex-1 overflow-y-auto\">\n            {filteredConversations.length === 0 ? (\n              <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\n                <svg className=\"w-12 h-12 mb-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                </svg>\n                <p className=\"text-sm\">No conversations found</p>\n              </div>\n            ) : (\n              filteredConversations.map(conv => {\n                // Check if this is an email-only conversation\n                const isEmailConversation = conv.channels.includes('email') && conv.lastMessage?.channel === 'email'\n                // Count email replies for this conversation\n                const emailMessages = mockMessages.filter(m => m.conversationId === conv.id && m.channel === 'email')\n                const replyCount = emailMessages.length > 1 ? emailMessages.length - 1 : 0\n\n                return (\n                  <div\n                    key={conv.id}\n                    onClick={() => setSelectedConversation(conv)}\n                    className={`flex items-start gap-3 px-4 py-3 cursor-pointer border-b border-gray-100 hover:bg-gray-50 transition-colors ${\n                      selectedConversation?.id === conv.id ? 'bg-blue-50' : ''\n                    }`}\n                  >\n                    {/* Avatar */}\n                    <div className=\"flex-none\">\n                      {conv.contact.avatar ? (\n                        <img src={conv.contact.avatar} alt=\"\" className=\"w-10 h-10 rounded-full\" />\n                      ) : (\n                        <div className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold text-sm ${\n                          isEmailConversation ? 'bg-gradient-to-br from-purple-500 to-purple-600' : 'bg-gradient-to-br from-blue-500 to-blue-600'\n                        }`}>\n                          {isEmailConversation ? 'üìß' : getInitials(conv.contact.firstName, conv.contact.lastName)}\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Content */}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center justify-between\">\n                        <h4 className=\"font-medium text-gray-900 truncate\">\n                          {conv.contact.firstName} {conv.contact.lastName}\n                        </h4>\n                        <span className=\"text-xs text-gray-500 flex-none ml-2\">\n                          {conv.lastMessageAt && formatTimestamp(conv.lastMessageAt)}\n                        </span>\n                      </div>\n                      \n                      {/* Email-specific display: Subject + Reply Count */}\n                      {isEmailConversation && conv.lastMessage?.subject ? (\n                        <div className=\"mt-0.5\">\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"text-xs text-purple-600\">üìß</span>\n                            <span className=\"text-sm font-medium text-gray-700 truncate\">\n                              {conv.lastMessage.subject}\n                            </span>\n                            {replyCount > 0 && (\n                              <span className=\"flex-none text-xs text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded\">\n                                {replyCount} {replyCount === 1 ? 'reply' : 'replies'}\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                      ) : (\n                        /* Regular conversation display */\n                        <div className=\"flex items-center gap-1 mt-0.5\">\n                          {/* Channel Icons */}\n                          {conv.channels.slice(0, 2).map(channel => (\n                            <span key={channel} className=\"text-xs\" title={channelIcons[channel].label}>\n                              {channelIcons[channel].icon}\n                            </span>\n                          ))}\n                          {/* Last message preview */}\n                          <span className=\"text-sm text-gray-500 truncate\">\n                            {conv.lastMessage?.content.substring(0, 30)}\n                            {(conv.lastMessage?.content.length || 0) > 30 ? '...' : ''}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Unread Badge */}\n                    {conv.unreadCount > 0 && (\n                      <div className=\"flex-none\">\n                        <span className=\"inline-flex items-center justify-center w-5 h-5 bg-blue-600 text-white text-xs font-medium rounded-full\">\n                          {conv.unreadCount}\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                )\n              })\n            )}\n          </div>\n        </div>\n\n        {/* Conversation Detail / Messages */}\n        <div className=\"flex-1 flex flex-col bg-white\">\n          {selectedConversation ? (\n            <>\n              {/* Conversation Header */}\n              <div className=\"flex-none flex items-center justify-between px-6 py-3 border-b border-gray-200\">\n                <div className=\"flex items-center gap-3\">\n                  <h2 className=\"text-lg font-semibold text-gray-900\">\n                    {selectedConversation.contact.firstName} {selectedConversation.contact.lastName}\n                  </h2>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    onClick={() => toggleStar(selectedConversation.id)}\n                    className={`p-2 rounded-lg hover:bg-gray-100 ${selectedConversation.isStarred ? 'text-yellow-500' : 'text-gray-400'}`}\n                    title=\"Star conversation\"\n                  >\n                    <svg className=\"w-5 h-5\" fill={selectedConversation.isStarred ? 'currentColor' : 'none'} viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\n                    </svg>\n                  </button>\n                  <button className=\"p-2 rounded-lg hover:bg-gray-100 text-gray-400\" title=\"Add to contact\">\n                    <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\" />\n                    </svg>\n                  </button>\n                  <button className=\"p-2 rounded-lg hover:bg-gray-100 text-gray-400\" title=\"Archive\">\n                    <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\" />\n                    </svg>\n                  </button>\n                  <button className=\"p-2 rounded-lg hover:bg-gray-100 text-gray-400\" title=\"More options\">\n                    <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n\n              {/* Messages Area */}\n              <div className=\"flex-1 overflow-y-auto p-6\">\n                {/* Date Separator */}\n                <div className=\"flex items-center justify-center mb-6\">\n                  <span className=\"px-3 py-1 bg-gray-100 rounded-full text-xs text-gray-500\">\n                    {selectedConversation.lastMessageAt && new Date(selectedConversation.lastMessageAt).toLocaleDateString('en-US', { \n                      month: 'short', \n                      day: 'numeric', \n                      year: 'numeric' \n                    })}\n                  </span>\n                </div>\n\n                {/* Messages */}\n                {messages.map(msg => (\n                  <div\n                    key={msg.id}\n                    className={`flex mb-4 ${msg.direction === 'outbound' ? 'justify-end' : 'justify-start'}`}\n                  >\n                    <div className={`max-w-[70%] ${msg.direction === 'outbound' ? 'order-2' : 'order-1'}`}>\n                      {/* Call Message */}\n                      {(msg.channel === 'phone_inbound' || msg.channel === 'phone_outbound') ? (\n                        <div className={`flex items-center gap-2 px-4 py-2 rounded-lg ${\n                          msg.direction === 'outbound' ? 'bg-gray-100' : 'bg-gray-100'\n                        }`}>\n                          <span className=\"text-lg\">üìû</span>\n                          <span className=\"text-sm text-gray-700\">\n                            {msg.channel === 'phone_inbound' ? 'Inbound Call' : 'Outbound Call'}\n                          </span>\n                          {getCallStatusIcon(msg.callStatus)}\n                        </div>\n                      ) : msg.channel === 'email' ? (\n                        /* Email Message - Clickable Card */\n                        <div \n                          onClick={() => setSelectedEmail(msg)}\n                          className={`p-4 rounded-xl border cursor-pointer hover:shadow-md transition-all ${\n                            msg.direction === 'outbound' \n                              ? 'bg-purple-50 border-purple-200 hover:border-purple-300' \n                              : 'bg-white border-gray-200 hover:border-purple-300'\n                          }`}\n                        >\n                          <div className=\"flex items-start gap-3\">\n                            <div className=\"flex-none w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center text-white text-lg\">\n                              üìß\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"flex items-center gap-2 mb-1\">\n                                <h4 className=\"font-medium text-gray-900 truncate text-sm\">\n                                  {msg.subject || '(No Subject)'}\n                                </h4>\n                              </div>\n                              <p className=\"text-xs text-gray-600 mb-2\">\n                                {msg.direction === 'inbound' ? `From: ${msg.senderName}` : `To: ${selectedConversation.contact.firstName} ${selectedConversation.contact.lastName}`}\n                              </p>\n                              <p className=\"text-sm text-gray-500 line-clamp-2\">\n                                {msg.content.substring(0, 100)}{msg.content.length > 100 ? '...' : ''}\n                              </p>\n                              <div className=\"flex items-center gap-2 mt-2\">\n                                <span className=\"text-xs text-purple-600 font-medium\">Click to read full email</span>\n                                {msg.attachments && msg.attachments.length > 0 && (\n                                  <span className=\"text-xs text-gray-400\">üìé {msg.attachments.length}</span>\n                                )}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      ) : (\n                        /* Regular Message */\n                        <div className={`px-4 py-3 rounded-2xl ${\n                          msg.direction === 'outbound' \n                            ? 'bg-blue-600 text-white rounded-br-md' \n                            : 'bg-gray-100 text-gray-900 rounded-bl-md'\n                        }`}>\n                          <p className=\"text-sm whitespace-pre-wrap\">{msg.content}</p>\n                        </div>\n                      )}\n                      {/* Timestamp & Status */}\n                      <div className={`flex items-center gap-2 mt-1 text-xs text-gray-400 ${msg.direction === 'outbound' ? 'justify-end' : ''}`}>\n                        <span>{formatTimestamp(msg.createdAt)}</span>\n                        {msg.direction === 'outbound' && (\n                          <span>\n                            {msg.status === 'read' ? '‚úì‚úì' : msg.status === 'delivered' ? '‚úì‚úì' : '‚úì'}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n                <div ref={messagesEndRef} />\n              </div>\n\n              {/* Message Composer */}\n              <div className=\"flex-none border-t border-gray-200 p-4\">\n                {/* Channel Tabs */}\n                <div className=\"flex items-center gap-1 mb-3 border-b border-gray-200 pb-2\">\n                  {(['sms', 'whatsapp', 'email'] as MessageChannel[]).map(channel => (\n                    <button\n                      key={channel}\n                      onClick={() => setSelectedChannel(channel)}\n                      className={`px-3 py-1 text-sm font-medium rounded-t transition-colors ${\n                        selectedChannel === channel\n                          ? 'text-blue-600 border-b-2 border-blue-600'\n                          : 'text-gray-500 hover:text-gray-700'\n                      }`}\n                    >\n                      {channel === 'sms' ? 'SMS' : channel === 'whatsapp' ? 'WhatsApp' : 'Email'}\n                    </button>\n                  ))}\n                  <button className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-700\">\n                    Internal Comment\n                  </button>\n                </div>\n\n                {/* From/To Info */}\n                <div className=\"flex items-center gap-4 mb-3 text-sm\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-gray-500\">From:</span>\n                    <select className=\"border border-gray-300 rounded px-2 py-1 text-sm\">\n                      <option>No Number Available</option>\n                    </select>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-gray-500\">To:</span>\n                    <span className=\"text-gray-900\">{selectedConversation.contact.phone || selectedConversation.contact.email}</span>\n                  </div>\n                </div>\n\n                {/* Email Subject (only for email) */}\n                {selectedChannel === 'email' && (\n                  <div className=\"mb-3\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"Subject:\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </div>\n                )}\n\n                {/* Message Input */}\n                <div className=\"flex items-end gap-2\">\n                  <div className=\"flex-1\">\n                    <textarea\n                      value={newMessage}\n                      onChange={(e) => setNewMessage(e.target.value)}\n                      placeholder=\"Type a message\"\n                      rows={2}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n                      onKeyDown={(e) => {\n                        if (e.key === 'Enter' && !e.shiftKey) {\n                          e.preventDefault()\n                          handleSendMessage()\n                        }\n                      }}\n                    />\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex items-center justify-between mt-3\">\n                  <div className=\"flex items-center gap-2\">\n                    <button className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-500\" title=\"Attach file\">\n                      <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n                      </svg>\n                    </button>\n                    <button className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-500\" title=\"Insert emoji\">\n                      <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    </button>\n                    <button className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-500\" title=\"Use template\">\n                      <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                      </svg>\n                    </button>\n                    <span className=\"text-xs text-gray-400 ml-2\">Segs: 0</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <button className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm font-medium\">\n                      Clear\n                    </button>\n                    <button\n                      onClick={handleSendMessage}\n                      disabled={!newMessage.trim()}\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      Send\n                    </button>\n                    <button className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-500\" title=\"Schedule\">\n                      <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </>\n          ) : (\n            /* No Conversation Selected */\n            <div className=\"flex-1 flex flex-col items-center justify-center text-gray-500\">\n              <svg className=\"w-16 h-16 mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n              </svg>\n              <p className=\"text-lg font-medium\">Select a conversation</p>\n              <p className=\"text-sm\">Choose a conversation from the list to view messages</p>\n            </div>\n          )}\n        </div>\n\n        {/* Right Sidebar - Contact Details */}\n        {selectedConversation && (\n          <div className=\"w-72 flex-none bg-white border-l border-gray-200 overflow-y-auto\">\n            {/* Contact Header */}\n            <div className=\"p-4 border-b border-gray-200\">\n              <div className=\"flex items-center gap-3 mb-3\">\n                <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold\">\n                  {getInitials(selectedConversation.contact.firstName, selectedConversation.contact.lastName)}\n                </div>\n                <div>\n                  <h3 className=\"font-semibold text-gray-900\">\n                    {selectedConversation.contact.firstName} {selectedConversation.contact.lastName}\n                  </h3>\n                  <a href=\"#\" className=\"text-sm text-blue-600 hover:underline flex items-center gap-1\">\n                    View Profile\n                    <svg className=\"w-3 h-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                    </svg>\n                  </a>\n                </div>\n              </div>\n              <div className=\"flex gap-2\">\n                <button className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-500\" title=\"Email\">üìß</button>\n                <button className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-500\" title=\"Call\">üìû</button>\n              </div>\n            </div>\n\n            {/* Contact Info Sections */}\n            <div className=\"p-4 space-y-4\">\n              {/* Contact */}\n              <div>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h4 className=\"text-sm font-semibold text-gray-700\">Contact</h4>\n                  <button className=\"text-gray-400 hover:text-gray-600\">\n                    <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                </div>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2 text-sm\">\n                    <span className=\"text-gray-500\">üìß Email</span>\n                    <button className=\"text-blue-600 text-xs\">+</button>\n                  </div>\n                  {selectedConversation.contact.email && (\n                    <p className=\"text-sm text-gray-600 ml-6\">‚Ä¢ {selectedConversation.contact.email}</p>\n                  )}\n                  <div className=\"flex items-center gap-2 text-sm\">\n                    <span className=\"text-gray-500\">üìû Phone</span>\n                    <button className=\"text-blue-600 text-xs\">+</button>\n                  </div>\n                  {selectedConversation.contact.phone && (\n                    <p className=\"text-sm text-gray-600 ml-6\">‚Ä¢ {selectedConversation.contact.phone}</p>\n                  )}\n                </div>\n              </div>\n\n              {/* Owner */}\n              <div>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h4 className=\"text-sm font-semibold text-gray-700\">üë§ Owner (Assigned to)</h4>\n                </div>\n                <p className=\"text-sm text-gray-600\">\n                  {selectedConversation.assignedToName || 'Unassigned'}\n                </p>\n              </div>\n\n              {/* Followers */}\n              <div>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h4 className=\"text-sm font-semibold text-gray-700\">üë• Followers</h4>\n                </div>\n                <input\n                  type=\"text\"\n                  placeholder=\"Search followers\"\n                  className=\"w-full px-3 py-1.5 border border-gray-300 rounded text-sm\"\n                />\n              </div>\n\n              {/* Tags */}\n              <div>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h4 className=\"text-sm font-semibold text-gray-700\">üè∑Ô∏è Tags</h4>\n                </div>\n                <div className=\"flex flex-wrap gap-1\">\n                  {selectedConversation.contact.tags?.map(tag => (\n                    <span key={tag} className=\"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded-full\">\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              </div>\n\n              {/* Active Automations */}\n              <div>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h4 className=\"text-sm font-semibold text-gray-700\">‚ö° Active Automations</h4>\n                </div>\n                <p className=\"text-sm text-gray-500\">No active automations</p>\n              </div>\n\n              {/* DND */}\n              <div>\n                <div className=\"flex items-center justify-between\">\n                  <h4 className=\"text-sm font-semibold text-gray-700\">üîï DND</h4>\n                  <span className={`text-xs px-2 py-0.5 rounded ${selectedConversation.contact.dnd ? 'bg-red-100 text-red-700' : 'bg-gray-100 text-gray-600'}`}>\n                    {selectedConversation.contact.dnd ? 'ON' : 'OFF'}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* New Conversation Modal */}\n      {showNewConversationModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-md\">\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">New Conversation</h2>\n              <button onClick={() => setShowNewConversationModal(false)} className=\"text-gray-400 hover:text-gray-600\">\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div className=\"p-4 space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Select Contact</label>\n                <select className=\"w-full border border-gray-300 rounded-lg px-3 py-2\">\n                  <option value=\"\">Search contacts...</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Channel</label>\n                <div className=\"grid grid-cols-3 gap-2\">\n                  {(['sms', 'email', 'whatsapp'] as MessageChannel[]).map(channel => (\n                    <button\n                      key={channel}\n                      className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 capitalize\"\n                    >\n                      {channelIcons[channel].icon} {channel}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n            <div className=\"flex justify-end gap-2 p-4 border-t border-gray-200\">\n              <button\n                onClick={() => setShowNewConversationModal(false)}\n                className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\">\n                Start Conversation\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Email Viewer Modal */}\n      {selectedEmail && selectedConversation && (\n        <EmailViewer\n          email={selectedEmail}\n          contact={selectedConversation.contact}\n          onClose={() => setSelectedEmail(null)}\n          onReply={(replyData) => {\n            // Convert attachments to the format expected by Message\n            const messageAttachments = replyData.attachments.map(a => ({\n              id: a.id,\n              name: a.name,\n              size: a.size,\n              type: a.type,\n              url: URL.createObjectURL(a.file), // In production, upload to storage and use real URL\n            }))\n\n            // Add the reply to the messages list\n            const newReply: Message = {\n              id: `msg-${Date.now()}`,\n              conversationId: selectedConversation.id,\n              channel: 'email',\n              direction: 'outbound',\n              content: replyData.content,\n              subject: `Re: ${selectedEmail.subject || '(No Subject)'}`,\n              status: 'sent',\n              senderId: 'user-001',\n              senderName: 'Jean Pierre Fran√ßois',\n              fromEmail: 'jp@buzgrowth.digital',\n              toEmail: selectedConversation.contact.email || '',\n              cc: replyData.cc,\n              bcc: replyData.bcc,\n              attachments: messageAttachments.length > 0 ? messageAttachments : undefined,\n              createdAt: new Date().toISOString(),\n            }\n            setMessages([...messages, newReply])\n            setSelectedEmail(null)\n          }}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}