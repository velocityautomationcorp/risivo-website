module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},39118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__"},54427,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},92434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},8591,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(72131);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},37122,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(71987);function f(){let a=(0,d.useSearchParams)(),f=(0,d.useRouter)(),g=a.get("token"),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(null);(0,c.useEffect)(()=>{if(!g){k("No demo access token provided"),i(!1);return}r()},[g]);let r=async()=>{try{let a=await fetch("/api/demo/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g})}),b=await a.json();if(!a.ok||!b.valid){k(b.error||"Invalid or expired demo access"),i(!1);return}q({name:b.name,expiresAt:new Date(b.expiresAt).toLocaleDateString()}),b.requiresAccessCode?(m(!0),i(!1)):await s()}catch(a){k("Failed to validate demo access"),i(!1)}},s=async a=>{i(!0),k("");try{let b=await fetch("/api/demo/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g,accessCode:a||""}),credentials:"include"}),c=await b.json();b.ok&&c.success?f.push("/sub-account/dashboard?demo=true"):(k(c.error||"Failed to activate demo access"),i(!1))}catch(a){k("Failed to activate demo access"),i(!1)}};return h&&!l?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center mb-6",children:(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}),(0,b.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Preparing Your Demo Environment"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Setting up sample data and configuring your demo access..."})]})}):j&&!g?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,b.jsx)("div",{className:"max-w-md w-full mx-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Demo Link"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"This demo access link is invalid. Please check your email for the correct link or contact us for a new one."}),(0,b.jsx)("a",{href:"https://risivo.com/contact",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Request Demo Access"})]})})}):l?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,b.jsx)("div",{className:"max-w-md w-full mx-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)(e.default,{src:"/risivo-logo-color.png",alt:"RISIVO CRM",width:180,height:41,className:"mx-auto mb-4"}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["Welcome, ",p?.name,"!"]}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"Enter your access code to continue"})]}),j&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-red-600",children:j})}),(0,b.jsxs)("form",{onSubmit:a=>{(a.preventDefault(),6!==n.length)?k("Please enter the 6-digit access code"):s(n)},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"accessCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"6-Digit Access Code"}),(0,b.jsx)("input",{id:"accessCode",type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,value:n,onChange:a=>o(a.target.value.replace(/\D/g,"")),className:"w-full px-4 py-3 text-center text-2xl tracking-widest border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"• • • • • •",autoFocus:!0}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"The access code was sent to your email"})]}),(0,b.jsx)("button",{type:"submit",disabled:h||6!==n.length,className:"w-full py-3 px-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,b.jsxs)("span",{className:"flex items-center justify-center",children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Access Demo"})]}),(0,b.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,b.jsx)("span",{children:"Demo expires"}),(0,b.jsx)("span",{className:"font-medium",children:p?.expiresAt})]})})]})})}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,b.jsx)("div",{className:"max-w-md w-full mx-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:j||"Something went wrong"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"We couldn't process your demo access. Please try again or request a new demo link."}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full py-3 px-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"}),(0,b.jsx)("a",{href:"https://risivo.com/contact",className:"block w-full py-3 px-4 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors text-center",children:"Contact Support"})]})]})})})}function g(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center mb-6",children:(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}),(0,b.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Loading..."})]})}),children:(0,b.jsx)(f,{})})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__fbe702ab._.js.map