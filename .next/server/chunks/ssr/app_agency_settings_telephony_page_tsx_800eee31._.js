module.exports=[10684,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246);function e(){let[a,e]=(0,c.useState)("overview"),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(5),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null);(0,c.useEffect)(()=>{w()},[]);let w=async()=>{r(!0);try{let a=await fetch("/api/v1/agency/telephony/settings"),b=await a.json();b.success?(l(b.data.settings),n(b.data.agencyInfo),p(b.data.platformMarkup||5)):(l(x()),n({id:"demo-agency",name:"Demo Agency",subscriptionPlan:"professional",canSetMarkup:!1}))}catch(a){console.error("Error fetching settings:",a),l(x()),n({id:"demo-agency",name:"Demo Agency",subscriptionPlan:"professional",canSetMarkup:!1})}finally{r(!1)}},x=()=>({id:"",agencyId:"",subscriptionPlan:"professional",canSetMarkup:!1,agencyMarkupPercent:0,agencyMarkupEnabled:!1,promoMarkupPercent:null,promoMarkupStartDate:null,promoMarkupEndDate:null,promoMarkupDescription:null,defaultDailySmsLimit:null,defaultDailyCallLimit:null,defaultPhoneNumberType:"local",defaultPhoneNumberCountry:"US",voiceEnabled:!0,smsEnabled:!0,mmsEnabled:!0,powerDialerEnabled:!0,autoProvisionSubaccounts:!0,autoProvisionPhoneNumber:!1,smsBounceWarningThreshold:null,smsBounceSuspendThreshold:null,dailySmsLimitMax:null,dailyCallLimitMax:null,hasDedicatedTwilioSubaccount:!1,twilioSubaccountId:null,billingEmail:null,billingContactName:null,isActive:!0,activatedAt:null,suspendedAt:null,suspensionReason:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),y=async()=>{if(k){t(!0),v(null);try{let a=await fetch("/api/v1/agency/telephony/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}),b=await a.json();b.success?(l(b.data),v({type:"success",text:"Settings saved successfully!"})):v({type:"error",text:b.error||"Failed to save settings"})}catch(a){v({type:"error",text:"Network error"})}finally{t(!1)}}},z=m?.subscriptionPlan==="enterprise";return q?(0,b.jsx)("div",{className:"p-6 max-w-5xl mx-auto",children:(0,b.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):(0,b.jsxs)("div",{className:"p-6 max-w-5xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(d.default,{href:"/agency/settings",className:"text-gray-400 hover:text-gray-600",children:(0,b.jsx)("i",{className:"fas fa-arrow-left"})}),(0,b.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-phone-volume text-blue-600"}),"Telephony Settings"]}),(0,b.jsxs)("span",{className:`px-2 py-1 text-xs font-medium rounded ${z?"bg-indigo-100 text-indigo-700":"bg-blue-100 text-blue-700"}`,children:[m?.subscriptionPlan==="enterprise"&&(0,b.jsx)("i",{className:"fas fa-crown mr-1"}),m?.subscriptionPlan?.charAt(0).toUpperCase(),m?.subscriptionPlan?.slice(1)," Plan"]})]}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mt-1 ml-8",children:"Configure telephony settings for your agency and sub-accounts"})]}),(0,b.jsx)("div",{className:"flex gap-3",children:(0,b.jsx)("button",{onClick:y,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:s?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-save"}),"Save Settings"]})})})]}),u&&(0,b.jsxs)("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${"success"===u.type?"bg-green-50 border border-green-200 text-green-700":"error"===u.type?"bg-red-50 border border-red-200 text-red-700":"bg-blue-50 border border-blue-200 text-blue-700"}`,children:[(0,b.jsx)("i",{className:`fas ${"success"===u.type?"fa-check-circle":"error"===u.type?"fa-exclamation-circle":"fa-info-circle"}`}),u.text]}),!z&&(0,b.jsx)("div",{className:"mb-6 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-crown text-2xl"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:"Unlock Agency Markup with Enterprise"}),(0,b.jsx)("p",{className:"text-white/80 text-sm",children:"Add your own markup on top of platform pricing and increase your revenue per sub-account."})]})]}),(0,b.jsx)(d.default,{href:"/agency/billing/upgrade",className:"px-4 py-2 bg-white text-indigo-600 rounded-lg font-medium hover:bg-white/90 transition-colors",children:"Upgrade to Enterprise"})]})}),(0,b.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,b.jsx)("i",{className:"fas fa-sitemap text-blue-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"How Pricing Works"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsxs)("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded font-medium",children:["Platform ",o,"%"]}),z&&k?.agencyMarkupEnabled&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-gray-400",children:"+"}),(0,b.jsxs)("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded font-medium",children:["Your Markup ",k?.agencyMarkupPercent||0,"%"]}),(0,b.jsx)("span",{className:"text-gray-400",children:"="}),(0,b.jsxs)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded font-medium",children:["Total ",o+(k?.agencyMarkupPercent||0),"%"]})]}),!z&&(0,b.jsxs)("span",{className:"text-blue-600 text-xs",children:["(Your sub-accounts pay Twilio + ",o,"% platform markup)"]})]})]})]})}),(0,b.jsx)("div",{className:"flex gap-1 mb-6 bg-gray-100 p-1 rounded-lg overflow-x-auto",children:[{id:"overview",label:"Overview",icon:"fas fa-home"},{id:"pricing",label:"Pricing & Markup",icon:"fas fa-dollar-sign",enterprise:!0},{id:"subaccounts",label:"Sub-Account Defaults",icon:"fas fa-users"},{id:"features",label:"Features",icon:"fas fa-toggle-on"},{id:"compliance",label:"Compliance",icon:"fas fa-shield-alt"}].map(c=>(0,b.jsxs)("button",{onClick:()=>e(c.id),className:`px-4 py-2 rounded-md flex items-center gap-2 whitespace-nowrap transition-colors ${a===c.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"} ${c.enterprise&&!z?"opacity-50":""}`,children:[(0,b.jsx)("i",{className:c.icon}),c.label,c.enterprise&&!z&&(0,b.jsx)("i",{className:"fas fa-lock text-xs text-gray-400"})]},c.id))}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border",children:["overview"===a&&k&&(0,b.jsx)(f,{settings:k,agencyInfo:m,platformMarkup:o}),"pricing"===a&&k&&(0,b.jsx)(g,{settings:k,onChange:l,isEnterprise:z,platformMarkup:o}),"subaccounts"===a&&k&&(0,b.jsx)(h,{settings:k,onChange:l}),"features"===a&&k&&(0,b.jsx)(i,{settings:k,onChange:l}),"compliance"===a&&k&&(0,b.jsx)(j,{settings:k,onChange:l})]})]})}function f({settings:a,agencyInfo:c,platformMarkup:d}){let e=c?.subscriptionPlan==="enterprise",f=d+(e&&a.agencyMarkupEnabled?a.agencyMarkupPercent:0);return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-users text-blue-600"})}),(0,b.jsx)("span",{className:"text-gray-500 text-sm",children:"Sub-Accounts"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"--"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-phone text-green-600"})}),(0,b.jsx)("span",{className:"text-gray-500 text-sm",children:"Phone Numbers"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"--"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-percentage text-purple-600"})}),(0,b.jsx)("span",{className:"text-gray-500 text-sm",children:"Total Markup"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[f,"%"]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-dollar-sign text-amber-600"})}),(0,b.jsx)("span",{className:"text-gray-500 text-sm",children:"MTD Usage"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"$--"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)("div",{className:`p-4 rounded-lg border ${a.isActive?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${a.isActive?"bg-green-100":"bg-red-100"}`,children:(0,b.jsx)("i",{className:`fas ${a.isActive?"fa-check text-green-600":"fa-times text-red-600"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:`font-medium ${a.isActive?"text-green-800":"text-red-800"}`,children:["Telephony ",a.isActive?"Active":"Inactive"]}),(0,b.jsx)("p",{className:`text-sm ${a.isActive?"text-green-600":"text-red-600"}`,children:a.isActive?"Your sub-accounts can use telephony features":"Telephony is disabled for your agency"})]})]})}),(0,b.jsx)("div",{className:`p-4 rounded-lg border ${e?"bg-indigo-50 border-indigo-200":"bg-gray-50 border-gray-200"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-indigo-100":"bg-gray-100"}`,children:(0,b.jsx)("i",{className:`fas fa-crown ${e?"text-indigo-600":"text-gray-400"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:`font-medium ${e?"text-indigo-800":"text-gray-800"}`,children:e?"Enterprise Plan":`${c?.subscriptionPlan?.charAt(0).toUpperCase()}${c?.subscriptionPlan?.slice(1)} Plan`}),(0,b.jsx)("p",{className:`text-sm ${e?"text-indigo-600":"text-gray-500"}`,children:e?"You can add your own markup to sub-accounts":"Upgrade to Enterprise to add your own markup"})]})]})})]}),(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-calculator text-blue-600"}),"Sub-Account Pricing Breakdown"]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsx)("th",{className:"text-left py-2 text-gray-500",children:"Item"}),(0,b.jsx)("th",{className:"text-right py-2 text-gray-500",children:"Twilio Base"}),(0,b.jsxs)("th",{className:"text-right py-2 text-gray-500",children:["Platform (+",d,"%)"]}),e&&a.agencyMarkupEnabled&&(0,b.jsxs)("th",{className:"text-right py-2 text-gray-500",children:["Your Markup (+",a.agencyMarkupPercent,"%)"]}),(0,b.jsx)("th",{className:"text-right py-2 text-gray-500 font-medium",children:"Sub-Account Pays"})]})}),(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsx)("td",{className:"py-3",children:"SMS (outbound)"}),(0,b.jsx)("td",{className:"text-right text-gray-500",children:"$0.0075"}),(0,b.jsx)("td",{className:"text-right text-purple-600",children:"$0.0004"}),e&&a.agencyMarkupEnabled&&(0,b.jsxs)("td",{className:"text-right text-indigo-600",children:["$",(.0075*a.agencyMarkupPercent/100).toFixed(4)]}),(0,b.jsxs)("td",{className:"text-right font-medium text-green-600",children:["$",(.0075*(1+f/100)).toFixed(4)]})]}),(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsx)("td",{className:"py-3",children:"Voice Call (per min)"}),(0,b.jsx)("td",{className:"text-right text-gray-500",children:"$0.0140"}),(0,b.jsx)("td",{className:"text-right text-purple-600",children:"$0.0007"}),e&&a.agencyMarkupEnabled&&(0,b.jsxs)("td",{className:"text-right text-indigo-600",children:["$",(.014*a.agencyMarkupPercent/100).toFixed(4)]}),(0,b.jsxs)("td",{className:"text-right font-medium text-green-600",children:["$",(.014*(1+f/100)).toFixed(4)]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-3",children:"Phone Number (monthly)"}),(0,b.jsx)("td",{className:"text-right text-gray-500",children:"$1.00"}),(0,b.jsxs)("td",{className:"text-right text-purple-600",children:["$",(d/100).toFixed(2)]}),e&&a.agencyMarkupEnabled&&(0,b.jsxs)("td",{className:"text-right text-indigo-600",children:["$",(a.agencyMarkupPercent/100).toFixed(2)]}),(0,b.jsxs)("td",{className:"text-right font-medium text-green-600",children:["$",(+(1+f/100)).toFixed(2)]})]})]})]})})]})]})}function g({settings:a,onChange:e,isEnterprise:f,platformMarkup:g}){let[h,i]=(0,c.useState)(!!a.promoMarkupPercent),j=g+(f&&a.agencyMarkupEnabled?a.agencyMarkupPercent:0);return f?(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-percentage text-indigo-600"}),"Agency Markup",(0,b.jsx)("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded",children:"Enterprise"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Enable Markup"}),(0,b.jsx)("input",{type:"checkbox",checked:a.agencyMarkupEnabled,onChange:b=>e({...a,agencyMarkupEnabled:b.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-indigo-600"})]})]}),(0,b.jsx)("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("i",{className:"fas fa-money-bill-wave text-indigo-600 mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-indigo-800",children:"Stacked Markup Model"}),(0,b.jsxs)("p",{className:"text-sm text-indigo-700",children:["Your markup is added ON TOP of the platform markup (",g,"%). Your sub-accounts will pay Twilio base price + platform markup + your agency markup."]})]})]})}),a.agencyMarkupEnabled?(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Agency Markup"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"number",value:a.agencyMarkupPercent,onChange:b=>e({...a,agencyMarkupPercent:parseFloat(b.target.value)||0}),className:"w-full px-4 py-3 pr-12 border-2 border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-xl font-semibold",min:"0",max:"50",step:"0.5"}),(0,b.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 text-xl",children:"%"})]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Added on top of ",g,"% platform markup"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-2",children:"Quick Presets"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:[5,10,15,20,25].map(c=>(0,b.jsxs)("button",{onClick:()=>e({...a,agencyMarkupPercent:c}),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${a.agencyMarkupPercent===c?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c,"%"]},c))})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Markup Stack Visualization"}),(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-gray-300 rounded"}),(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Twilio Base Price"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-purple-500 rounded"}),(0,b.jsxs)("span",{className:"text-sm text-gray-600",children:["Platform Markup (",g,"%)"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-indigo-500 rounded"}),(0,b.jsxs)("span",{className:"text-sm text-gray-600",children:["Your Markup (",a.agencyMarkupPercent,"%)"]})]})]}),(0,b.jsxs)("div",{className:"h-8 rounded-lg overflow-hidden flex mb-2",children:[(0,b.jsx)("div",{className:"bg-gray-300 flex items-center justify-center text-xs font-medium",style:{width:`${100/(1+j/100)}%`},children:"Base"}),(0,b.jsxs)("div",{className:"bg-purple-500 text-white flex items-center justify-center text-xs font-medium",style:{width:`${g/(100+j)*100}%`},children:["+",g,"%"]}),a.agencyMarkupPercent>0&&(0,b.jsxs)("div",{className:"bg-indigo-500 text-white flex items-center justify-center text-xs font-medium",style:{width:`${a.agencyMarkupPercent/(100+j)*100}%`},children:["+",a.agencyMarkupPercent,"%"]})]}),(0,b.jsxs)("p",{className:"text-center text-sm font-medium text-green-600",children:["Total: ",j,"% above Twilio"]})]})]}):(0,b.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,b.jsx)("i",{className:"fas fa-toggle-off text-4xl text-gray-300 mb-3"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Enable markup to add your own percentage on top of platform pricing"})]})]}),a.agencyMarkupEnabled&&(0,b.jsxs)("div",{className:"border-t pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-tag text-orange-500"}),"Promotional Markup"]}),(0,b.jsx)("button",{onClick:()=>{i(!h),h||e({...a,promoMarkupPercent:null,promoMarkupStartDate:null,promoMarkupEndDate:null,promoMarkupDescription:null})},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:h?"Cancel Promo":"Create Promo"})]}),h&&(0,b.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,b.jsxs)("p",{className:"text-sm text-orange-700 mb-4",children:[(0,b.jsx)("i",{className:"fas fa-info-circle mr-2"}),"During the promotional period, this markup will replace your standard agency markup."]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Promo Markup %"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"number",value:a.promoMarkupPercent||"",onChange:b=>e({...a,promoMarkupPercent:b.target.value?parseFloat(b.target.value):null}),className:"w-full px-4 py-2 pr-8 border rounded-lg focus:ring-2 focus:ring-orange-500",min:"0",max:"50",step:"0.5",placeholder:"e.g., 5"}),(0,b.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,b.jsx)("input",{type:"datetime-local",value:a.promoMarkupStartDate?.slice(0,16)||"",onChange:b=>e({...a,promoMarkupStartDate:b.target.value?new Date(b.target.value).toISOString():null}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,b.jsx)("input",{type:"datetime-local",value:a.promoMarkupEndDate?.slice(0,16)||"",onChange:b=>e({...a,promoMarkupEndDate:b.target.value?new Date(b.target.value).toISOString():null}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("input",{type:"text",value:a.promoMarkupDescription||"",onChange:b=>e({...a,promoMarkupDescription:b.target.value||null}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"e.g., New Year Special"})]})]})]})]})]}):(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("i",{className:"fas fa-lock text-indigo-600 text-2xl"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Enterprise Feature"}),(0,b.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:"Agency markup is only available on the Enterprise plan. Upgrade to add your own markup on top of platform pricing and increase your revenue."}),(0,b.jsxs)(d.default,{href:"/agency/billing/upgrade",className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:[(0,b.jsx)("i",{className:"fas fa-crown"}),"Upgrade to Enterprise"]})]})})}function h({settings:a,onChange:c}){return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Default Settings for New Sub-Accounts"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"These settings will be applied to new sub-accounts when they are created."}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-900",children:"Auto-Provision Twilio Subaccount"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Automatically create a Twilio subaccount for new sub-accounts"})]}),(0,b.jsx)("input",{type:"checkbox",checked:a.autoProvisionSubaccounts,onChange:b=>c({...a,autoProvisionSubaccounts:b.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600"})]}),(0,b.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-900",children:"Auto-Purchase Phone Number"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Automatically purchase a phone number for new sub-accounts"})]}),(0,b.jsx)("input",{type:"checkbox",checked:a.autoProvisionPhoneNumber,onChange:b=>c({...a,autoProvisionPhoneNumber:b.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600",disabled:!a.autoProvisionSubaccounts})]})]})]}),a.autoProvisionPhoneNumber&&(0,b.jsxs)("div",{className:"border-t pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Default Phone Number Settings"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number Type"}),(0,b.jsxs)("select",{value:a.defaultPhoneNumberType,onChange:b=>c({...a,defaultPhoneNumberType:b.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"local",children:"Local"}),(0,b.jsx)("option",{value:"toll_free",children:"Toll-Free"}),(0,b.jsx)("option",{value:"mobile",children:"Mobile"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,b.jsxs)("select",{value:a.defaultPhoneNumberCountry,onChange:b=>c({...a,defaultPhoneNumberCountry:b.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"US",children:"United States"}),(0,b.jsx)("option",{value:"CA",children:"Canada"})]})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Default Daily Limits"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Leave blank to use platform defaults. Sub-accounts can request changes."}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily SMS Limit"}),(0,b.jsx)("input",{type:"number",value:a.defaultDailySmsLimit||"",onChange:b=>c({...a,defaultDailySmsLimit:b.target.value?parseInt(b.target.value):null}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Use platform default",min:"100",max:"100000",step:"100"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily Call Limit"}),(0,b.jsx)("input",{type:"number",value:a.defaultDailyCallLimit||"",onChange:b=>c({...a,defaultDailyCallLimit:b.target.value?parseInt(b.target.value):null}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Use platform default",min:"50",max:"50000",step:"50"})]})]})]})]})}function i({settings:a,onChange:c}){return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Available Features for Sub-Accounts"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Control which telephony features are available to your sub-accounts. You can only enable features that are enabled at the platform level."}),(0,b.jsx)("div",{className:"space-y-3",children:[{id:"voiceEnabled",name:"Voice Calls",description:"Enable outbound and inbound voice calls for sub-accounts",icon:"ðŸ“ž",key:"voiceEnabled"},{id:"smsEnabled",name:"SMS Messaging",description:"Enable SMS text messaging (requires 10DLC registration)",icon:"ðŸ’¬",key:"smsEnabled"},{id:"mmsEnabled",name:"MMS Messaging",description:"Enable picture and media messaging",icon:"ðŸ–¼ï¸",key:"mmsEnabled"},{id:"powerDialerEnabled",name:"Power Dialer",description:"Enable power dialer features for sub-accounts ($10/user/month)",icon:"ðŸŽ¯",key:"powerDialerEnabled"}].map(d=>(0,b.jsxs)("label",{className:`flex items-center justify-between p-4 rounded-lg border-2 cursor-pointer transition-colors ${a[d.key]?"border-blue-500 bg-blue-50":"border-gray-200 bg-gray-50 hover:border-gray-300"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("span",{className:"text-2xl",children:d.icon}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-900",children:d.name}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:d.description})]})]}),(0,b.jsx)("input",{type:"checkbox",checked:a[d.key],onChange:b=>c({...a,[d.key]:b.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600"})]},d.id))})]}),(0,b.jsxs)("div",{className:"border-t pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agency Telephony Status"}),(0,b.jsxs)("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-900",children:"Telephony Active"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Master switch to enable/disable telephony for all your sub-accounts"})]}),(0,b.jsx)("input",{type:"checkbox",checked:a.isActive,onChange:b=>c({...a,isActive:b.target.checked}),className:"w-6 h-6 rounded border-gray-300 text-green-600"})]})]})]})}function j({settings:a,onChange:c}){return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Compliance Overrides"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Set stricter compliance thresholds for your sub-accounts. These cannot be looser than platform settings."}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMS Bounce Rate Warning (%)"}),(0,b.jsx)("input",{type:"number",value:a.smsBounceWarningThreshold||"",onChange:b=>c({...a,smsBounceWarningThreshold:b.target.value?parseFloat(b.target.value):null}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Use platform default",min:"1",max:"20",step:"0.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMS Bounce Rate Suspend (%)"}),(0,b.jsx)("input",{type:"number",value:a.smsBounceSuspendThreshold||"",onChange:b=>c({...a,smsBounceSuspendThreshold:b.target.value?parseFloat(b.target.value):null}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Use platform default",min:"1",max:"30",step:"0.5"})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Maximum Limits"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Set maximum limits that sub-accounts cannot exceed, even if they request higher."}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Daily SMS Limit"}),(0,b.jsx)("input",{type:"number",value:a.dailySmsLimitMax||"",onChange:b=>c({...a,dailySmsLimitMax:b.target.value?parseInt(b.target.value):null}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"No limit",min:"100",max:"100000",step:"100"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Daily Call Limit"}),(0,b.jsx)("input",{type:"number",value:a.dailyCallLimitMax||"",onChange:b=>c({...a,dailyCallLimitMax:b.target.value?parseInt(b.target.value):null}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"No limit",min:"50",max:"50000",step:"50"})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Billing Contact"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Contact Name"}),(0,b.jsx)("input",{type:"text",value:a.billingContactName||"",onChange:b=>c({...a,billingContactName:b.target.value||null}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Contact name for billing"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Email"}),(0,b.jsx)("input",{type:"email",value:a.billingEmail||"",onChange:b=>c({...a,billingEmail:b.target.value||null}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"billing@agency.com"})]})]})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_agency_settings_telephony_page_tsx_800eee31._.js.map