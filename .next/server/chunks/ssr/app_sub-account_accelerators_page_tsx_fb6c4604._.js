module.exports=[19774,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(86377);let g=[{id:"all",label:"All Workflows",icon:"fa-bolt",href:"/sub-account/accelerators",isSmartList:!1},{id:"needs-review",label:"Needs Review",icon:"fa-exclamation-triangle",href:"/sub-account/accelerators?tab=needs-review",isSmartList:!1},{id:"deleted",label:"Deleted",icon:"fa-trash-alt",href:"/sub-account/accelerators?tab=deleted",isSmartList:!1},{id:"human-built",label:"Human Built",icon:"fa-user",href:"/sub-account/accelerators?tab=human-built",isSmartList:!1},{id:"ai-built",label:"AI Built",icon:"fa-robot",href:"/sub-account/accelerators?tab=ai-built",isSmartList:!1}],h={contact_created:{label:"Contact Created",icon:"user-plus",color:"blue"},contact_changed:{label:"Contact Changed",icon:"user-edit",color:"blue"},contact_tag:{label:"Contact Tag",icon:"tag",color:"purple"},appointment_status:{label:"Appointment Status",icon:"calendar-check",color:"green"},customer_booked_appointment:{label:"Appointment Booked",icon:"calendar-plus",color:"green"},form_submitted:{label:"Form Submitted",icon:"file-alt",color:"indigo"},payment_received:{label:"Payment Received",icon:"dollar-sign",color:"emerald"},opportunity_status_change:{label:"Opportunity Changed",icon:"funnel-dollar",color:"yellow"},pipeline_stage_changed:{label:"Pipeline Stage Changed",icon:"columns",color:"orange"},call_status:{label:"Call Status",icon:"phone",color:"cyan"},email_events:{label:"Email Event",icon:"envelope",color:"pink"},inbound_webhook:{label:"Inbound Webhook",icon:"plug",color:"gray"},birthday_reminder:{label:"Birthday Reminder",icon:"birthday-cake",color:"rose"},task_added_completed:{label:"Task Event",icon:"tasks",color:"amber"}},i=[{id:"wf-001",name:"New Lead Welcome Sequence",description:"Automatically send welcome email and SMS when a new lead is created",status:"active",trigger:{type:"contact_created",config:{}},builtBy:"human",createdBy:{id:"user-001",name:"John Admin"},errorCount:0,totalExecutions:1250,successfulExecutions:1245,failedExecutions:5,lastExecutedAt:"2024-01-19T10:30:00Z",createdAt:"2023-06-15T08:00:00Z",updatedAt:"2024-01-10T14:20:00Z"},{id:"wf-002",name:"Appointment Reminder",description:"Send reminder 24h and 1h before appointment",status:"active",trigger:{type:"customer_booked_appointment",config:{}},builtBy:"ai",errorCount:0,totalExecutions:890,successfulExecutions:888,failedExecutions:2,lastExecutedAt:"2024-01-19T09:15:00Z",createdAt:"2023-09-20T11:00:00Z",updatedAt:"2024-01-05T16:45:00Z"},{id:"wf-003",name:"Payment Thank You",description:"Send thank you email after payment received",status:"error",trigger:{type:"payment_received",config:{}},builtBy:"human",createdBy:{id:"user-002",name:"Sarah Manager"},errorMessage:"Email template not found: template_payment_thanks",errorCount:15,totalExecutions:450,successfulExecutions:435,failedExecutions:15,lastExecutedAt:"2024-01-18T22:00:00Z",createdAt:"2023-11-01T09:30:00Z",updatedAt:"2024-01-18T22:00:00Z"},{id:"wf-004",name:"Lead Nurture Sequence",description:"AI-generated nurture campaign for cold leads",status:"active",trigger:{type:"contact_tag",config:{tag:"cold-lead"}},builtBy:"ai",errorCount:0,totalExecutions:320,successfulExecutions:318,failedExecutions:2,lastExecutedAt:"2024-01-19T08:45:00Z",createdAt:"2024-01-02T10:00:00Z",updatedAt:"2024-01-15T12:30:00Z"},{id:"wf-005",name:"Broken Integration Test",description:"Testing webhook integration",status:"error",trigger:{type:"inbound_webhook",config:{}},builtBy:"human",createdBy:{id:"user-001",name:"John Admin"},errorMessage:"Webhook endpoint returned 500 error",errorCount:42,totalExecutions:100,successfulExecutions:58,failedExecutions:42,lastExecutedAt:"2024-01-17T14:00:00Z",createdAt:"2024-01-10T16:00:00Z",updatedAt:"2024-01-17T14:00:00Z"},{id:"wf-006",name:"Old Marketing Campaign",description:"Deprecated email campaign",status:"deleted",trigger:{type:"contact_tag",config:{tag:"marketing"}},builtBy:"human",createdBy:{id:"user-002",name:"Sarah Manager"},errorCount:0,totalExecutions:2500,successfulExecutions:2480,failedExecutions:20,deletedAt:"2024-01-15T10:00:00Z",createdAt:"2022-03-10T08:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"wf-007",name:"Birthday Greetings",description:"Send birthday wishes to contacts",status:"deleted",trigger:{type:"birthday_reminder",config:{}},builtBy:"ai",errorCount:0,totalExecutions:150,successfulExecutions:150,failedExecutions:0,deletedAt:"2024-01-12T09:00:00Z",createdAt:"2023-08-01T10:00:00Z",updatedAt:"2024-01-12T09:00:00Z"},{id:"wf-008",name:"Pipeline Stage Notification",description:"Notify sales team when deal moves to negotiation",status:"inactive",trigger:{type:"pipeline_stage_changed",config:{stage:"negotiation"}},builtBy:"human",createdBy:{id:"user-003",name:"Mike Sales"},errorCount:0,totalExecutions:75,successfulExecutions:75,failedExecutions:0,lastExecutedAt:"2024-01-10T16:30:00Z",createdAt:"2023-12-01T14:00:00Z",updatedAt:"2024-01-08T11:00:00Z"},{id:"wf-009",name:"Smart Follow-up Generator",description:"AI generates personalized follow-up messages",status:"draft",trigger:{type:"email_events",config:{event:"opened"}},builtBy:"ai",errorCount:0,totalExecutions:0,successfulExecutions:0,failedExecutions:0,createdAt:"2024-01-18T15:00:00Z",updatedAt:"2024-01-18T15:00:00Z"}],j=[{id:"folder-001",name:"Lead Management",color:"#3B82F6",workflowCount:3},{id:"folder-002",name:"Customer Success",color:"#10B981",workflowCount:2},{id:"folder-003",name:"Sales Pipeline",color:"#F59E0B",workflowCount:1}];function k(){return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-4 w-64 bg-gray-100 rounded animate-pulse mt-2"})]})}),(0,b.jsx)("div",{className:"h-12 bg-gray-100 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-64 bg-gray-50 rounded animate-pulse"})]})}function l(){let a=(0,d.useRouter)(),k=(0,d.useSearchParams)().get("tab")||"all",[l,p]=(0,c.useState)(i),[q,r]=(0,c.useState)(j),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)("all"),[y,z]=(0,c.useState)("all"),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)("grid"),[E,F]=(0,c.useState)("updated"),[G,H]=(0,c.useState)([]),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=localStorage.getItem("acceleratorSmartLists");a&&H(JSON.parse(a))},[]);let Q=(0,c.useMemo)(()=>k.startsWith("list-")?G.find(a=>a.id===k):null,[k,G]);(0,c.useEffect)(()=>{Q?(B(Q.filters.search||""),x(Q.filters.status||"all"),z(Q.filters.triggerType||"all"),v(Q.filters.folderId||null)):k.startsWith("list-")},[Q,k]);let R=(0,c.useMemo)(()=>[...g,...G.map(a=>({id:a.id,label:a.name,icon:"fa-filter",href:`/sub-account/accelerators?tab=${a.id}`,isSmartList:!0}))],[G]),S=(0,c.useMemo)(()=>{let a=[...l];if(Q)a=a.filter(a=>"deleted"!==a.status),"human"===Q.filters.builtBy?a=a.filter(a=>"human"===a.builtBy):"ai"===Q.filters.builtBy&&(a=a.filter(a=>"ai"===a.builtBy));else switch(k){case"needs-review":a=a.filter(a=>"error"===a.status||a.errorCount>0);break;case"deleted":a=a.filter(a=>"deleted"===a.status);break;case"human-built":a=a.filter(a=>"human"===a.builtBy&&"deleted"!==a.status);break;case"ai-built":a=a.filter(a=>"ai"===a.builtBy&&"deleted"!==a.status);break;default:a=a.filter(a=>"deleted"!==a.status)}if(u&&(a=a.filter(a=>a.folder?.id===u)),"all"!==w&&(a=a.filter(a=>a.status===w)),"all"!==y&&(a=a.filter(a=>a.trigger.type===y)),A){let b=A.toLowerCase();a=a.filter(a=>a.name.toLowerCase().includes(b)||a.description?.toLowerCase().includes(b)||a.trigger.type.toLowerCase().includes(b))}return a.sort((a,b)=>"name"===E?a.name.localeCompare(b.name):"executions"===E?b.totalExecutions-a.totalExecutions:new Date(b.updatedAt).getTime()-new Date(a.updatedAt).getTime()),a},[l,k,Q,u,w,y,A,E]),T=(0,c.useMemo)(()=>({all:l.filter(a=>"deleted"!==a.status).length,needsReview:l.filter(a=>"error"===a.status||a.errorCount>0).length,deleted:l.filter(a=>"deleted"===a.status).length,humanBuilt:l.filter(a=>"human"===a.builtBy&&"deleted"!==a.status).length,aiBuilt:l.filter(a=>"ai"===a.builtBy&&"deleted"!==a.status).length}),[l]),U=(0,c.useMemo)(()=>({total:l.filter(a=>"deleted"!==a.status).length,active:l.filter(a=>"active"===a.status).length,errors:l.filter(a=>"error"===a.status).length,totalExecutions:l.reduce((a,b)=>a+b.totalExecutions,0),successRate:l.length>0&&Math.round(l.reduce((a,b)=>a+(b.totalExecutions>0?b.successfulExecutions/b.totalExecutions*100:0),0)/l.filter(a=>a.totalExecutions>0).length)||0}),[l]),V=()=>{a.push("/sub-account/accelerators/new")},W=b=>{a.push(`/sub-account/accelerators/${b}`)},X=a=>{let b="active"===a.status?"inactive":"active";p(l.map(c=>c.id===a.id?{...c,status:b}:c))},Y=a=>{confirm("Are you sure you want to delete this workflow?")&&p(l.map(b=>b.id===a?{...b,status:"deleted",deletedAt:new Date().toISOString()}:b))},Z=a=>{p(l.map(b=>b.id===a?{...b,status:"inactive",deletedAt:void 0}:b))},$=a=>{confirm("This will permanently delete the workflow. This action cannot be undone.")&&p(l.filter(b=>b.id!==a))},_=a=>{p([{...a,id:`wf-${Date.now()}`,name:`${a.name} (Copy)`,status:"draft",totalExecutions:0,successfulExecutions:0,failedExecutions:0,errorCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},...l])},aa=a=>h[a]||{label:a.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase()),icon:"bolt",color:"gray"},ab=a=>{let b={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",draft:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",deleted:"bg-red-100 text-red-800"};return b[a]||b.draft};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(f.PageHeader,{title:"Accelerators",description:"Automate your business with powerful workflows and automation",icon:"fa-bolt",actions:(0,b.jsxs)("button",{onClick:V,className:"px-4 py-2 bg-[var(--theme-secondary)] text-white rounded-lg hover:opacity-90 flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-plus"}),"New Workflow"]})}),(0,b.jsx)("div",{className:"border-b border-gray-200 bg-white -mx-6 px-6 overflow-x-auto",children:(0,b.jsxs)("nav",{className:"-mb-px flex space-x-4","aria-label":"Accelerator tabs",children:[R.map(a=>{let c=a.id===k,d="all"===a.id?T.all:"needs-review"===a.id?T.needsReview:"deleted"===a.id?T.deleted:"human-built"===a.id?T.humanBuilt:"ai-built"===a.id?T.aiBuilt:null;return(0,b.jsxs)("div",{className:"relative group flex items-center",children:[(0,b.jsxs)(e.default,{href:a.href,className:`inline-flex items-center border-b-2 py-4 px-1 text-sm font-medium whitespace-nowrap transition-colors ${c?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[(0,b.jsx)("i",{className:`fas ${a.icon} mr-2 text-base ${c?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),a.label,null!==d&&(0,b.jsx)("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${c?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500"} ${"needs-review"===a.id&&d>0?"bg-red-100 text-red-600":""}`,children:d})]}),a.isSmartList&&(0,b.jsx)("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),(a=>{if(!confirm("Delete this smart list?"))return;let b=G.filter(b=>b.id!==a);H(b),localStorage.setItem("acceleratorSmartLists",JSON.stringify(b))})(a.id)},className:"ml-1 p-1 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete smart list",children:(0,b.jsx)("i",{className:"fas fa-times text-xs"})})]},a.id)}),(0,b.jsxs)("button",{onClick:()=>J(!0),className:"inline-flex items-center border-b-2 border-transparent py-4 px-2 text-sm font-medium text-gray-400 hover:text-blue-600 whitespace-nowrap transition-colors",title:"Create new Smart List from current filters",children:[(0,b.jsx)("i",{className:"fas fa-plus mr-1"}),(0,b.jsx)("span",{children:"New Smart List"})]})]})}),"all"===k&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-bolt text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:U.total}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Workflows"})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-play text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:U.active}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Active"})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-exclamation-circle text-red-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:U.errors}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Errors"})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-rocket text-purple-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:U.totalExecutions.toLocaleString()}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Executions"})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-check-circle text-emerald-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[U.successRate,"%"]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Success Rate"})]})]})})]}),(0,b.jsxs)("div",{className:"flex gap-6",children:[(0,b.jsx)("div",{className:"w-64 flex-shrink-0",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:"Folders"}),(0,b.jsx)("button",{onClick:()=>{P(null),N(!0)},className:"w-6 h-6 flex items-center justify-center rounded bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition-colors",title:"Create folder",children:(0,b.jsx)("i",{className:"fas fa-plus text-xs"})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("button",{onClick:()=>v(null),className:`w-full text-left px-3 py-2 rounded-lg flex items-center gap-2 ${null===u?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[(0,b.jsx)("i",{className:"fas fa-inbox text-gray-400"}),(0,b.jsx)("span",{children:"All"}),(0,b.jsx)("span",{className:"ml-auto text-sm text-gray-400",children:S.length})]}),q.map(a=>(0,b.jsxs)("button",{onClick:()=>v(a.id),className:`w-full text-left px-3 py-2 rounded-lg flex items-center gap-2 ${u===a.id?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[(0,b.jsx)("i",{className:"fas fa-folder",style:{color:a.color||"#6B7280"}}),(0,b.jsx)("span",{className:"truncate",children:a.name}),(0,b.jsx)("span",{className:"ml-auto text-sm text-gray-400",children:a.workflowCount})]},a.id))]})]})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,b.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,b.jsx)("input",{type:"text",value:A,onChange:a=>B(a.target.value),placeholder:"Search workflows...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,b.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]}),(0,b.jsxs)("select",{value:w,onChange:a=>x(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"error",children:"Error"})]}),(0,b.jsxs)("select",{value:y,onChange:a=>z(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"all",children:"All Triggers"}),Object.entries(h).map(([a,{label:c}])=>(0,b.jsx)("option",{value:a,children:c},a))]}),(0,b.jsxs)("select",{value:E,onChange:a=>F(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"updated",children:"Last Updated"}),(0,b.jsx)("option",{value:"name",children:"Name"}),(0,b.jsx)("option",{value:"executions",children:"Most Executions"})]}),(0,b.jsxs)("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[(0,b.jsx)("button",{onClick:()=>D("grid"),className:`px-3 py-2 ${"grid"===C?"bg-gray-100":"bg-white"}`,children:(0,b.jsx)("i",{className:"fas fa-th-large text-gray-600"})}),(0,b.jsx)("button",{onClick:()=>D("list"),className:`px-3 py-2 ${"list"===C?"bg-gray-100":"bg-white"}`,children:(0,b.jsx)("i",{className:"fas fa-list text-gray-600"})})]}),(0,b.jsxs)("button",{onClick:()=>J(!0),className:"px-3 py-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg flex items-center gap-2",title:"Save current filters as Smart List",children:[(0,b.jsx)("i",{className:"fas fa-save"}),(0,b.jsx)("span",{className:"hidden lg:inline",children:"Save List"})]})]})}),0===S.length?(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("i",{className:`fas ${"needs-review"===k?"fa-check-circle text-green-400":"deleted"===k?"fa-trash-alt":"fa-bolt"} text-gray-400 text-2xl`})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"needs-review"===k?"All workflows are healthy!":"deleted"===k?"No deleted workflows":"No workflows found"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"needs-review"===k?"No workflows need your attention right now.":"deleted"===k?"Deleted workflows will appear here for 30 days.":A||"all"!==w?"Try adjusting your filters":"Create your first workflow to automate your business"}),"all"===k&&!A&&"all"===w&&(0,b.jsxs)("button",{onClick:V,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,b.jsx)("i",{className:"fas fa-plus mr-2"}),"Create Workflow"]})]}):"grid"===C?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(a=>(0,b.jsx)(m,{workflow:a,triggerInfo:aa(a.trigger.type),statusBadge:ab(a.status),isDeleted:"deleted"===k,onEdit:()=>W(a.id),onToggle:()=>X(a),onDelete:()=>Y(a.id),onRestore:()=>Z(a.id),onPermanentDelete:()=>$(a.id),onDuplicate:()=>_(a)},a.id))}):(0,b.jsx)(n,{workflows:S,getTriggerInfo:aa,getStatusBadge:ab,isDeleted:"deleted"===k,onEdit:W,onToggle:X,onDelete:Y,onRestore:Z,onPermanentDelete:$,onDuplicate:_})]})]}),I&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Save as Smart List"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Save your current filters as a smart list for quick access later."}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"List Name"}),(0,b.jsx)("input",{type:"text",value:K,onChange:a=>L(a.target.value),placeholder:"e.g., Active Lead Workflows",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,b.jsx)("p",{className:"font-medium mb-1",children:"Current Filters:"}),(0,b.jsxs)("ul",{className:"space-y-1",children:[A&&(0,b.jsxs)("li",{children:['Search: "',A,'"']}),"all"!==w&&(0,b.jsxs)("li",{children:["Status: ",w]}),"all"!==y&&(0,b.jsxs)("li",{children:["Trigger: ",h[y]?.label||y]}),u&&(0,b.jsxs)("li",{children:["Folder: ",q.find(a=>a.id===u)?.name]}),!A&&"all"===w&&"all"===y&&!u&&(0,b.jsx)("li",{className:"italic",children:"No filters applied"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>{J(!1),L("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!K.trim())return;let b={id:`list-${Date.now()}`,name:K,filters:{search:A,status:w,triggerType:y,builtBy:"human-built"===k?"human":"ai-built"===k?"ai":"",folderId:u||""},createdAt:new Date().toISOString()},c=[...G,b];H(c),localStorage.setItem("acceleratorSmartLists",JSON.stringify(c)),J(!1),L(""),a.push(`/sub-account/accelerators?tab=${b.id}`)},disabled:!K.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Save List"})]})]})}),M&&(0,b.jsx)(o,{folder:O,onClose:()=>{N(!1),P(null)},onSaved:a=>{O?r(q.map(b=>b.id===a.id?a:b)):r([...q,a]),N(!1),P(null)},onDelete:a=>{r(q.filter(b=>b.id!==a)),u===a&&v(null),N(!1),P(null)}})]})}function m({workflow:a,triggerInfo:d,statusBadge:e,isDeleted:f,onEdit:g,onToggle:h,onDelete:i,onRestore:j,onPermanentDelete:k,onDuplicate:l}){let[m,n]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:`bg-white rounded-lg border ${"error"===a.status?"border-red-200":"border-gray-200"} overflow-hidden hover:shadow-md transition-shadow`,children:["error"===a.status&&(0,b.jsx)("div",{className:"bg-red-50 px-4 py-2 border-b border-red-200",children:(0,b.jsxs)("p",{className:"text-sm text-red-700 flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-exclamation-triangle"}),a.errorMessage||"Workflow has errors"]})}),(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("button",{onClick:f?void 0:g,className:`font-medium text-gray-900 ${!f&&"hover:text-blue-600"} truncate block text-left`,children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:a.description})]}),(0,b.jsxs)("div",{className:"relative ml-2",children:[(0,b.jsx)("button",{onClick:()=>n(!m),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,b.jsx)("i",{className:"fas fa-ellipsis-v"})}),m&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>n(!1)}),(0,b.jsx)("div",{className:"absolute right-0 mt-1 w-44 bg-white rounded-lg shadow-lg border z-20",children:f?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:()=>{j(),n(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-undo text-gray-400 w-4"}),"Restore"]}),(0,b.jsxs)("button",{onClick:()=>{k(),n(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-trash w-4"}),"Delete Permanently"]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:()=>{g(),n(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-edit text-gray-400 w-4"}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>{l(),n(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-copy text-gray-400 w-4"}),"Duplicate"]}),(0,b.jsxs)("button",{onClick:()=>{h(),n(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[(0,b.jsx)("i",{className:`fas fa-${"active"===a.status?"pause":"play"} text-gray-400 w-4`}),"active"===a.status?"Deactivate":"Activate"]}),(0,b.jsx)("hr",{className:"my-1"}),(0,b.jsxs)("button",{onClick:()=>{i(),n(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-trash w-4"}),"Delete"]})]})})]})]})]})}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-50",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-lg bg-${d.color}-100 flex items-center justify-center`,children:(0,b.jsx)("i",{className:`fas fa-${d.icon} text-${d.color}-600 text-sm`})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Trigger"}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700 truncate",children:d.label})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${"ai"===a.builtBy?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:[(0,b.jsx)("i",{className:`fas ${"ai"===a.builtBy?"fa-robot":"fa-user"} mr-1`}),"ai"===a.builtBy?"AI":"Human"]}),(0,b.jsx)("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${e}`,children:a.status})]})]})}),(0,b.jsxs)("div",{className:"px-4 py-3 grid grid-cols-3 gap-2 text-center border-t",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:a.totalExecutions}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Runs"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:`text-lg font-semibold ${a.errorCount>0?"text-red-600":"text-green-600"}`,children:[a.totalExecutions>0?Math.round(a.successfulExecutions/a.totalExecutions*100):0,"%"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Success"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:a.lastExecutedAt?new Date(a.lastExecutedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:f?"Deleted":"Last Run"})]})]})]})}function n({workflows:a,getTriggerInfo:c,getStatusBadge:d,isDeleted:e,onEdit:f,onToggle:g,onDelete:h,onRestore:i,onPermanentDelete:j,onDuplicate:k}){return(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Name"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Trigger"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Built By"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Status"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Executions"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:e?"Deleted":"Last Run"}),(0,b.jsx)("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-600",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y",children:a.map(a=>{let l=c(a.trigger.type);return(0,b.jsxs)("tr",{className:`hover:bg-gray-50 ${"error"===a.status?"bg-red-50":""}`,children:[(0,b.jsxs)("td",{className:"px-4 py-3",children:[(0,b.jsx)("button",{onClick:()=>!e&&f(a.id),className:`font-medium text-gray-900 ${!e&&"hover:text-blue-600"}`,children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:a.description}),a.errorMessage&&(0,b.jsx)("p",{className:"text-xs text-red-600 mt-1",children:a.errorMessage})]}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("span",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)("i",{className:`fas fa-${l.icon} text-${l.color}-500`}),l.label]})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"ai"===a.builtBy?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:[(0,b.jsx)("i",{className:`fas ${"ai"===a.builtBy?"fa-robot":"fa-user"} mr-1`}),"ai"===a.builtBy?"AI Built":"Human Built"]})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${d(a.status)}`,children:a.status})}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-600",children:[a.totalExecutions.toLocaleString(),a.totalExecutions>0&&(0,b.jsxs)("span",{className:a.errorCount>0?"text-red-600 ml-1":"text-green-600 ml-1",children:["(",Math.round(a.successfulExecutions/a.totalExecutions*100),"%)"]})]}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:e?a.deletedAt?new Date(a.deletedAt).toLocaleDateString():"-":a.lastExecutedAt?new Date(a.lastExecutedAt).toLocaleDateString():"Never"}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsx)("div",{className:"flex items-center justify-end gap-2",children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>i(a.id),className:"p-2 rounded hover:bg-gray-100 text-blue-600",title:"Restore",children:(0,b.jsx)("i",{className:"fas fa-undo"})}),(0,b.jsx)("button",{onClick:()=>j(a.id),className:"p-2 rounded hover:bg-gray-100 text-red-600",title:"Delete Permanently",children:(0,b.jsx)("i",{className:"fas fa-trash"})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>g(a),className:`p-2 rounded hover:bg-gray-100 ${"active"===a.status?"text-green-600":"text-gray-400"}`,title:"active"===a.status?"Deactivate":"Activate",children:(0,b.jsx)("i",{className:`fas fa-${"active"===a.status?"pause":"play"}`})}),(0,b.jsx)("button",{onClick:()=>f(a.id),className:"p-2 rounded hover:bg-gray-100 text-gray-600",title:"Edit",children:(0,b.jsx)("i",{className:"fas fa-edit"})}),(0,b.jsx)("button",{onClick:()=>k(a),className:"p-2 rounded hover:bg-gray-100 text-gray-600",title:"Duplicate",children:(0,b.jsx)("i",{className:"fas fa-copy"})}),(0,b.jsx)("button",{onClick:()=>h(a.id),className:"p-2 rounded hover:bg-gray-100 text-red-600",title:"Delete",children:(0,b.jsx)("i",{className:"fas fa-trash"})})]})})})]},a.id)})})]})})}function o({folder:a,onClose:d,onSaved:e,onDelete:f}){let[g,h]=(0,c.useState)(a?.name||""),[i,j]=(0,c.useState)(a?.color||"#3B82F6");return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:a?"Edit Folder":"Create Folder"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folder Name"}),(0,b.jsx)("input",{type:"text",value:g,onChange:a=>h(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Lead Nurturing"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,b.jsx)("div",{className:"flex gap-2",children:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#6B7280"].map(a=>(0,b.jsx)("button",{onClick:()=>j(a),className:`w-8 h-8 rounded-full ${i===a?"ring-2 ring-offset-2 ring-blue-500":""}`,style:{backgroundColor:a}},a))})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[a?(0,b.jsx)("button",{onClick:()=>f(a.id),className:"text-red-600 hover:text-red-700 text-sm",children:"Delete Folder"}):(0,b.jsx)("div",{}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{g.trim()&&e({id:a?.id||`folder-${Date.now()}`,name:g,color:i,workflowCount:a?.workflowCount||0})},disabled:!g.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:a?"Save Changes":"Create Folder"})]})]})]})})}function p(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(k,{}),children:(0,b.jsx)(l,{})})}function q(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-[#0a0a0a] flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:(0,b.jsx)(p,{})})}a.s(["default",()=>q,"dynamic",0,"force-dynamic"])}];

//# sourceMappingURL=app_sub-account_accelerators_page_tsx_fb6c4604._.js.map