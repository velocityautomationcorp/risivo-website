{"version":3,"sources":["../../../../app/sub-account/contacts/%5BcontactId%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useParams, useRouter } from 'next/navigation'\nimport Link from 'next/link'\n\ninterface Contact {\n  id: string\n  firstName: string\n  lastName: string\n  email: string\n  phone: string | null\n  company: string | null\n  jobTitle: string | null\n  website: string | null\n  address: string | null\n  city: string | null\n  state: string | null\n  zipCode: string | null\n  country: string | null\n  status: string\n  source: string | null\n  tags: string[]\n  notes: string | null\n  score: number\n  createdAt: string\n  updatedAt: string\n  lastActivityAt: string | null\n  customFields?: Record<string, any>\n}\n\ninterface Activity {\n  id: string\n  type: 'email' | 'sms' | 'call' | 'note' | 'task' | 'appointment' | 'deal' | 'status_change' | 'tag_added' | 'tag_removed' | 'score_change' | 'created' | 'updated'\n  title: string\n  description?: string\n  metadata?: Record<string, any>\n  createdAt: string\n  createdBy?: string\n}\n\ninterface Opportunity {\n  id: string\n  name: string\n  value: number\n  stage: string\n  status: 'open' | 'won' | 'lost'\n  probability: number\n  expectedCloseDate?: string\n  createdAt: string\n}\n\ninterface Task {\n  id: string\n  title: string\n  description?: string\n  dueDate?: string\n  status: 'pending' | 'completed' | 'overdue'\n  priority: 'low' | 'medium' | 'high'\n  assignedTo?: string\n}\n\ninterface Appointment {\n  id: string\n  title: string\n  startTime: string\n  endTime: string\n  status: 'scheduled' | 'completed' | 'cancelled'\n  location?: string\n  notes?: string\n}\n\n// Mock activities data\nconst generateMockActivities = (contact: Contact): Activity[] => {\n  const activities: Activity[] = [\n    {\n      id: '1',\n      type: 'created',\n      title: 'Contact Created',\n      description: `${contact.firstName} ${contact.lastName} was added to your CRM`,\n      createdAt: contact.createdAt,\n      createdBy: 'System',\n    }\n  ]\n\n  // Add status change if not 'new'\n  if (contact.status !== 'new') {\n    activities.push({\n      id: '2',\n      type: 'status_change',\n      title: 'Status Changed',\n      description: `Status changed to \"${contact.status}\"`,\n      metadata: { fromStatus: 'new', toStatus: contact.status },\n      createdAt: new Date(new Date(contact.createdAt).getTime() + 86400000).toISOString(),\n      createdBy: 'John Smith',\n    })\n  }\n\n  // Add some mock activities\n  if (contact.lastActivityAt) {\n    activities.push({\n      id: '3',\n      type: 'email',\n      title: 'Email Sent',\n      description: 'Welcome email sent successfully',\n      metadata: { subject: 'Welcome to our platform!' },\n      createdAt: new Date(new Date(contact.createdAt).getTime() + 172800000).toISOString(),\n      createdBy: 'Sarah Johnson',\n    })\n  }\n\n  if (contact.phone) {\n    activities.push({\n      id: '4',\n      type: 'call',\n      title: 'Phone Call',\n      description: 'Introductory call - Discussed needs and requirements',\n      metadata: { duration: '15 minutes', outcome: 'Positive' },\n      createdAt: new Date(new Date(contact.createdAt).getTime() + 259200000).toISOString(),\n      createdBy: 'Mike Chen',\n    })\n  }\n\n  if (contact.tags && contact.tags.length > 0) {\n    activities.push({\n      id: '5',\n      type: 'tag_added',\n      title: 'Tags Added',\n      description: `Added tags: ${contact.tags.join(', ')}`,\n      createdAt: new Date(new Date(contact.createdAt).getTime() + 345600000).toISOString(),\n      createdBy: 'John Smith',\n    })\n  }\n\n  if (contact.notes) {\n    activities.push({\n      id: '6',\n      type: 'note',\n      title: 'Note Added',\n      description: contact.notes.substring(0, 100) + (contact.notes.length > 100 ? '...' : ''),\n      createdAt: new Date(new Date(contact.createdAt).getTime() + 432000000).toISOString(),\n      createdBy: 'Sarah Johnson',\n    })\n  }\n\n  // Sort by date descending\n  return activities.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n}\n\n// Mock opportunities\nconst generateMockOpportunities = (contact: Contact): Opportunity[] => {\n  if (contact.status === 'customer' || contact.status === 'qualified') {\n    return [\n      {\n        id: 'opp-1',\n        name: `${contact.company || contact.firstName} - Enterprise Plan`,\n        value: 12500,\n        stage: contact.status === 'customer' ? 'Closed Won' : 'Proposal',\n        status: contact.status === 'customer' ? 'won' : 'open',\n        probability: contact.status === 'customer' ? 100 : 75,\n        expectedCloseDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\n        createdAt: contact.createdAt,\n      }\n    ]\n  }\n  return []\n}\n\n// Mock tasks\nconst generateMockTasks = (contact: Contact): Task[] => {\n  const tasks: Task[] = []\n  \n  if (contact.status === 'new') {\n    tasks.push({\n      id: 'task-1',\n      title: 'Send welcome email',\n      description: 'Send personalized welcome email with onboarding information',\n      dueDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString(),\n      status: 'pending',\n      priority: 'high',\n      assignedTo: 'John Smith',\n    })\n  }\n\n  if (contact.status === 'contacted' || contact.status === 'qualified') {\n    tasks.push({\n      id: 'task-2',\n      title: 'Follow up call',\n      description: 'Schedule a follow-up call to discuss next steps',\n      dueDate: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toISOString(),\n      status: 'pending',\n      priority: 'medium',\n      assignedTo: 'Sarah Johnson',\n    })\n  }\n\n  return tasks\n}\n\n// Mock appointments\nconst generateMockAppointments = (contact: Contact): Appointment[] => {\n  if (contact.status === 'qualified' || contact.status === 'customer') {\n    return [\n      {\n        id: 'appt-1',\n        title: 'Discovery Call',\n        startTime: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n        endTime: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000 + 3600000).toISOString(),\n        status: 'scheduled',\n        location: 'Zoom Meeting',\n        notes: 'Discuss requirements and pricing options',\n      }\n    ]\n  }\n  return []\n}\n\nexport default function ContactDetailsPage() {\n  const params = useParams()\n  const router = useRouter()\n  \n  // Get contactId from params - handle both string and array\n  const contactIdParam = params?.contactId\n  const contactId = Array.isArray(contactIdParam) ? contactIdParam[0] : contactIdParam\n  const subAccountId = 'sub-001' // TODO: Get from auth/context\n\n  const [contact, setContact] = useState<Contact | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false)\n  const [deleting, setDeleting] = useState(false)\n  const [activeTab, setActiveTab] = useState<'overview' | 'activity' | 'opportunities' | 'tasks' | 'appointments'>('overview')\n  \n  // Activity related state\n  const [activities, setActivities] = useState<Activity[]>([])\n  const [opportunities, setOpportunities] = useState<Opportunity[]>([])\n  const [tasks, setTasks] = useState<Task[]>([])\n  const [appointments, setAppointments] = useState<Appointment[]>([])\n  \n  // Quick action modals\n  const [showEmailModal, setShowEmailModal] = useState(false)\n  const [showSmsModal, setShowSmsModal] = useState(false)\n  const [showNoteModal, setShowNoteModal] = useState(false)\n  const [showTaskModal, setShowTaskModal] = useState(false)\n  const [newNote, setNewNote] = useState('')\n  const [savingNote, setSavingNote] = useState(false)\n\n  // ID validation - accepts UUID or simple alphanumeric IDs\n  const isValidId = (id: string) => {\n    // UUID format (v4)\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i\n    // Simple alphanumeric ID format\n    const simpleIdRegex = /^[a-zA-Z0-9_-]+$/\n    \n    return uuidRegex.test(id) || simpleIdRegex.test(id)\n  }\n\n  // Fetch contact details\n  useEffect(() => {\n    console.log('ContactDetailsPage - contactId:', contactId, 'type:', typeof contactId, 'length:', contactId?.length)\n    \n    // Validate contactId exists, is not \"undefined\" string, and is valid\n    if (contactId && contactId !== 'undefined' && typeof contactId === 'string' && isValidId(contactId) && subAccountId) {\n      console.log('Fetching contact with valid ID:', contactId)\n      fetchContact()\n    } else {\n      setLoading(false)\n      if (!contactId || contactId === 'undefined') {\n        setError('Contact ID is missing. Please return to the contacts list and try again.')\n      } else if (!isValidId(contactId)) {\n        setError(`Invalid contact ID format: ${contactId}`)\n        console.error('Invalid contactId format:', contactId, 'isValidId:', isValidId(contactId))\n      } else {\n        setError('Invalid contact ID')\n      }\n    }\n  }, [contactId, subAccountId])\n\n  const fetchContact = async () => {\n    try {\n      setLoading(true)\n      const response = await fetch(\n        `/api/v1/contacts/${contactId}?subAccountId=${subAccountId}`\n      )\n      const data = await response.json()\n\n      if (data.success) {\n        setContact(data.data.contact)\n        \n        // Generate mock data for the contact\n        setActivities(generateMockActivities(data.data.contact))\n        setOpportunities(generateMockOpportunities(data.data.contact))\n        setTasks(generateMockTasks(data.data.contact))\n        setAppointments(generateMockAppointments(data.data.contact))\n      } else {\n        setError(data.error || 'Failed to load contact')\n      }\n    } catch (err: any) {\n      console.error('Failed to fetch contact:', err)\n      setError('Failed to load contact')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Handle delete\n  const handleDelete = async () => {\n    try {\n      setDeleting(true)\n      const response = await fetch(\n        `/api/v1/contacts/${contactId}?subAccountId=${subAccountId}`,\n        {\n          method: 'DELETE',\n        }\n      )\n      const data = await response.json()\n\n      if (data.success) {\n        // Redirect to contacts list\n        router.push('/sub-account/contacts')\n      } else {\n        setError(data.error || 'Failed to delete contact')\n      }\n    } catch (err: any) {\n      console.error('Failed to delete contact:', err)\n      setError('Failed to delete contact')\n    } finally {\n      setDeleting(false)\n      setDeleteModalOpen(false)\n    }\n  }\n\n  // Add note\n  const handleAddNote = async () => {\n    if (!newNote.trim()) return\n    \n    setSavingNote(true)\n    \n    try {\n      // Add to activities\n      const newActivity: Activity = {\n        id: `note-${Date.now()}`,\n        type: 'note',\n        title: 'Note Added',\n        description: newNote,\n        createdAt: new Date().toISOString(),\n        createdBy: 'You',\n      }\n      \n      setActivities([newActivity, ...activities])\n      setNewNote('')\n      setShowNoteModal(false)\n      \n      // TODO: Save to API\n    } catch (err) {\n      console.error('Failed to add note:', err)\n    } finally {\n      setSavingNote(false)\n    }\n  }\n\n  // Get status badge color\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'new':\n        return 'bg-blue-100 text-blue-800 border-blue-200'\n      case 'contacted':\n        return 'bg-amber-100 text-amber-800 border-amber-200'\n      case 'qualified':\n        return 'bg-purple-100 text-purple-800 border-purple-200'\n      case 'customer':\n        return 'bg-emerald-100 text-emerald-800 border-emerald-200'\n      case 'lost':\n        return 'bg-red-100 text-red-800 border-red-200'\n      default:\n        return 'bg-gray-100 text-gray-800 border-gray-200'\n    }\n  }\n\n  // Get activity icon\n  const getActivityIcon = (type: Activity['type']) => {\n    switch (type) {\n      case 'email':\n        return (\n          <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n            <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n            </svg>\n          </div>\n        )\n      case 'sms':\n        return (\n          <div className=\"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center\">\n            <svg className=\"w-4 h-4 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n            </svg>\n          </div>\n        )\n      case 'call':\n        return (\n          <div className=\"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center\">\n            <svg className=\"w-4 h-4 text-emerald-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n            </svg>\n          </div>\n        )\n      case 'note':\n        return (\n          <div className=\"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center\">\n            <svg className=\"w-4 h-4 text-amber-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n            </svg>\n          </div>\n        )\n      case 'task':\n        return (\n          <div className=\"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center\">\n            <svg className=\"w-4 h-4 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\" />\n            </svg>\n          </div>\n        )\n      case 'appointment':\n        return (\n          <div className=\"w-8 h-8 bg-cyan-100 rounded-lg flex items-center justify-center\">\n            <svg className=\"w-4 h-4 text-cyan-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n          </div>\n        )\n      case 'deal':\n        return (\n          <div className=\"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center\">\n            <svg className=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          </div>\n        )\n      case 'status_change':\n        return (\n          <div className=\"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center\">\n            <svg className=\"w-4 h-4 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4\" />\n            </svg>\n          </div>\n        )\n      case 'tag_added':\n      case 'tag_removed':\n        return (\n          <div className=\"w-8 h-8 bg-pink-100 rounded-lg flex items-center justify-center\">\n            <svg className=\"w-4 h-4 text-pink-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\n            </svg>\n          </div>\n        )\n      case 'created':\n        return (\n          <div className=\"w-8 h-8 bg-violet-100 rounded-lg flex items-center justify-center\">\n            <svg className=\"w-4 h-4 text-violet-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n            </svg>\n          </div>\n        )\n      default:\n        return (\n          <div className=\"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center\">\n            <svg className=\"w-4 h-4 text-slate-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          </div>\n        )\n    }\n  }\n\n  // Format date\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n    })\n  }\n\n  // Format datetime\n  const formatDateTime = (dateString: string) => {\n    return new Date(dateString).toLocaleString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric',\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true,\n    })\n  }\n\n  // Format relative time\n  const formatRelativeTime = (dateString: string) => {\n    const date = new Date(dateString)\n    const now = new Date()\n    const diff = now.getTime() - date.getTime()\n    const seconds = Math.floor(diff / 1000)\n    const minutes = Math.floor(seconds / 60)\n    const hours = Math.floor(minutes / 60)\n    const days = Math.floor(hours / 24)\n\n    if (days > 7) return formatDate(dateString)\n    if (days > 0) return `${days}d ago`\n    if (hours > 0) return `${hours}h ago`\n    if (minutes > 0) return `${minutes}m ago`\n    return 'Just now'\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-4 border-slate-200 border-t-violet-600\"></div>\n          <p className=\"mt-4 text-slate-600 font-medium\">Loading contact...</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (error || !contact) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 py-8\">\n        <div className=\"bg-red-50 border border-red-200 text-red-800 px-6 py-4 rounded-2xl\">\n          <h2 className=\"text-lg font-semibold mb-2\">Error</h2>\n          <p>{error || 'Contact not found'}</p>\n          <Link\n            href=\"/sub-account/contacts\"\n            className=\"inline-block mt-4 text-red-600 hover:text-red-800 font-medium\"\n          >\n            ‚Üê Back to Contacts\n          </Link>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8\">\n      {/* Header */}\n      <div className=\"mb-6\">\n        <Link\n          href=\"/sub-account/contacts\"\n          className=\"text-violet-600 hover:text-violet-800 font-medium mb-4 inline-flex items-center gap-2\"\n        >\n          <svg\n            className=\"w-5 h-5\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M15 19l-7-7 7-7\"\n            />\n          </svg>\n          Back to Contacts\n        </Link>\n\n        {/* Contact Header Card */}\n        <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden mt-4\">\n          <div className=\"bg-gradient-to-r from-violet-600 to-purple-600 px-6 py-8\">\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n              <div className=\"flex items-center gap-4\">\n                <div className=\"w-20 h-20 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-white text-2xl font-bold\">\n                  {contact.firstName[0]}{contact.lastName[0]}\n                </div>\n                <div>\n                  <h1 className=\"text-2xl sm:text-3xl font-bold text-white\">\n                    {contact.firstName} {contact.lastName}\n                  </h1>\n                  <p className=\"text-violet-100 mt-1\">{contact.email}</p>\n                  {contact.company && (\n                    <p className=\"text-violet-200 text-sm mt-1\">\n                      {contact.jobTitle && `${contact.jobTitle} at `}{contact.company}\n                    </p>\n                  )}\n                </div>\n              </div>\n              <div className=\"flex flex-wrap gap-2\">\n                <span className={`px-4 py-2 rounded-xl text-sm font-semibold capitalize border ${getStatusColor(contact.status)}`}>\n                  {contact.status}\n                </span>\n              </div>\n            </div>\n          </div>\n          \n          {/* Quick Actions */}\n          <div className=\"px-6 py-4 bg-slate-50 border-t border-slate-200 flex flex-wrap gap-3\">\n            <button\n              onClick={() => setShowEmailModal(true)}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors inline-flex items-center gap-2\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n              </svg>\n              Email\n            </button>\n            {contact.phone && (\n              <>\n                <a\n                  href={`tel:${contact.phone}`}\n                  className=\"px-4 py-2 bg-emerald-600 text-white rounded-xl font-medium hover:bg-emerald-700 transition-colors inline-flex items-center gap-2\"\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                  </svg>\n                  Call\n                </a>\n                <button\n                  onClick={() => setShowSmsModal(true)}\n                  className=\"px-4 py-2 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-colors inline-flex items-center gap-2\"\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n                  </svg>\n                  SMS\n                </button>\n              </>\n            )}\n            <button\n              onClick={() => setShowNoteModal(true)}\n              className=\"px-4 py-2 bg-amber-600 text-white rounded-xl font-medium hover:bg-amber-700 transition-colors inline-flex items-center gap-2\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n              </svg>\n              Add Note\n            </button>\n            <div className=\"flex-1\"></div>\n            <button\n              onClick={() => router.push(`/sub-account/contacts#edit-${contactId}`)}\n              className=\"px-4 py-2 border border-slate-300 text-slate-700 rounded-xl font-medium hover:bg-slate-100 transition-colors inline-flex items-center gap-2\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n              </svg>\n              Edit\n            </button>\n            <button\n              onClick={() => setDeleteModalOpen(true)}\n              className=\"px-4 py-2 border border-red-300 text-red-600 rounded-xl font-medium hover:bg-red-50 transition-colors inline-flex items-center gap-2\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n              </svg>\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Tab Navigation */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 mb-6\">\n        <nav className=\"flex overflow-x-auto\">\n          {[\n            { id: 'overview', label: 'Overview', icon: 'M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z' },\n            { id: 'activity', label: 'Activity', icon: 'M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z', count: activities.length },\n            { id: 'opportunities', label: 'Opportunities', icon: 'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z', count: opportunities.length },\n            { id: 'tasks', label: 'Tasks', icon: 'M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4', count: tasks.length },\n            { id: 'appointments', label: 'Appointments', icon: 'M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z', count: appointments.length },\n          ].map(tab => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id as any)}\n              className={`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ${\n                activeTab === tab.id\n                  ? 'border-violet-600 text-violet-600'\n                  : 'border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300'\n              }`}\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d={tab.icon} />\n              </svg>\n              {tab.label}\n              {tab.count !== undefined && tab.count > 0 && (\n                <span className={`px-2 py-0.5 text-xs rounded-full ${\n                  activeTab === tab.id\n                    ? 'bg-violet-100 text-violet-700'\n                    : 'bg-slate-100 text-slate-600'\n                }`}>\n                  {tab.count}\n                </span>\n              )}\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Main Content */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          {/* Overview Tab */}\n          {activeTab === 'overview' && (\n            <>\n              {/* Contact Information Card */}\n              <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden\">\n                <div className=\"px-6 py-4 border-b border-slate-200\">\n                  <h2 className=\"text-lg font-semibold text-slate-900\">Contact Information</h2>\n                </div>\n                <div className=\"p-6 space-y-4\">\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"text-sm font-medium text-slate-500\">Email</label>\n                      <p className=\"text-slate-900 mt-1\">{contact.email}</p>\n                    </div>\n                    {contact.phone && (\n                      <div>\n                        <label className=\"text-sm font-medium text-slate-500\">Phone</label>\n                        <p className=\"text-slate-900 mt-1\">{contact.phone}</p>\n                      </div>\n                    )}\n                    {contact.company && (\n                      <div>\n                        <label className=\"text-sm font-medium text-slate-500\">Company</label>\n                        <p className=\"text-slate-900 mt-1\">{contact.company}</p>\n                      </div>\n                    )}\n                    {contact.jobTitle && (\n                      <div>\n                        <label className=\"text-sm font-medium text-slate-500\">Job Title</label>\n                        <p className=\"text-slate-900 mt-1\">{contact.jobTitle}</p>\n                      </div>\n                    )}\n                    {contact.website && (\n                      <div>\n                        <label className=\"text-sm font-medium text-slate-500\">Website</label>\n                        <a\n                          href={contact.website}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-violet-600 hover:text-violet-800 mt-1 inline-block\"\n                        >\n                          {contact.website}\n                        </a>\n                      </div>\n                    )}\n                    {contact.source && (\n                      <div>\n                        <label className=\"text-sm font-medium text-slate-500\">Source</label>\n                        <p className=\"text-slate-900 mt-1 capitalize\">{contact.source}</p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Address Card */}\n              {(contact.address || contact.city || contact.state || contact.zipCode || contact.country) && (\n                <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden\">\n                  <div className=\"px-6 py-4 border-b border-slate-200\">\n                    <h2 className=\"text-lg font-semibold text-slate-900\">Address</h2>\n                  </div>\n                  <div className=\"p-6\">\n                    <div className=\"space-y-1 text-slate-900\">\n                      {contact.address && <p>{contact.address}</p>}\n                      {(contact.city || contact.state || contact.zipCode) && (\n                        <p>\n                          {contact.city}\n                          {contact.city && contact.state && ', '}\n                          {contact.state} {contact.zipCode}\n                        </p>\n                      )}\n                      {contact.country && <p>{contact.country}</p>}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Notes Card */}\n              {contact.notes && (\n                <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden\">\n                  <div className=\"px-6 py-4 border-b border-slate-200\">\n                    <h2 className=\"text-lg font-semibold text-slate-900\">Notes</h2>\n                  </div>\n                  <div className=\"p-6\">\n                    <p className=\"text-slate-700 whitespace-pre-wrap\">{contact.notes}</p>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n\n          {/* Activity Tab */}\n          {activeTab === 'activity' && (\n            <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden\">\n              <div className=\"px-6 py-4 border-b border-slate-200 flex items-center justify-between\">\n                <h2 className=\"text-lg font-semibold text-slate-900\">Activity Timeline</h2>\n                <button\n                  onClick={() => setShowNoteModal(true)}\n                  className=\"px-4 py-2 text-sm bg-violet-100 text-violet-700 rounded-lg hover:bg-violet-200 font-medium\"\n                >\n                  + Add Activity\n                </button>\n              </div>\n              <div className=\"p-6\">\n                {activities.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <div className=\"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n                      <svg className=\"w-8 h-8 text-slate-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    </div>\n                    <h3 className=\"text-lg font-semibold text-slate-900 mb-2\">No activity yet</h3>\n                    <p className=\"text-slate-600\">Start interacting with this contact to see activity here</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {activities.map((activity, index) => (\n                      <div key={activity.id} className=\"flex gap-4\">\n                        {getActivityIcon(activity.type)}\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-start justify-between gap-2\">\n                            <div>\n                              <p className=\"font-medium text-slate-900\">{activity.title}</p>\n                              {activity.description && (\n                                <p className=\"text-sm text-slate-600 mt-1\">{activity.description}</p>\n                              )}\n                              {activity.createdBy && (\n                                <p className=\"text-xs text-slate-500 mt-1\">by {activity.createdBy}</p>\n                              )}\n                            </div>\n                            <span className=\"text-xs text-slate-500 whitespace-nowrap\">\n                              {formatRelativeTime(activity.createdAt)}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Opportunities Tab */}\n          {activeTab === 'opportunities' && (\n            <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden\">\n              <div className=\"px-6 py-4 border-b border-slate-200 flex items-center justify-between\">\n                <h2 className=\"text-lg font-semibold text-slate-900\">Opportunities</h2>\n                <button className=\"px-4 py-2 text-sm bg-violet-100 text-violet-700 rounded-lg hover:bg-violet-200 font-medium\">\n                  + Add Opportunity\n                </button>\n              </div>\n              <div className=\"p-6\">\n                {opportunities.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <div className=\"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n                      <svg className=\"w-8 h-8 text-slate-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    </div>\n                    <h3 className=\"text-lg font-semibold text-slate-900 mb-2\">No opportunities yet</h3>\n                    <p className=\"text-slate-600\">Create an opportunity to track potential deals</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {opportunities.map(opp => (\n                      <div key={opp.id} className=\"p-4 border border-slate-200 rounded-xl hover:border-violet-300 transition-colors\">\n                        <div className=\"flex items-start justify-between\">\n                          <div>\n                            <h3 className=\"font-semibold text-slate-900\">{opp.name}</h3>\n                            <p className=\"text-sm text-slate-600 mt-1\">Stage: {opp.stage}</p>\n                          </div>\n                          <div className=\"text-right\">\n                            <p className=\"text-lg font-bold text-slate-900\">${opp.value.toLocaleString()}</p>\n                            <span className={`text-xs font-medium px-2 py-1 rounded-full ${\n                              opp.status === 'won' ? 'bg-emerald-100 text-emerald-700' :\n                              opp.status === 'lost' ? 'bg-red-100 text-red-700' :\n                              'bg-blue-100 text-blue-700'\n                            }`}>\n                              {opp.probability}% probability\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Tasks Tab */}\n          {activeTab === 'tasks' && (\n            <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden\">\n              <div className=\"px-6 py-4 border-b border-slate-200 flex items-center justify-between\">\n                <h2 className=\"text-lg font-semibold text-slate-900\">Tasks</h2>\n                <button\n                  onClick={() => setShowTaskModal(true)}\n                  className=\"px-4 py-2 text-sm bg-violet-100 text-violet-700 rounded-lg hover:bg-violet-200 font-medium\"\n                >\n                  + Add Task\n                </button>\n              </div>\n              <div className=\"p-6\">\n                {tasks.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <div className=\"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n                      <svg className=\"w-8 h-8 text-slate-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\" />\n                      </svg>\n                    </div>\n                    <h3 className=\"text-lg font-semibold text-slate-900 mb-2\">No tasks yet</h3>\n                    <p className=\"text-slate-600\">Create a task to track follow-ups</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {tasks.map(task => (\n                      <div key={task.id} className=\"flex items-start gap-3 p-4 border border-slate-200 rounded-xl\">\n                        <input\n                          type=\"checkbox\"\n                          checked={task.status === 'completed'}\n                          className=\"mt-1 w-5 h-5 rounded border-slate-300 text-violet-600 focus:ring-violet-500\"\n                          onChange={() => {}}\n                        />\n                        <div className=\"flex-1\">\n                          <h3 className=\"font-medium text-slate-900\">{task.title}</h3>\n                          {task.description && (\n                            <p className=\"text-sm text-slate-600 mt-1\">{task.description}</p>\n                          )}\n                          <div className=\"flex items-center gap-3 mt-2 text-xs\">\n                            {task.dueDate && (\n                              <span className=\"text-slate-500\">Due: {formatDate(task.dueDate)}</span>\n                            )}\n                            <span className={`px-2 py-0.5 rounded font-medium ${\n                              task.priority === 'high' ? 'bg-red-100 text-red-700' :\n                              task.priority === 'medium' ? 'bg-amber-100 text-amber-700' :\n                              'bg-slate-100 text-slate-700'\n                            }`}>\n                              {task.priority}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Appointments Tab */}\n          {activeTab === 'appointments' && (\n            <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden\">\n              <div className=\"px-6 py-4 border-b border-slate-200 flex items-center justify-between\">\n                <h2 className=\"text-lg font-semibold text-slate-900\">Appointments</h2>\n                <button className=\"px-4 py-2 text-sm bg-violet-100 text-violet-700 rounded-lg hover:bg-violet-200 font-medium\">\n                  + Schedule\n                </button>\n              </div>\n              <div className=\"p-6\">\n                {appointments.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <div className=\"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n                      <svg className=\"w-8 h-8 text-slate-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                      </svg>\n                    </div>\n                    <h3 className=\"text-lg font-semibold text-slate-900 mb-2\">No appointments scheduled</h3>\n                    <p className=\"text-slate-600\">Schedule a meeting with this contact</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {appointments.map(apt => (\n                      <div key={apt.id} className=\"p-4 border border-slate-200 rounded-xl\">\n                        <div className=\"flex items-start justify-between\">\n                          <div>\n                            <h3 className=\"font-semibold text-slate-900\">{apt.title}</h3>\n                            <p className=\"text-sm text-slate-600 mt-1\">\n                              {formatDateTime(apt.startTime)}\n                            </p>\n                            {apt.location && (\n                              <p className=\"text-sm text-slate-500 mt-1\">{apt.location}</p>\n                            )}\n                          </div>\n                          <span className={`text-xs font-medium px-2 py-1 rounded-full ${\n                            apt.status === 'scheduled' ? 'bg-blue-100 text-blue-700' :\n                            apt.status === 'completed' ? 'bg-emerald-100 text-emerald-700' :\n                            'bg-slate-100 text-slate-700'\n                          }`}>\n                            {apt.status}\n                          </span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"space-y-6\">\n          {/* Lead Score Card */}\n          <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden\">\n            <div className=\"px-6 py-4 border-b border-slate-200\">\n              <h2 className=\"text-lg font-semibold text-slate-900\">Lead Score</h2>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"text-center\">\n                <div className=\"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-violet-500 to-purple-600\">\n                  <span className=\"text-3xl font-bold text-white\">{contact.score}</span>\n                </div>\n                <div className=\"mt-4\">\n                  <div className=\"w-full h-2 bg-slate-200 rounded-full overflow-hidden\">\n                    <div\n                      className=\"h-full bg-gradient-to-r from-violet-600 to-purple-600 rounded-full transition-all\"\n                      style={{ width: `${contact.score}%` }}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Tags Card */}\n          <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden\">\n            <div className=\"px-6 py-4 border-b border-slate-200 flex items-center justify-between\">\n              <h2 className=\"text-lg font-semibold text-slate-900\">Tags</h2>\n              <button className=\"text-violet-600 hover:text-violet-700 text-sm font-medium\">\n                + Add\n              </button>\n            </div>\n            <div className=\"p-6\">\n              {contact.tags && contact.tags.length > 0 ? (\n                <div className=\"flex flex-wrap gap-2\">\n                  {contact.tags.map((tag, index) => (\n                    <span\n                      key={index}\n                      className=\"px-3 py-1 bg-violet-100 text-violet-700 rounded-full text-sm font-medium\"\n                    >\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"text-slate-500 text-sm\">No tags added</p>\n              )}\n            </div>\n          </div>\n\n          {/* Activity Summary Card */}\n          <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden\">\n            <div className=\"px-6 py-4 border-b border-slate-200\">\n              <h2 className=\"text-lg font-semibold text-slate-900\">Summary</h2>\n            </div>\n            <div className=\"p-6 space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-slate-600\">Created</span>\n                <span className=\"font-medium text-slate-900\">{formatDate(contact.createdAt)}</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-slate-600\">Last Updated</span>\n                <span className=\"font-medium text-slate-900\">{formatDate(contact.updatedAt)}</span>\n              </div>\n              {contact.lastActivityAt && (\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-slate-600\">Last Activity</span>\n                  <span className=\"font-medium text-slate-900\">{formatRelativeTime(contact.lastActivityAt)}</span>\n                </div>\n              )}\n              <hr className=\"border-slate-200\" />\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-slate-600\">Opportunities</span>\n                <span className=\"font-medium text-slate-900\">{opportunities.length}</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-slate-600\">Tasks</span>\n                <span className=\"font-medium text-slate-900\">{tasks.length}</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-slate-600\">Appointments</span>\n                <span className=\"font-medium text-slate-900\">{appointments.length}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Add Note Modal */}\n      {showNoteModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl max-w-lg w-full shadow-2xl overflow-hidden\">\n            <div className=\"bg-gradient-to-r from-amber-500 to-orange-500 px-6 py-4 flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm\">\n                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                  </svg>\n                </div>\n                <h3 className=\"text-lg font-semibold text-white\">Add Note</h3>\n              </div>\n              <button\n                onClick={() => {\n                  setShowNoteModal(false)\n                  setNewNote('')\n                }}\n                className=\"text-white hover:bg-white/20 rounded-lg p-2\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div className=\"p-6 space-y-4\">\n              <textarea\n                value={newNote}\n                onChange={(e) => setNewNote(e.target.value)}\n                placeholder=\"Write your note here...\"\n                rows={6}\n                className=\"w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none\"\n                autoFocus\n              />\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => {\n                    setShowNoteModal(false)\n                    setNewNote('')\n                  }}\n                  className=\"flex-1 px-4 py-3 border border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 font-medium\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleAddNote}\n                  disabled={!newNote.trim() || savingNote}\n                  className=\"flex-1 px-4 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl font-medium hover:from-amber-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {savingNote ? 'Saving...' : 'Add Note'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete Confirmation Modal */}\n      {deleteModalOpen && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl max-w-md w-full shadow-2xl overflow-hidden\">\n            <div className=\"bg-gradient-to-r from-red-600 to-rose-600 px-6 py-4 flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm\">\n                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                  </svg>\n                </div>\n                <h3 className=\"text-lg font-semibold text-white\">Delete Contact</h3>\n              </div>\n              <button\n                onClick={() => setDeleteModalOpen(false)}\n                className=\"text-white hover:bg-white/20 rounded-lg p-2\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div className=\"p-6\">\n              <p className=\"text-slate-700 mb-6\">\n                Are you sure you want to delete <span className=\"font-semibold\">{contact.firstName} {contact.lastName}</span>?\n                This action cannot be undone.\n              </p>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setDeleteModalOpen(false)}\n                  disabled={deleting}\n                  className=\"flex-1 px-4 py-3 border border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 font-medium\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleDelete}\n                  disabled={deleting}\n                  className=\"flex-1 px-4 py-3 bg-gradient-to-r from-red-600 to-rose-600 text-white rounded-xl font-medium hover:from-red-700 hover:to-rose-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {deleting ? 'Deleting...' : 'Delete'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}