{"version":3,"sources":["../../../../app/sub-account/marketing/brand-studio/page.tsx"],"sourcesContent":["'use client'\n\n// ==========================================\n// RISIVO CRM - Brand Studio Page\n// Located in Marketing ‚Üí Brand Studio\n// ==========================================\n\nimport { useState, useEffect, useRef } from 'react'\nimport { useTheme } from '@/hooks/useTheme'\nimport { SubAccountTheme, ThemePreset } from '@/lib/theme/types'\nimport { RISIVO_DEFAULT_THEME } from '@/lib/theme/defaults'\n\n// Color Picker Component\nfunction ColorPicker({ \n  label, \n  value, \n  onChange, \n  description \n}: { \n  label: string\n  value: string\n  onChange: (value: string) => void\n  description?: string\n}) {\n  return (\n    <div className=\"flex items-center justify-between gap-4 py-3 border-b border-[var(--theme-border)]\">\n      <div className=\"flex-1\">\n        <label className=\"text-sm font-medium text-[var(--theme-text-primary)]\">{label}</label>\n        {description && (\n          <p className=\"text-xs text-[var(--theme-text-muted)] mt-0.5\">{description}</p>\n        )}\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <input\n          type=\"color\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          className=\"w-10 h-10 rounded-lg cursor-pointer border border-[var(--theme-border)] p-0.5\"\n        />\n        <input\n          type=\"text\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          className=\"w-24 px-2 py-1.5 text-sm border border-[var(--theme-border)] rounded-lg bg-[var(--theme-input-bg)] text-[var(--theme-input-text)] focus:ring-2 focus:ring-[var(--theme-input-focus)] focus:border-transparent uppercase\"\n          placeholder=\"#000000\"\n        />\n      </div>\n    </div>\n  )\n}\n\n// Preset Card Component\nfunction PresetCard({ \n  preset, \n  isSelected, \n  onSelect \n}: { \n  preset: ThemePreset\n  isSelected: boolean\n  onSelect: () => void\n}) {\n  return (\n    <button\n      onClick={onSelect}\n      className={`\n        relative p-4 rounded-xl border-2 transition-all text-left w-full\n        ${isSelected \n          ? 'border-[var(--theme-primary)] bg-blue-50 shadow-md' \n          : 'border-[var(--theme-border)] hover:border-[var(--theme-border-hover)] bg-[var(--theme-surface)]'}\n      `}\n    >\n      {preset.isDefault && (\n        <span className=\"absolute top-2 right-2 px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full\">\n          Default\n        </span>\n      )}\n      \n      {/* Color Preview */}\n      <div className=\"flex gap-2 mb-3\">\n        <div \n          className=\"w-8 h-8 rounded-lg shadow-sm\" \n          style={{ backgroundColor: preset.primaryColor }}\n        />\n        <div \n          className=\"w-8 h-8 rounded-lg shadow-sm\" \n          style={{ backgroundColor: preset.secondaryColor }}\n        />\n      </div>\n      \n      {/* Info */}\n      <h3 className=\"font-semibold text-[var(--theme-text-primary)]\">{preset.displayName}</h3>\n      {preset.description && (\n        <p className=\"text-xs text-[var(--theme-text-secondary)] mt-1\">{preset.description}</p>\n      )}\n    </button>\n  )\n}\n\n// Live Preview Component\nfunction ThemePreview({ theme }: { theme: Partial<SubAccountTheme> }) {\n  const merged = { ...RISIVO_DEFAULT_THEME, ...theme }\n  \n  return (\n    <div className=\"border border-[var(--theme-border)] rounded-xl overflow-hidden shadow-lg\">\n      {/* Mock Sidebar */}\n      <div className=\"flex\">\n        <div \n          className=\"w-16 min-h-[200px] p-2\"\n          style={{ backgroundColor: merged.sidebarBg || merged.primaryColor }}\n        >\n          {/* Logo placeholder */}\n          <div \n            className=\"w-12 h-8 rounded mb-4 mx-auto\"\n            style={{ backgroundColor: 'rgba(255,255,255,0.2)' }}\n          />\n          \n          {/* Nav items */}\n          {[1, 2, 3, 4].map((i) => (\n            <div\n              key={i}\n              className={`\n                w-10 h-8 rounded mb-2 mx-auto flex items-center justify-center text-xs\n                ${i === 1 ? '' : ''}\n              `}\n              style={{ \n                backgroundColor: i === 1 ? merged.sidebarActive : 'transparent',\n                color: i === 1 ? merged.sidebarActiveForeground : merged.sidebarText,\n              }}\n            >\n              {i === 1 ? 'üìä' : i === 2 ? 'üë•' : i === 3 ? 'üéØ' : '‚öôÔ∏è'}\n            </div>\n          ))}\n        </div>\n        \n        {/* Mock Content */}\n        <div \n          className=\"flex-1 p-4\"\n          style={{ backgroundColor: merged.backgroundColor }}\n        >\n          {/* Header */}\n          <div \n            className=\"h-10 rounded-lg mb-4 flex items-center px-3\"\n            style={{ backgroundColor: merged.headerBg, borderBottom: `1px solid ${merged.headerBorder}` }}\n          >\n            <div \n              className=\"w-32 h-4 rounded\"\n              style={{ backgroundColor: merged.borderColor }}\n            />\n          </div>\n          \n          {/* Card */}\n          <div \n            className=\"p-4 rounded-lg mb-4\"\n            style={{ backgroundColor: merged.surfaceColor, boxShadow: `0 1px 3px ${merged.shadowColor}` }}\n          >\n            <div \n              className=\"w-24 h-3 rounded mb-2\"\n              style={{ backgroundColor: merged.textPrimary, opacity: 0.8 }}\n            />\n            <div \n              className=\"w-32 h-2 rounded\"\n              style={{ backgroundColor: merged.textSecondary }}\n            />\n          </div>\n          \n          {/* Buttons */}\n          <div className=\"flex gap-2\">\n            <button\n              className=\"px-3 py-1.5 rounded-lg text-xs font-medium\"\n              style={{ \n                backgroundColor: merged.buttonPrimaryBg || merged.secondaryColor,\n                color: merged.buttonPrimaryText \n              }}\n            >\n              Primary\n            </button>\n            <button\n              className=\"px-3 py-1.5 rounded-lg text-xs font-medium border\"\n              style={{ \n                backgroundColor: merged.buttonSecondaryBg,\n                color: merged.buttonSecondaryText || merged.primaryColor,\n                borderColor: merged.borderColor\n              }}\n            >\n              Secondary\n            </button>\n          </div>\n          \n          {/* Status badges */}\n          <div className=\"flex gap-2 mt-4\">\n            <span \n              className=\"px-2 py-0.5 text-xs rounded-full text-white\"\n              style={{ backgroundColor: merged.successColor }}\n            >\n              Success\n            </span>\n            <span \n              className=\"px-2 py-0.5 text-xs rounded-full text-white\"\n              style={{ backgroundColor: merged.warningColor }}\n            >\n              Warning\n            </span>\n            <span \n              className=\"px-2 py-0.5 text-xs rounded-full text-white\"\n              style={{ backgroundColor: merged.errorColor }}\n            >\n              Error\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default function BrandStudioPage() {\n  const subAccountId = 'sub-001' // TODO: Get from context/session\n  const subAccountName = 'Sales Team' // TODO: Get from context/session\n  \n  const {\n    theme,\n    presets,\n    isLoading,\n    presetsLoading,\n    error,\n    saveTheme,\n    applyPreset,\n    extractColorsFromLogo,\n    resetTheme,\n    updateColor,\n  } = useTheme({ subAccountId, autoApply: true })\n  \n  const [activeTab, setActiveTab] = useState<'presets' | 'colors' | 'advanced'>('presets')\n  const [selectedPreset, setSelectedPreset] = useState<string | null>(theme.presetName || null)\n  const [logoFile, setLogoFile] = useState<File | null>(null)\n  const [logoPreview, setLogoPreview] = useState<string | null>(theme.logoUrl || null)\n  const [faviconPreview, setFaviconPreview] = useState<string | null>(theme.faviconUrl || null)\n  const [extractingColors, setExtractingColors] = useState(false)\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false)\n  const [saveMessage, setSaveMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null)\n  \n  // Brand Voice State - Initialize from theme\n  const [brandVoice, setBrandVoice] = useState({\n    toneName: theme.brandVoiceToneName || '',\n    targetAudience: theme.brandVoiceTargetAudience || '',\n    brandPersonality: theme.brandVoicePersonality || '',\n    writingStyle: theme.brandVoiceWritingStyle || '',\n    keyPhrases: theme.brandVoiceKeyPhrases || '',\n    avoidPhrases: theme.brandVoiceAvoidPhrases || '',\n    sampleCopy: theme.brandVoiceSampleCopy || '',\n  })\n  \n  // Sync Brand Voice when theme loads from database\n  useEffect(() => {\n    setBrandVoice({\n      toneName: theme.brandVoiceToneName || '',\n      targetAudience: theme.brandVoiceTargetAudience || '',\n      brandPersonality: theme.brandVoicePersonality || '',\n      writingStyle: theme.brandVoiceWritingStyle || '',\n      keyPhrases: theme.brandVoiceKeyPhrases || '',\n      avoidPhrases: theme.brandVoiceAvoidPhrases || '',\n      sampleCopy: theme.brandVoiceSampleCopy || '',\n    })\n  }, [theme.brandVoiceToneName, theme.brandVoiceTargetAudience, theme.brandVoicePersonality, \n      theme.brandVoiceWritingStyle, theme.brandVoiceKeyPhrases, theme.brandVoiceAvoidPhrases, \n      theme.brandVoiceSampleCopy])\n  \n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const faviconInputRef = useRef<HTMLInputElement>(null)\n  \n  // Update browser favicon in real-time with aggressive cache busting\n  const updateBrowserFavicon = (url: string) => {\n    if (typeof window === 'undefined' || !url) return\n    \n    // Determine mime type\n    let mimeType = 'image/png'\n    if (url.startsWith('data:')) {\n      const match = url.match(/^data:([^;]+);/)\n      if (match) mimeType = match[1]\n    } else if (url.endsWith('.svg')) {\n      mimeType = 'image/svg+xml'\n    } else if (url.endsWith('.ico')) {\n      mimeType = 'image/x-icon'\n    }\n    \n    // Remove ALL existing favicon links to force browser refresh\n    const existingLinks = document.querySelectorAll('link[rel=\"icon\"], link[rel=\"shortcut icon\"], link[rel=\"apple-touch-icon\"]')\n    existingLinks.forEach(link => link.remove())\n    \n    // Create new favicon link with cache-busting timestamp\n    const newLink = document.createElement('link')\n    newLink.rel = 'icon'\n    newLink.type = mimeType\n    \n    // For data URLs, use directly; for regular URLs, add cache buster\n    if (url.startsWith('data:')) {\n      newLink.href = url\n    } else {\n      const cacheBuster = `?v=${Date.now()}`\n      newLink.href = url + cacheBuster\n    }\n    \n    document.head.appendChild(newLink)\n    \n    // Also create shortcut icon for older browsers\n    const shortcutLink = document.createElement('link')\n    shortcutLink.rel = 'shortcut icon'\n    shortcutLink.type = mimeType\n    shortcutLink.href = newLink.href\n    document.head.appendChild(shortcutLink)\n    \n    // Force browser to re-render by briefly changing document title\n    const originalTitle = document.title\n    document.title = originalTitle + ' '\n    setTimeout(() => {\n      document.title = originalTitle\n    }, 10)\n  }\n  \n  // Sync logo and favicon previews when theme loads from database\n  useEffect(() => {\n    if (theme.logoUrl) {\n      setLogoPreview(theme.logoUrl)\n    }\n    if (theme.faviconUrl) {\n      setFaviconPreview(theme.faviconUrl)\n      // Also update the browser favicon\n      updateBrowserFavicon(theme.faviconUrl)\n    }\n  }, [theme.logoUrl, theme.faviconUrl])\n  \n  // Track changes\n  useEffect(() => {\n    const originalTheme = { ...RISIVO_DEFAULT_THEME, subAccountId }\n    const hasChanges = JSON.stringify(theme) !== JSON.stringify(originalTheme)\n    setHasUnsavedChanges(hasChanges)\n  }, [theme, subAccountId])\n  \n  // Handle logo upload\n  const handleLogoUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n    \n    setLogoFile(file)\n    \n    // Create preview\n    const reader = new FileReader()\n    reader.onload = async (e) => {\n      const dataUrl = e.target?.result as string\n      setLogoPreview(dataUrl)\n      \n      // Update theme with logo URL (dataUrl for now, would be uploaded URL in production)\n      updateColor('logoUrl', dataUrl)\n      \n      // Extract colors using client-side canvas (more accurate)\n      setExtractingColors(true)\n      try {\n        const colors = await extractColorsFromImageClient(dataUrl)\n        \n        // Apply extracted colors\n        if (colors.primaryColor) updateColor('primaryColor', colors.primaryColor)\n        if (colors.primaryHover) updateColor('primaryHover', colors.primaryHover)\n        if (colors.secondaryColor) updateColor('secondaryColor', colors.secondaryColor)\n        if (colors.secondaryHover) updateColor('secondaryHover', colors.secondaryHover)\n        if (colors.sidebarBg) updateColor('sidebarBg', colors.sidebarBg)\n        \n        setSaveMessage({ type: 'success', text: 'Colors extracted from logo! Review and save when ready.' })\n        setTimeout(() => setSaveMessage(null), 5000)\n      } catch (err) {\n        console.error('Failed to extract colors:', err)\n        setSaveMessage({ type: 'error', text: 'Failed to extract colors from logo' })\n      } finally {\n        setExtractingColors(false)\n      }\n    }\n    reader.readAsDataURL(file)\n  }\n  \n  // Handle favicon upload\n  const handleFaviconUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n    \n    // Validate file type (PNG, SVG, ICO)\n    const validTypes = ['image/png', 'image/svg+xml', 'image/x-icon', 'image/vnd.microsoft.icon']\n    if (!validTypes.includes(file.type) && !file.name.endsWith('.ico')) {\n      setSaveMessage({ type: 'error', text: 'Please upload a PNG, SVG, or ICO file for the favicon' })\n      return\n    }\n    \n    // Validate file size (max 500KB for favicon)\n    if (file.size > 500 * 1024) {\n      setSaveMessage({ type: 'error', text: 'Favicon file size should be under 500KB' })\n      return\n    }\n    \n    // Create preview and update theme\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      const dataUrl = e.target?.result as string\n      setFaviconPreview(dataUrl)\n      updateColor('faviconUrl', dataUrl)\n      \n      // Update the browser favicon immediately for preview\n      updateBrowserFavicon(dataUrl)\n      \n      setSaveMessage({ type: 'success', text: 'Favicon uploaded! Save to apply permanently.' })\n      setTimeout(() => setSaveMessage(null), 3000)\n    }\n    reader.readAsDataURL(file)\n  }\n  \n  // Client-side color extraction using Canvas API\n  const extractColorsFromImageClient = (imageUrl: string): Promise<Partial<SubAccountTheme>> => {\n    return new Promise((resolve, reject) => {\n      const img = new Image()\n      img.crossOrigin = 'Anonymous'\n      \n      img.onload = () => {\n        try {\n          const canvas = document.createElement('canvas')\n          const ctx = canvas.getContext('2d')\n          \n          if (!ctx) {\n            reject(new Error('Could not create canvas context'))\n            return\n          }\n          \n          // Scale down for performance\n          const scale = Math.min(100 / img.width, 100 / img.height, 1)\n          canvas.width = Math.floor(img.width * scale)\n          canvas.height = Math.floor(img.height * scale)\n          \n          ctx.drawImage(img, 0, 0, canvas.width, canvas.height)\n          \n          const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n          const colors = analyzePixels(imageData.data)\n          \n          resolve(colors)\n        } catch (error) {\n          reject(error)\n        }\n      }\n      \n      img.onerror = () => reject(new Error('Failed to load image'))\n      img.src = imageUrl\n    })\n  }\n  \n  // Analyze pixel data to extract dominant colors\n  const analyzePixels = (data: Uint8ClampedArray): Partial<SubAccountTheme> => {\n    const colorCounts: Map<string, { count: number; r: number; g: number; b: number }> = new Map()\n    \n    // First, detect if logo contains white elements\n    const logoHasWhite = detectWhiteInLogo(data)\n    \n    // Sample pixels (skip white/black for color extraction)\n    for (let i = 0; i < data.length; i += 16) {\n      const r = data[i]\n      const g = data[i + 1]\n      const b = data[i + 2]\n      const a = data[i + 3]\n      \n      // Skip transparent or near-white/black pixels\n      if (a < 128) continue\n      if (r > 240 && g > 240 && b > 240) continue\n      if (r < 15 && g < 15 && b < 15) continue\n      \n      // Quantize colors\n      const qr = Math.round(r / 32) * 32\n      const qg = Math.round(g / 32) * 32\n      const qb = Math.round(b / 32) * 32\n      \n      const key = `${qr},${qg},${qb}`\n      const existing = colorCounts.get(key)\n      \n      if (existing) {\n        existing.count++\n      } else {\n        colorCounts.set(key, { count: 1, r: qr, g: qg, b: qb })\n      }\n    }\n    \n    // Sort by frequency\n    const sortedColors = Array.from(colorCounts.entries())\n      .sort((a, b) => b[1].count - a[1].count)\n      .slice(0, 5)\n    \n    if (sortedColors.length === 0) {\n      return {}\n    }\n    \n    // Get dominant color (this is the primary brand color from the logo)\n    const dominant = sortedColors[0][1]\n    const primaryColor = rgbToHex(dominant.r, dominant.g, dominant.b)\n    const primaryHover = darkenHex(primaryColor, 15)\n    \n    // Get secondary color (second most common, or complementary)\n    let secondaryColor = '#10B981' // Default green\n    if (sortedColors.length > 1) {\n      const secondary = sortedColors[1][1]\n      secondaryColor = rgbToHex(secondary.r, secondary.g, secondary.b)\n    }\n    const secondaryHover = darkenHex(secondaryColor, 15)\n    \n    // CRITICAL: Adjust sidebar background to ensure logo visibility\n    // The sidebar background should be slightly lighter or darker than the dominant color\n    // so the logo's exact color matches remain visible\n    const sidebarBg = adjustSidebarBackground(primaryColor, logoHasWhite)\n    const sidebarIsLight = isLightColor(sidebarBg)\n    \n    return {\n      primaryColor,\n      primaryHover,\n      primaryForeground: isLightColor(primaryColor) ? '#111827' : '#FFFFFF',\n      secondaryColor,\n      secondaryHover,\n      secondaryForeground: isLightColor(secondaryColor) ? '#111827' : '#FFFFFF',\n      // Sidebar uses ADJUSTED color, not the exact primary\n      sidebarBg: sidebarBg,\n      sidebarText: sidebarIsLight ? '#111827' : '#FFFFFF',\n      sidebarTextMuted: sidebarIsLight ? 'rgba(17,24,39,0.7)' : 'rgba(255,255,255,0.7)',\n      sidebarActive: sidebarIsLight ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.15)',\n      sidebarActiveForeground: sidebarIsLight ? '#111827' : '#FFFFFF',\n      sidebarHover: sidebarIsLight ? 'rgba(0,0,0,0.05)' : 'rgba(255,255,255,0.1)',\n      buttonPrimaryBg: secondaryColor,\n      inputFocus: primaryColor,\n      colorSource: 'logo_extracted',\n    }\n  }\n  \n  // Helper: RGB to Hex\n  const rgbToHex = (r: number, g: number, b: number): string => {\n    return '#' + [r, g, b]\n      .map(x => Math.min(255, Math.max(0, x)).toString(16).padStart(2, '0'))\n      .join('')\n      .toUpperCase()\n  }\n  \n  // Helper: Darken hex color\n  const darkenHex = (hex: string, percent: number): string => {\n    const num = parseInt(hex.replace('#', ''), 16)\n    const amt = Math.round(2.55 * percent)\n    const R = Math.max(0, (num >> 16) - amt)\n    const G = Math.max(0, ((num >> 8) & 0x00FF) - amt)\n    const B = Math.max(0, (num & 0x0000FF) - amt)\n    return '#' + (0x1000000 + R * 0x10000 + G * 0x100 + B).toString(16).slice(1).toUpperCase()\n  }\n  \n  // Helper: Check if color is light\n  const isLightColor = (hex: string): boolean => {\n    const color = hex.replace('#', '')\n    const r = parseInt(color.substring(0, 2), 16)\n    const g = parseInt(color.substring(2, 4), 16)\n    const b = parseInt(color.substring(4, 6), 16)\n    const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255\n    return luminance > 0.5\n  }\n  \n  // Helper: Lighten hex color\n  const lightenHex = (hex: string, percent: number): string => {\n    const num = parseInt(hex.replace('#', ''), 16)\n    const amt = Math.round(2.55 * percent)\n    const R = Math.min(255, (num >> 16) + amt)\n    const G = Math.min(255, ((num >> 8) & 0x00FF) + amt)\n    const B = Math.min(255, (num & 0x0000FF) + amt)\n    return '#' + (0x1000000 + R * 0x10000 + G * 0x100 + B).toString(16).slice(1).toUpperCase()\n  }\n  \n  // Helper: Adjust color for sidebar background to ensure logo visibility\n  // This creates a slightly lighter or darker version of the detected color\n  // so the logo's matching colors remain visible against the background\n  const adjustSidebarBackground = (dominantColor: string, logoContainsWhite: boolean): string => {\n    const isLight = isLightColor(dominantColor)\n    \n    // If the logo contains white elements (common case), darken the background\n    // If the logo is dark, lighten the background\n    // This ensures contrast between logo elements and sidebar background\n    \n    if (logoContainsWhite) {\n      // Logo has white elements - darken the background so white shows\n      // Also slightly darken the dominant color so it contrasts with its exact match in the logo\n      return darkenHex(dominantColor, 25)\n    } else if (isLight) {\n      // Light dominant color - darken it for better contrast\n      return darkenHex(dominantColor, 20)\n    } else {\n      // Dark dominant color - lighten it slightly for variety\n      return lightenHex(dominantColor, 15)\n    }\n  }\n  \n  // Helper: Detect if logo contains significant white/light pixels\n  const detectWhiteInLogo = (data: Uint8ClampedArray): boolean => {\n    let whiteCount = 0\n    let totalCount = 0\n    \n    for (let i = 0; i < data.length; i += 16) {\n      const r = data[i]\n      const g = data[i + 1]\n      const b = data[i + 2]\n      const a = data[i + 3]\n      \n      // Skip transparent pixels\n      if (a < 128) continue\n      \n      totalCount++\n      \n      // Check for white or near-white pixels\n      if (r > 230 && g > 230 && b > 230) {\n        whiteCount++\n      }\n    }\n    \n    // If more than 10% of non-transparent pixels are white, logo contains white\n    return totalCount > 0 && (whiteCount / totalCount) > 0.1\n  }\n  \n  // Handle preset selection\n  const handlePresetSelect = async (presetName: string) => {\n    setSelectedPreset(presetName)\n    try {\n      await applyPreset(presetName)\n      setSaveMessage({ type: 'success', text: 'Theme preset applied!' })\n      setTimeout(() => setSaveMessage(null), 3000)\n    } catch (err) {\n      setSaveMessage({ type: 'error', text: 'Failed to apply preset' })\n    }\n  }\n  \n  // Handle save - includes Brand Voice data\n  const handleSave = async () => {\n    try {\n      // Merge theme with Brand Voice data\n      const themeWithBrandVoice = {\n        ...theme,\n        brandVoiceToneName: brandVoice.toneName || null,\n        brandVoiceTargetAudience: brandVoice.targetAudience || null,\n        brandVoicePersonality: brandVoice.brandPersonality || null,\n        brandVoiceWritingStyle: brandVoice.writingStyle || null,\n        brandVoiceKeyPhrases: brandVoice.keyPhrases || null,\n        brandVoiceAvoidPhrases: brandVoice.avoidPhrases || null,\n        brandVoiceSampleCopy: brandVoice.sampleCopy || null,\n      }\n      \n      await saveTheme(themeWithBrandVoice)\n      setHasUnsavedChanges(false)\n      setSaveMessage({ type: 'success', text: 'Theme and Brand Voice saved successfully!' })\n      setTimeout(() => setSaveMessage(null), 3000)\n    } catch (err) {\n      setSaveMessage({ type: 'error', text: 'Failed to save theme' })\n    }\n  }\n  \n  // Handle reset\n  const handleReset = async () => {\n    if (!confirm('Are you sure you want to reset to default RISIVO theme?')) return\n    \n    try {\n      await resetTheme()\n      setSelectedPreset('risivo')\n      setSaveMessage({ type: 'success', text: 'Theme reset to default!' })\n      setTimeout(() => setSaveMessage(null), 3000)\n    } catch (err) {\n      setSaveMessage({ type: 'error', text: 'Failed to reset theme' })\n    }\n  }\n  \n  return (\n    <div className=\"max-w-6xl mx-auto\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-2xl font-bold text-[var(--theme-text-primary)]\">\n          Brand Studio\n        </h1>\n        <p className=\"text-[var(--theme-text-secondary)] mt-1\">\n          Create and manage your brand assets, logo, favicon, and color scheme\n        </p>\n      </div>\n      \n      {/* Messages */}\n      {saveMessage && (\n        <div className={`mb-6 p-4 rounded-lg ${\n          saveMessage.type === 'success' \n            ? 'bg-green-50 border border-green-200 text-green-800' \n            : 'bg-red-50 border border-red-200 text-red-800'\n        }`}>\n          {saveMessage.text}\n        </div>\n      )}\n      \n      {error && (\n        <div className=\"mb-6 p-4 rounded-lg bg-red-50 border border-red-200 text-red-800\">\n          {error}\n        </div>\n      )}\n      \n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Left Column - Settings */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          {/* Logo Upload Section */}\n          <div className=\"bg-[var(--theme-surface)] rounded-xl p-6 shadow-sm border border-[var(--theme-border)]\">\n            <h2 className=\"text-lg font-semibold text-[var(--theme-text-primary)] mb-4\">\n              Logo & Brand Identity\n            </h2>\n            \n            <div className=\"flex items-start gap-6\">\n              {/* Current Logo */}\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-32 h-20 bg-[var(--theme-background)] rounded-lg border border-[var(--theme-border)] flex items-center justify-center overflow-hidden\">\n                  {logoPreview || theme.logoUrl ? (\n                    <img \n                      src={logoPreview || theme.logoUrl || ''} \n                      alt=\"Logo\" \n                      className=\"max-w-full max-h-full object-contain\"\n                    />\n                  ) : (\n                    <span className=\"text-[var(--theme-text-muted)] text-sm\">No logo</span>\n                  )}\n                </div>\n              </div>\n              \n              {/* Upload Area */}\n              <div className=\"flex-1\">\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={handleLogoUpload}\n                  className=\"hidden\"\n                />\n                <button\n                  onClick={() => fileInputRef.current?.click()}\n                  disabled={extractingColors}\n                  className=\"w-full px-4 py-3 border-2 border-dashed border-[var(--theme-border)] rounded-lg hover:border-[var(--theme-primary)] hover:bg-blue-50 transition-colors text-center\"\n                >\n                  {extractingColors ? (\n                    <span className=\"text-[var(--theme-text-secondary)]\">\n                      Extracting colors...\n                    </span>\n                  ) : (\n                    <>\n                      <span className=\"block text-[var(--theme-primary)] font-medium\">\n                        Upload Logo\n                      </span>\n                      <span className=\"block text-xs text-[var(--theme-text-muted)] mt-1\">\n                        PNG, JPG up to 2MB ‚Ä¢ Colors will be auto-extracted\n                      </span>\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          {/* Favicon Upload Section */}\n          <div className=\"bg-[var(--theme-surface)] rounded-xl p-6 shadow-sm border border-[var(--theme-border)]\">\n            <h2 className=\"text-lg font-semibold text-[var(--theme-text-primary)] mb-4\">\n              Favicon (Browser Tab Icon)\n            </h2>\n            <p className=\"text-sm text-[var(--theme-text-secondary)] mb-4\">\n              Upload a custom favicon to display in browser tabs. This helps with white-label branding.\n            </p>\n            \n            <div className=\"flex items-start gap-6\">\n              {/* Current Favicon Preview */}\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-16 h-16 bg-[var(--theme-background)] rounded-lg border border-[var(--theme-border)] flex items-center justify-center overflow-hidden\">\n                  {faviconPreview || theme.faviconUrl ? (\n                    <img \n                      src={faviconPreview || theme.faviconUrl || ''} \n                      alt=\"Favicon\" \n                      className=\"w-10 h-10 object-contain\"\n                    />\n                  ) : (\n                    <span className=\"text-[var(--theme-text-muted)] text-2xl\">üåê</span>\n                  )}\n                </div>\n                <p className=\"text-xs text-[var(--theme-text-muted)] text-center mt-1\">Preview</p>\n              </div>\n              \n              {/* Upload Area */}\n              <div className=\"flex-1\">\n                <input\n                  ref={faviconInputRef}\n                  type=\"file\"\n                  accept=\".png,.svg,.ico,image/png,image/svg+xml,image/x-icon\"\n                  onChange={handleFaviconUpload}\n                  className=\"hidden\"\n                />\n                <button\n                  onClick={() => faviconInputRef.current?.click()}\n                  className=\"w-full px-4 py-3 border-2 border-dashed border-[var(--theme-border)] rounded-lg hover:border-[var(--theme-primary)] hover:bg-blue-50 transition-colors text-center\"\n                >\n                  <span className=\"block text-[var(--theme-primary)] font-medium\">\n                    Upload Favicon\n                  </span>\n                  <span className=\"block text-xs text-[var(--theme-text-muted)] mt-1\">\n                    PNG, SVG, or ICO ‚Ä¢ Max 500KB ‚Ä¢ Recommended: 32x32 or 64x64 px\n                  </span>\n                </button>\n                \n                {/* Current favicon info */}\n                {(faviconPreview || theme.faviconUrl) && (\n                  <div className=\"mt-3 flex items-center justify-between\">\n                    <span className=\"text-xs text-[var(--theme-text-secondary)]\">\n                      ‚úì Favicon uploaded\n                    </span>\n                    <button\n                      onClick={() => {\n                        setFaviconPreview(null)\n                        updateColor('faviconUrl', '')\n                        // Reset to default favicon\n                        updateBrowserFavicon('/favicon.ico')\n                        setSaveMessage({ type: 'success', text: 'Favicon removed. Save to apply.' })\n                        setTimeout(() => setSaveMessage(null), 3000)\n                      }}\n                      className=\"text-xs text-red-600 hover:text-red-800\"\n                    >\n                      Remove\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n            \n            {/* Browser Tab Preview */}\n            <div className=\"mt-4 p-3 bg-gray-100 rounded-lg\">\n              <p className=\"text-xs text-[var(--theme-text-muted)] mb-2\">Browser Tab Preview:</p>\n              <div className=\"flex items-center gap-2 bg-white rounded-t-lg px-3 py-2 border border-gray-200 w-fit\">\n                {faviconPreview || theme.faviconUrl ? (\n                  <img \n                    src={faviconPreview || theme.faviconUrl || ''} \n                    alt=\"Tab icon\" \n                    className=\"w-4 h-4 object-contain\"\n                  />\n                ) : (\n                  <span className=\"w-4 h-4 text-xs flex items-center justify-center\">üåê</span>\n                )}\n                <span className=\"text-xs text-gray-700 truncate max-w-[120px]\">\n                  {subAccountName || 'Your Sub-Account'}\n                </span>\n                <span className=\"text-gray-400 text-xs\">√ó</span>\n              </div>\n            </div>\n          </div>\n          \n          {/* Tabs */}\n          <div className=\"bg-[var(--theme-surface)] rounded-xl shadow-sm border border-[var(--theme-border)]\">\n            {/* Tab Navigation */}\n            <div className=\"flex border-b border-[var(--theme-border)]\">\n              {[\n                { id: 'presets', label: 'Theme Presets' },\n                { id: 'colors', label: 'Custom Colors' },\n                { id: 'advanced', label: 'Advanced' },\n              ].map((tab) => (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id as typeof activeTab)}\n                  className={`\n                    flex-1 px-4 py-3 text-sm font-medium transition-colors\n                    ${activeTab === tab.id \n                      ? 'text-[var(--theme-primary)] border-b-2 border-[var(--theme-primary)] bg-blue-50/50' \n                      : 'text-[var(--theme-text-secondary)] hover:text-[var(--theme-text-primary)] hover:bg-[var(--theme-surface-hover)]'}\n                  `}\n                >\n                  {tab.label}\n                </button>\n              ))}\n            </div>\n            \n            {/* Tab Content */}\n            <div className=\"p-6\">\n              {/* Presets Tab */}\n              {activeTab === 'presets' && (\n                <div>\n                  <p className=\"text-sm text-[var(--theme-text-secondary)] mb-4\">\n                    Select a pre-designed theme or customize your own colors\n                  </p>\n                  \n                  {presetsLoading ? (\n                    <div className=\"text-center py-8 text-[var(--theme-text-muted)]\">\n                      Loading presets...\n                    </div>\n                  ) : (\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3\">\n                      {presets.map((preset) => (\n                        <PresetCard\n                          key={preset.id}\n                          preset={preset}\n                          isSelected={selectedPreset === preset.name}\n                          onSelect={() => handlePresetSelect(preset.name)}\n                        />\n                      ))}\n                    </div>\n                  )}\n                </div>\n              )}\n              \n              {/* Colors Tab */}\n              {activeTab === 'colors' && (\n                <div>\n                  <p className=\"text-sm text-[var(--theme-text-secondary)] mb-4\">\n                    Fine-tune your brand colors for perfect customization\n                  </p>\n                  \n                  <div className=\"space-y-0\">\n                    <h3 className=\"text-sm font-semibold text-[var(--theme-text-primary)] uppercase tracking-wider mt-4 mb-2\">\n                      Primary Colors\n                    </h3>\n                    <ColorPicker\n                      label=\"Primary Color\"\n                      description=\"Main brand color for sidebar and highlights\"\n                      value={theme.primaryColor}\n                      onChange={(v) => updateColor('primaryColor', v)}\n                    />\n                    <ColorPicker\n                      label=\"Primary Hover\"\n                      description=\"Hover state for primary elements\"\n                      value={theme.primaryHover}\n                      onChange={(v) => updateColor('primaryHover', v)}\n                    />\n                    \n                    <h3 className=\"text-sm font-semibold text-[var(--theme-text-primary)] uppercase tracking-wider mt-6 mb-2\">\n                      Secondary Colors\n                    </h3>\n                    <ColorPicker\n                      label=\"Secondary Color\"\n                      description=\"Accent color for buttons and CTAs\"\n                      value={theme.secondaryColor}\n                      onChange={(v) => updateColor('secondaryColor', v)}\n                    />\n                    <ColorPicker\n                      label=\"Secondary Hover\"\n                      description=\"Hover state for secondary elements\"\n                      value={theme.secondaryHover}\n                      onChange={(v) => updateColor('secondaryHover', v)}\n                    />\n                    \n                    <h3 className=\"text-sm font-semibold text-[var(--theme-text-primary)] uppercase tracking-wider mt-6 mb-2\">\n                      Status Colors\n                    </h3>\n                    <ColorPicker\n                      label=\"Success Color\"\n                      value={theme.successColor}\n                      onChange={(v) => updateColor('successColor', v)}\n                    />\n                    <ColorPicker\n                      label=\"Warning Color\"\n                      value={theme.warningColor}\n                      onChange={(v) => updateColor('warningColor', v)}\n                    />\n                    <ColorPicker\n                      label=\"Error Color\"\n                      value={theme.errorColor}\n                      onChange={(v) => updateColor('errorColor', v)}\n                    />\n                  </div>\n                </div>\n              )}\n              \n              {/* Advanced Tab */}\n              {activeTab === 'advanced' && (\n                <div>\n                  <p className=\"text-sm text-[var(--theme-text-secondary)] mb-4\">\n                    Advanced customization options for specific UI elements\n                  </p>\n                  \n                  <div className=\"space-y-0\">\n                    <h3 className=\"text-sm font-semibold text-[var(--theme-text-primary)] uppercase tracking-wider mt-4 mb-2\">\n                      Sidebar\n                    </h3>\n                    <ColorPicker\n                      label=\"Sidebar Background\"\n                      value={theme.sidebarBg || theme.primaryColor}\n                      onChange={(v) => updateColor('sidebarBg', v)}\n                    />\n                    <ColorPicker\n                      label=\"Sidebar Text\"\n                      value={theme.sidebarText || theme.primaryForeground}\n                      onChange={(v) => updateColor('sidebarText', v)}\n                    />\n                    <ColorPicker\n                      label=\"Active Nav Item\"\n                      value={theme.sidebarActive}\n                      onChange={(v) => updateColor('sidebarActive', v)}\n                    />\n                    \n                    <h3 className=\"text-sm font-semibold text-[var(--theme-text-primary)] uppercase tracking-wider mt-6 mb-2\">\n                      Background & Surface\n                    </h3>\n                    <ColorPicker\n                      label=\"Page Background\"\n                      value={theme.backgroundColor}\n                      onChange={(v) => updateColor('backgroundColor', v)}\n                    />\n                    <ColorPicker\n                      label=\"Card/Surface Background\"\n                      value={theme.surfaceColor}\n                      onChange={(v) => updateColor('surfaceColor', v)}\n                    />\n                    \n                    <h3 className=\"text-sm font-semibold text-[var(--theme-text-primary)] uppercase tracking-wider mt-6 mb-2\">\n                      Text\n                    </h3>\n                    <ColorPicker\n                      label=\"Primary Text\"\n                      value={theme.textPrimary}\n                      onChange={(v) => updateColor('textPrimary', v)}\n                    />\n                    <ColorPicker\n                      label=\"Secondary Text\"\n                      value={theme.textSecondary}\n                      onChange={(v) => updateColor('textSecondary', v)}\n                    />\n                    <ColorPicker\n                      label=\"Muted Text\"\n                      value={theme.textMuted}\n                      onChange={(v) => updateColor('textMuted', v)}\n                    />\n                    \n                    <h3 className=\"text-sm font-semibold text-[var(--theme-text-primary)] uppercase tracking-wider mt-6 mb-2\">\n                      Borders\n                    </h3>\n                    <ColorPicker\n                      label=\"Border Color\"\n                      value={theme.borderColor}\n                      onChange={(v) => updateColor('borderColor', v)}\n                    />\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n          \n          {/* Brand Voice Section */}\n          <div className=\"bg-[var(--theme-surface)] rounded-xl p-6 shadow-sm border border-[var(--theme-border)]\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center\">\n                <span className=\"text-xl\">üéôÔ∏è</span>\n              </div>\n              <div>\n                <h2 className=\"text-lg font-semibold text-[var(--theme-text-primary)]\">\n                  Brand Voice\n                </h2>\n                <p className=\"text-sm text-[var(--theme-text-secondary)]\">\n                  Define your brand's tone and messaging guidelines to maintain consistency in all written communication\n                </p>\n              </div>\n            </div>\n            \n            <div className=\"space-y-5\">\n              {/* Tone Name & Description */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-[var(--theme-text-primary)] mb-1.5\">\n                    Brand Tone Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={brandVoice.toneName}\n                    onChange={(e) => {\n                      setBrandVoice(prev => ({ ...prev, toneName: e.target.value }))\n                      setHasUnsavedChanges(true)\n                    }}\n                    placeholder=\"e.g., Professional & Friendly\"\n                    className=\"w-full px-3 py-2.5 border border-[var(--theme-border)] rounded-lg bg-[var(--theme-input-bg)] text-[var(--theme-input-text)] focus:ring-2 focus:ring-[var(--theme-input-focus)] focus:border-transparent text-sm\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-[var(--theme-text-primary)] mb-1.5\">\n                    Target Audience\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={brandVoice.targetAudience}\n                    onChange={(e) => {\n                      setBrandVoice(prev => ({ ...prev, targetAudience: e.target.value }))\n                      setHasUnsavedChanges(true)\n                    }}\n                    placeholder=\"e.g., Small business owners, 25-45 years old\"\n                    className=\"w-full px-3 py-2.5 border border-[var(--theme-border)] rounded-lg bg-[var(--theme-input-bg)] text-[var(--theme-input-text)] focus:ring-2 focus:ring-[var(--theme-input-focus)] focus:border-transparent text-sm\"\n                  />\n                </div>\n              </div>\n              \n              {/* Brand Personality */}\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--theme-text-primary)] mb-1.5\">\n                  Brand Personality\n                </label>\n                <textarea\n                  value={brandVoice.brandPersonality}\n                  onChange={(e) => {\n                    setBrandVoice(prev => ({ ...prev, brandPersonality: e.target.value }))\n                    setHasUnsavedChanges(true)\n                  }}\n                  placeholder=\"Describe your brand's personality traits... e.g., We are innovative, approachable, and results-driven. Our brand speaks with confidence but remains humble and customer-focused.\"\n                  rows={3}\n                  className=\"w-full px-3 py-2.5 border border-[var(--theme-border)] rounded-lg bg-[var(--theme-input-bg)] text-[var(--theme-input-text)] focus:ring-2 focus:ring-[var(--theme-input-focus)] focus:border-transparent text-sm resize-none\"\n                />\n              </div>\n              \n              {/* Writing Style & Tone Description */}\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--theme-text-primary)] mb-1.5\">\n                  Writing Style Guidelines\n                </label>\n                <textarea\n                  value={brandVoice.writingStyle}\n                  onChange={(e) => {\n                    setBrandVoice(prev => ({ ...prev, writingStyle: e.target.value }))\n                    setHasUnsavedChanges(true)\n                  }}\n                  placeholder=\"Define how content should be written... e.g., Use short, clear sentences. Write in active voice. Keep paragraphs under 3 sentences. Use contractions to sound conversational. Always address the reader as 'you'.\"\n                  rows={4}\n                  className=\"w-full px-3 py-2.5 border border-[var(--theme-border)] rounded-lg bg-[var(--theme-input-bg)] text-[var(--theme-input-text)] focus:ring-2 focus:ring-[var(--theme-input-focus)] focus:border-transparent text-sm resize-none\"\n                />\n              </div>\n              \n              {/* Key Phrases & Avoid Phrases */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-[var(--theme-text-primary)] mb-1.5\">\n                    <span className=\"text-green-600\">‚úì</span> Key Phrases to Use\n                  </label>\n                  <textarea\n                    value={brandVoice.keyPhrases}\n                    onChange={(e) => {\n                      setBrandVoice(prev => ({ ...prev, keyPhrases: e.target.value }))\n                      setHasUnsavedChanges(true)\n                    }}\n                    placeholder=\"Phrases your brand loves to use...&#10;e.g.,&#10;‚Ä¢ Let's grow together&#10;‚Ä¢ Your success is our mission&#10;‚Ä¢ Simple, powerful, effective\"\n                    rows={4}\n                    className=\"w-full px-3 py-2.5 border border-[var(--theme-border)] rounded-lg bg-[var(--theme-input-bg)] text-[var(--theme-input-text)] focus:ring-2 focus:ring-[var(--theme-input-focus)] focus:border-transparent text-sm resize-none\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-[var(--theme-text-primary)] mb-1.5\">\n                    <span className=\"text-red-600\">‚úó</span> Phrases to Avoid\n                  </label>\n                  <textarea\n                    value={brandVoice.avoidPhrases}\n                    onChange={(e) => {\n                      setBrandVoice(prev => ({ ...prev, avoidPhrases: e.target.value }))\n                      setHasUnsavedChanges(true)\n                    }}\n                    placeholder=\"Words/phrases to never use...&#10;e.g.,&#10;‚Ä¢ Synergy, leverage&#10;‚Ä¢ Revolutionary, game-changing&#10;‚Ä¢ Industry-leading\"\n                    rows={4}\n                    className=\"w-full px-3 py-2.5 border border-[var(--theme-border)] rounded-lg bg-[var(--theme-input-bg)] text-[var(--theme-input-text)] focus:ring-2 focus:ring-[var(--theme-input-focus)] focus:border-transparent text-sm resize-none\"\n                  />\n                </div>\n              </div>\n              \n              {/* Sample Brand Copy */}\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--theme-text-primary)] mb-1.5\">\n                  Sample Brand Copy (AI Reference)\n                </label>\n                <p className=\"text-xs text-[var(--theme-text-muted)] mb-2\">\n                  Provide examples of ideal copy that represents your brand voice. This will be used as a reference for AI-generated content.\n                </p>\n                <textarea\n                  value={brandVoice.sampleCopy}\n                  onChange={(e) => {\n                    setBrandVoice(prev => ({ ...prev, sampleCopy: e.target.value }))\n                    setHasUnsavedChanges(true)\n                  }}\n                  placeholder=\"Paste examples of your best brand copy here...&#10;&#10;Example email:&#10;Hi [Name],&#10;&#10;Thanks for reaching out! We're excited to help you achieve your goals...&#10;&#10;Example social post:&#10;üöÄ Big news! We just launched...\"\n                  rows={6}\n                  className=\"w-full px-3 py-2.5 border border-[var(--theme-border)] rounded-lg bg-[var(--theme-input-bg)] text-[var(--theme-input-text)] focus:ring-2 focus:ring-[var(--theme-input-focus)] focus:border-transparent text-sm resize-none\"\n                />\n              </div>\n              \n              {/* Usage Info */}\n              <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n                <h4 className=\"text-sm font-medium text-purple-800 mb-2 flex items-center gap-2\">\n                  <span>üí°</span> How Brand Voice is Used\n                </h4>\n                <ul className=\"text-xs text-purple-700 space-y-1\">\n                  <li>‚Ä¢ <strong>AI Content Generation:</strong> All AI-written content will follow these guidelines</li>\n                  <li>‚Ä¢ <strong>Email Templates:</strong> Suggested copy will match your brand voice</li>\n                  <li>‚Ä¢ <strong>Social Posts:</strong> Generated captions will reflect your personality</li>\n                  <li>‚Ä¢ <strong>Chat Responses:</strong> AI chatbot will communicate in your brand's tone</li>\n                  <li>‚Ä¢ <strong>Team Reference:</strong> Share with your team to maintain consistency</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          \n          {/* Action Buttons */}\n          <div className=\"flex items-center justify-between\">\n            <button\n              onClick={handleReset}\n              className=\"px-4 py-2 text-[var(--theme-text-secondary)] hover:text-[var(--theme-error)] transition-colors\"\n            >\n              Reset to Default\n            </button>\n            \n            <div className=\"flex gap-3\">\n              {hasUnsavedChanges && (\n                <span className=\"text-sm text-[var(--theme-warning)] self-center\">\n                  Unsaved changes\n                </span>\n              )}\n              <button\n                onClick={handleSave}\n                disabled={isLoading || !hasUnsavedChanges}\n                className=\"px-6 py-2.5 bg-[var(--theme-button-primary-bg)] text-[var(--theme-button-primary-text)] rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {isLoading ? 'Saving...' : 'Save Changes'}\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        {/* Right Column - Preview */}\n        <div className=\"space-y-6\">\n          <div className=\"sticky top-24\">\n            <h2 className=\"text-lg font-semibold text-[var(--theme-text-primary)] mb-4\">\n              Live Preview\n            </h2>\n            <ThemePreview theme={theme} />\n            \n            <div className=\"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n              <h3 className=\"text-sm font-medium text-blue-800 mb-2\">\n                üí° Pro Tips\n              </h3>\n              <ul className=\"text-xs text-blue-700 space-y-1\">\n                <li>‚Ä¢ Upload your logo to auto-extract brand colors</li>\n                <li>‚Ä¢ Use presets as starting points for customization</li>\n                <li>‚Ä¢ Changes apply instantly across all pages</li>\n                <li>‚Ä¢ Reset to default anytime if needed</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}