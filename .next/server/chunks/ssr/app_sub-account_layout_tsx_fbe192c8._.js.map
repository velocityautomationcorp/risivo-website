{"version":3,"sources":["../../../../app/sub-account/layout.tsx","../../../../hooks/useAiChat.ts","../../../../components/ai/MessageBubble.tsx","../../../../components/ai/TypingIndicator.tsx","../../../../components/theme/DynamicFavicon.tsx","../../../../components/theme/ThemeInitializer.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect, useMemo } from 'react'\nimport Link from 'next/link'\nimport Image from 'next/image'\nimport { usePathname, useRouter } from 'next/navigation'\nimport { useUser } from '@/hooks/useUser'\nimport { useAiChat } from '@/hooks/useAiChat'\nimport { MessageBubble } from '@/components/ai/MessageBubble'\nimport { TypingIndicator } from '@/components/ai/TypingIndicator'\nimport { useTheme } from '@/hooks/useTheme'\nimport { DynamicFavicon } from '@/components/theme/DynamicFavicon'\nimport { useThemeCache } from '@/components/theme/ThemeInitializer'\n\n\n// Sub-Account-specific types\ntype SubAccountUser = {\n  id: string\n  name: string\n  email: string\n  role: 'Sub-Account Owner' | 'Admin' | 'Manager' | 'User'\n  status: 'Active' | 'Inactive'\n  lastLogin: string\n}\n\n// Addon subscription type\ntype AddonSubscription = {\n  id: string\n  name: string\n  isActive: boolean\n  expiresAt?: string\n}\n\n// Mock addon subscriptions for this sub-account\nconst subAccountAddons: AddonSubscription[] = [\n  { id: 'addon-power-dialer', name: 'Power Dialer', isActive: true }, // Set to false to test subscribe button\n  { id: 'addon-ai-tools', name: 'AI Tools Pro', isActive: true },\n  { id: 'addon-social-planner', name: 'Social Planner', isActive: false },\n]\n\n// Check if addon is active\nconst hasAddon = (addonId: string) => {\n  const addon = subAccountAddons.find(a => a.id === addonId)\n  return addon?.isActive ?? false\n}\n\n// Risivo Hub Sub-Account ID - This is the core/master sub-account that has Platform Admin access\nconst RISIVO_HUB_SUB_ACCOUNT_ID = 'sub-001'\n\n// Mock Sub-Account Data (Risivo Hub - Master Sub-Account)\n// NOTE: Colors are now managed via CSS variables from the theme system\nconst currentSubAccount = {\n  id: 'sub-001',\n  name: 'Risivo Hub',\n  type: 'Master',\n  companyId: 'comp-001',\n  companyName: 'Risivo',\n  logo: '/risivo-logo-white.png', // White logo for dark sidebars - Can be customized per sub-account\n  isRisivoHub: true, // Flag to indicate this is the core Risivo Hub\n}\n\n// Default user data - will be overridden by session\nconst defaultUser = {\n  id: 'user-001',\n  name: 'User',\n  email: '',\n  role: 'User',\n  avatar: null as string | null,\n  isCompanyAdmin: false,\n  isMasterAdmin: false,\n  isDemoUser: false,\n}\n\n// Mock Users for this sub-account only\nconst subAccountUsers: SubAccountUser[] = [\n  { id: 'user-001', name: 'John Smith', email: 'john.smith@risivo.com', role: 'Sub-Account Owner', status: 'Active', lastLogin: '2024-12-18 12:15' },\n  { id: 'user-002', name: 'Sarah Johnson', email: 'sarah@risivo.com', role: 'Admin', status: 'Active', lastLogin: '2024-12-18 10:00' },\n  { id: 'user-003', name: 'Mike Williams', email: 'mike@risivo.com', role: 'Manager', status: 'Active', lastLogin: '2024-12-18 09:30' },\n  { id: 'user-004', name: 'Emily Brown', email: 'emily@risivo.com', role: 'User', status: 'Active', lastLogin: '2024-12-18 11:20' },\n  { id: 'user-005', name: 'David Lee', email: 'david@risivo.com', role: 'User', status: 'Active', lastLogin: '2024-12-17 16:45' },\n]\n\n// Dynamic Welcome Message Component - Generates human-like greetings\nfunction DynamicWelcomeMessage({ userName }: { userName: string }) {\n  const [greeting, setGreeting] = useState('')\n  \n  useEffect(() => {\n    // Get time-appropriate greeting\n    const hour = new Date().getHours()\n    let timeGreeting = ''\n    if (hour >= 5 && hour < 12) {\n      timeGreeting = 'Good morning'\n    } else if (hour >= 12 && hour < 17) {\n      timeGreeting = 'Good afternoon'\n    } else if (hour >= 17 && hour < 21) {\n      timeGreeting = 'Good evening'\n    } else {\n      timeGreeting = 'Hi there'\n    }\n    \n    // Array of dynamic, human-like greetings\n    const greetings = [\n      `${timeGreeting}, ${userName}! How can I assist you today?`,\n      `Hey ${userName}! What would you like to accomplish today?`,\n      `${timeGreeting}, ${userName}! Ready to help whenever you need me.`,\n      `Hi ${userName}! What's on your mind today?`,\n      `${timeGreeting}, ${userName}! Let me know how I can help.`,\n      `Welcome back, ${userName}! What can I do for you?`,\n      `Hey there, ${userName}! I'm here to help with anything you need.`,\n      `${timeGreeting}, ${userName}! Just ask and I'll get it done.`,\n    ]\n    \n    // Pick a random greeting\n    const randomGreeting = greetings[Math.floor(Math.random() * greetings.length)]\n    setGreeting(randomGreeting)\n  }, [userName])\n  \n  return (\n    <div className=\"flex flex-col items-center justify-center h-full text-center py-8\">\n      <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center mb-3\">\n        <span className=\"text-3xl\">ü§ñ</span>\n      </div>\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">{greeting || `Hi ${userName}!`}</h3>\n      <p className=\"text-sm text-gray-500 px-4\">\n        I can help with contacts, pipelines, marketing, tasks, and more. Just type your request below.\n      </p>\n    </div>\n  )\n}\n\n// Logo component - uses theme.logoUrl directly (no localStorage during SSR)\nfunction LogoDisplay({ \n  logoUrl, \n  fallbackUrl, \n  altText,\n}: { \n  logoUrl?: string | null\n  fallbackUrl: string\n  altText: string\n}) {\n  // Always use the same initial value for SSR and client to avoid hydration mismatch\n  const displayUrl = logoUrl || fallbackUrl\n  \n  // Use img for data URLs, Image for regular URLs\n  if (displayUrl?.startsWith('data:')) {\n    return (\n      <img\n        src={displayUrl}\n        alt={altText}\n        className=\"h-8 w-auto max-w-[150px] object-contain\"\n      />\n    )\n  }\n  \n  return (\n    <Image\n      src={displayUrl}\n      alt={altText}\n      width={150}\n      height={34}\n      className=\"h-8 w-auto\"\n      priority // Load logo with high priority\n    />\n  )\n}\n\nexport default function SubAccountLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const { user: sessionUser, isLoading: userLoading } = useUser()\n  const router = useRouter()\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const [showAccountSwitcher, setShowAccountSwitcher] = useState(false)\n  const [showUserMenu, setShowUserMenu] = useState(false)\n  const [showHelpPanel, setShowHelpPanel] = useState(false)\n  const [showLoginAsModal, setShowLoginAsModal] = useState(false)\n  const [subAccountSearch, setSubAccountSearch] = useState('')\n  const [loginAsSearch, setLoginAsSearch] = useState('')\n  const [showChecklistModal, setShowChecklistModal] = useState(false)\n  const [showChatbot, setShowChatbot] = useState(false)\n  const [showPowerDialerDropdown, setShowPowerDialerDropdown] = useState(false)\n  const [hasAssignedCampaigns, setHasAssignedCampaigns] = useState(true) // Mock: set to true to show blinking\n  const [powerDialerClicked, setPowerDialerClicked] = useState(false) // Stops blinking after click\n  const hasPowerDialerAddon = hasAddon('addon-power-dialer')\n  const [showRobotPopup, setShowRobotPopup] = useState(false) // No popup anymore, chatbot is in header\n  const [chatMessage, setChatMessage] = useState('')\n  const [isListening, setIsListening] = useState(false) // Voice input state\n  const [speechSupported, setSpeechSupported] = useState(false) // Browser support check\n  const pathname = usePathname()\n  const messagesContainerRef = useRef<HTMLDivElement>(null)\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n  const recognitionRef = useRef<any>(null) // Speech recognition instance\n  \n  // Derive current user from our custom user hook\n  const currentUser = useMemo(() => {\n    if (sessionUser) {\n      // Check if user is a demo user\n      const isDemoUser = sessionUser.isDemoUser || sessionUser.role === 'demo'\n      \n      return {\n        id: sessionUser.id || defaultUser.id,\n        name: sessionUser.name || defaultUser.name,\n        email: sessionUser.email || defaultUser.email,\n        role: isDemoUser ? 'Demo Investor' :\n              sessionUser.role === 'master_admin' ? 'Master Admin' : \n              sessionUser.role === 'agency_owner' ? 'Agency Owner' :\n              sessionUser.role === 'agency_admin' ? 'Agency Admin' :\n              sessionUser.role || 'User',\n        avatar: sessionUser.avatar || null,\n        // Demo users should NOT have company admin access\n        isCompanyAdmin: isDemoUser ? false : (sessionUser.isMasterAdmin || sessionUser.role === 'master_admin' || sessionUser.role === 'agency_owner'),\n        isMasterAdmin: isDemoUser ? false : (sessionUser.isMasterAdmin || false),\n        isDemoUser,\n      }\n    }\n    return defaultUser\n  }, [sessionUser])\n  \n  // Get user initials for avatar fallback\n  const userInitials = useMemo(() => {\n    if (!currentUser.name) return 'U'\n    const parts = currentUser.name.trim().split(' ')\n    if (parts.length >= 2) {\n      return `${parts[0][0]}${parts[parts.length - 1][0]}`.toUpperCase()\n    }\n    return parts[0].substring(0, 2).toUpperCase()\n  }, [currentUser.name])\n  \n  // Handle sign out - Use custom logout endpoint to properly clear cookies\n  const handleSignOut = async () => {\n    try {\n      await fetch('/api/logout', {\n        method: 'POST',\n        credentials: 'include',\n      })\n    } catch (error) {\n      console.error('Logout error:', error)\n    }\n    // Always redirect to signin, even if logout request fails\n    window.location.href = '/auth/signin'\n  }\n\n  // Theme Integration - Auto-applies CSS variables to document\n  const { theme, isLoading: themeLoading } = useTheme({\n    subAccountId: currentSubAccount.id,\n    autoApply: true,\n  })\n  \n  // Cache theme to localStorage for instant loading on next visit\n  useThemeCache(currentSubAccount.id, theme, themeLoading)\n\n  // AI Chat Integration - Pass user info for personalized responses\n  const { messages, isLoading, error, sendMessage, clearMessages } = useAiChat({\n    subAccountId: currentSubAccount.id,\n    userId: currentUser.id,\n    userName: currentUser.name,\n    userEmail: currentUser.email,\n    onError: (err) => console.error('AI Chat error:', err),\n  })\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    if (showChatbot && messagesContainerRef.current) {\n      messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight\n    }\n  }, [messages, isLoading, showChatbot])\n\n  // Voice error message state\n  const [voiceError, setVoiceError] = useState<string | null>(null)\n\n  // Initialize Speech Recognition\n  useEffect(() => {\n    // Check for browser support\n    const SpeechRecognition = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition\n    \n    // Check if we're on HTTPS or localhost (required for speech recognition)\n    const isSecureContext = window.isSecureContext || \n      window.location.protocol === 'https:' || \n      window.location.hostname === 'localhost' ||\n      window.location.hostname === '127.0.0.1'\n    \n    if (SpeechRecognition && isSecureContext) {\n      setSpeechSupported(true)\n      recognitionRef.current = new SpeechRecognition()\n      recognitionRef.current.continuous = false\n      recognitionRef.current.interimResults = true\n      recognitionRef.current.lang = 'en-US'\n\n      recognitionRef.current.onresult = (event: any) => {\n        setVoiceError(null) // Clear any previous errors\n        let finalTranscript = ''\n        let interimTranscript = ''\n        \n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          const transcript = event.results[i][0].transcript\n          if (event.results[i].isFinal) {\n            finalTranscript += transcript\n          } else {\n            interimTranscript += transcript\n          }\n        }\n        \n        // Update the chat message with either final or interim transcript\n        if (finalTranscript) {\n          setChatMessage(prev => prev + finalTranscript)\n        } else if (interimTranscript) {\n          // Show interim results (optional - can remove for cleaner UX)\n          setChatMessage(interimTranscript)\n        }\n      }\n\n      recognitionRef.current.onend = () => {\n        setIsListening(false)\n      }\n\n      recognitionRef.current.onerror = (event: any) => {\n        console.error('Speech recognition error:', event.error)\n        setIsListening(false)\n        \n        // User-friendly error messages\n        const errorMessages: Record<string, string> = {\n          'network': 'Network error. Voice input requires HTTPS. Please use the text input instead.',\n          'not-allowed': 'Microphone access denied. Please allow microphone access in your browser settings.',\n          'no-speech': 'No speech detected. Please try again.',\n          'aborted': 'Voice input cancelled.',\n          'audio-capture': 'No microphone found. Please check your microphone connection.',\n          'service-not-allowed': 'Speech service not available. Please use text input.'\n        }\n        \n        const errorMessage = errorMessages[event.error] || `Voice error: ${event.error}`\n        setVoiceError(errorMessage)\n        \n        // Auto-clear error after 5 seconds\n        setTimeout(() => setVoiceError(null), 5000)\n      }\n    } else if (SpeechRecognition && !isSecureContext) {\n      // Browser supports it but we're not on HTTPS\n      setSpeechSupported(false)\n      setVoiceError('Voice input requires HTTPS. Use text input instead.')\n    }\n\n    return () => {\n      if (recognitionRef.current) {\n        recognitionRef.current.abort()\n      }\n    }\n  }, [])\n\n  // Toggle voice input\n  const toggleVoiceInput = () => {\n    if (!speechSupported) {\n      setVoiceError('Voice input is not available. Please type your message instead.')\n      setTimeout(() => setVoiceError(null), 4000)\n      return\n    }\n\n    setVoiceError(null) // Clear previous errors\n    \n    if (isListening) {\n      recognitionRef.current?.stop()\n      setIsListening(false)\n    } else {\n      setChatMessage('') // Clear current message to start fresh\n      recognitionRef.current?.start()\n      setIsListening(true)\n    }\n  }\n\n  // Onboarding checklist tasks (sub-account specific)\n  const [checklistTasks, setChecklistTasks] = useState([\n    { id: 1, title: 'Complete sub-account profile', description: 'Add logo, name, and details', completed: false, required: true },\n    { id: 2, title: 'Add team members', description: 'Invite at least one team member', completed: true, required: true },\n    { id: 3, title: 'Set up lead engine', description: 'Configure your lead capture settings', completed: false, required: true },\n    { id: 4, title: 'Configure AI chatbot', description: 'Customize your AI assistant settings', completed: false, required: true },\n    { id: 5, title: 'Connect calendar', description: 'Sync your calendar for appointments', completed: false, required: true },\n    { id: 6, title: 'Explore conversations', description: 'Visit conversations to see communication tools', completed: true, required: false },\n    { id: 7, title: 'Set up payment methods', description: 'Add payment options for clients', completed: false, required: false },\n  ])\n\n  const totalRequired = checklistTasks.filter(t => t.required).length\n  const completedRequired = checklistTasks.filter(t => t.required && t.completed).length\n  const allRequiredCompleted = completedRequired === totalRequired\n  const checklistProgress = Math.round((completedRequired / totalRequired) * 100)\n\n  const handleToggleTask = (taskId: number) => {\n    setChecklistTasks(prev => \n      prev.map(task => \n        task.id === taskId ? { ...task, completed: !task.completed } : task\n      )\n    )\n  }\n\n  const handleOpenChatbot = () => {\n    setShowChatbot(true)\n  }\n\n  // Determine if current sub-account is Risivo Hub (has Platform Admin access)\n  // Demo users should NEVER see Platform Admin section\n  const isRisivoHub = !currentUser.isDemoUser && (currentSubAccount.id === RISIVO_HUB_SUB_ACCOUNT_ID || currentSubAccount.isRisivoHub)\n\n  // Complete Sub-Account Navigation Structure\n  // Based on CLIENT_SUBACCOUNT_MENU_STRUCTURE.md documentation\n  // Note: Social Command and PPC Ads are INSIDE Marketing as tabs, not separate menu items\n  // Settings is excluded for demo users (investors)\n  const allNavigation = [\n    { name: 'Dashboard', href: '/sub-account/dashboard', icon: 'üìä' },\n    { name: 'Conversations', href: '/sub-account/conversations', icon: 'üí¨' },\n    { name: 'Calendars', href: '/sub-account/calendars', icon: 'üìÖ' },\n    { name: 'Contacts', href: '/sub-account/contacts', icon: 'üë•' },\n    { name: 'Lead Engine', href: '/sub-account/lead-engine', icon: 'üéØ' },\n    { name: 'Revenue Engine', href: '/sub-account/revenue-engine', icon: 'üí∞' },\n    { name: 'AI Tools', href: '/sub-account/ai-tools', icon: 'ü§ñ' },\n    { name: 'Project Management', href: '/sub-account/project-management', icon: 'üìã' },\n    { name: 'Marketing', href: '/sub-account/marketing', icon: 'üì£' },\n    { name: 'Accelerators', href: '/sub-account/accelerators', icon: '‚ö°' },\n    { name: 'Digital Hub', href: '/sub-account/digital-hub', icon: 'üåê' },\n    { name: 'Memberships', href: '/sub-account/memberships', icon: 'üéì' },\n    { name: 'Media Vault', href: '/sub-account/media-vault', icon: 'üóÑÔ∏è' },\n    { name: 'Reputation', href: '/sub-account/reputation', icon: '‚≠ê' },\n    { name: 'Reporting', href: '/sub-account/reporting', icon: 'üìà' },\n    { name: 'Addon Store', href: '/sub-account/addon-store', icon: 'üõí' },\n    { name: 'Settings', href: '/sub-account/settings', icon: '‚öôÔ∏è', hideForDemo: true },\n  ]\n  \n  // Filter navigation items based on user type - hide Settings for demo users\n  const navigation = currentUser.isDemoUser \n    ? allNavigation.filter(item => !item.hideForDemo)\n    : allNavigation\n\n  // Platform Admin Navigation - Only visible for Risivo Hub AND not demo users\n  // These replace the separate /admin/* and /super-admin/* routes\n  const platformAdminNavigation = [\n    { name: 'Platform Overview', href: '/sub-account/platform-admin', icon: 'üëë' },\n    { name: 'Agencies', href: '/sub-account/platform-admin/agencies', icon: 'üè¢' },\n    { name: 'Clients', href: '/sub-account/platform-admin/clients', icon: 'üè™' },\n    { name: 'Users', href: '/sub-account/platform-admin/users', icon: 'üë§' },\n    { name: 'Staff', href: '/sub-account/platform-admin/staff', icon: 'üíº' },\n    { name: 'Demo Access', href: '/sub-account/platform-admin/demos', icon: 'üé≠' },\n    { name: 'Support Tickets', href: '/sub-account/platform-admin/support', icon: 'üé´' },\n    { name: 'Newsletters', href: '/sub-account/platform-admin/newsletters', icon: 'üìß' },\n    { name: 'Platform Settings', href: '/sub-account/platform-admin/settings', icon: '‚öôÔ∏è' },\n  ]\n\n  // Filter users based on search (only within this sub-account)\n  const filteredSubAccountUsers = subAccountUsers.filter(user =>\n    user.name.toLowerCase().includes(loginAsSearch.toLowerCase()) ||\n    user.email.toLowerCase().includes(loginAsSearch.toLowerCase())\n  )\n\n  // Handle Login As\n  const handleLoginAs = (user: SubAccountUser) => {\n    console.log('Admin logging in as:', user)\n    setShowLoginAsModal(false)\n    setLoginAsSearch('')\n    // TODO: Implement actual login as functionality\n  }\n\n  // Handle jump to sub-account\n  const handleJumpToSubAccount = (subAccountId: string) => {\n    console.log('Jumping to sub-account:', subAccountId)\n    setShowAccountSwitcher(false)\n    // TODO: Navigate to sub-account dashboard\n  }\n\n  // Close modals\n  const handleCloseAccountSwitcher = () => {\n    setShowAccountSwitcher(false)\n    setTimeout(() => {\n      setSubAccountSearch('')\n    }, 300)\n  }\n\n  const handleCloseLoginAsModal = () => {\n    setShowLoginAsModal(false)\n    setTimeout(() => {\n      setLoginAsSearch('')\n    }, 300)\n  }\n\n  return (\n    <div className=\"min-h-screen\" style={{ backgroundColor: 'var(--theme-background)' }}>\n      {/* Dynamic Favicon - Updates browser tab icon based on sub-account theme */}\n      <DynamicFavicon \n        faviconUrl={theme.faviconUrl} \n        fallbackUrl=\"/favicon.ico\"\n      />\n      \n      {/* Mobile sidebar backdrop */}\n      {sidebarOpen && (\n        <div\n          className=\"fixed inset-0 z-40 lg:hidden\"\n          style={{ backgroundColor: 'var(--theme-overlay-bg)' }}\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n\n      {/* Sidebar - Using theme CSS variables */}\n      <aside\n        className={`\n          fixed inset-y-0 left-0 z-50 w-64 transform transition-transform duration-300 ease-in-out\n          ${sidebarOpen ? 'translate-x-0' : '-translate-x-full'}\n          lg:translate-x-0\n        `}\n        style={{ backgroundColor: 'var(--theme-sidebar-bg)' }}\n      >\n        <div className=\"flex flex-col h-full\">\n          {/* Logo & Company Name */}\n          <div className=\"flex flex-col items-center justify-center px-4 py-4\" style={{ borderBottom: '1px solid var(--theme-sidebar-hover)' }}>\n            {/* Logo - uses theme.logoUrl from useTheme hook */}\n            <LogoDisplay \n              logoUrl={theme.logoUrl}\n              fallbackUrl={currentSubAccount.logo}\n              altText={currentSubAccount.name}\n            />\n            <p className=\"text-xs font-medium mt-2 text-center\" style={{ color: 'var(--theme-sidebar-text)', opacity: 0.8 }}>\n              {currentSubAccount.name}\n            </p>\n          </div>\n\n          {/* Account Switcher Button - Only for Company Admins */}\n          {currentUser.isCompanyAdmin && (\n            <div className=\"px-4 py-3 border-b border-white/20\">\n              <button\n                onClick={() => setShowAccountSwitcher(true)}\n                className=\"w-full flex items-center justify-between px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-white/80 text-sm\">üè™</span>\n                  <div className=\"text-left\">\n                    <p className=\"text-white text-sm font-medium\">{currentSubAccount.name}</p>\n                    <p className=\"text-white/70 text-xs\">Switch to Company</p>\n                  </div>\n                </div>\n                <svg className=\"w-4 h-4 text-white/70\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h12M8 12h12m-7 5h7\" />\n                </svg>\n              </button>\n            </div>\n          )}\n          \n          {/* Sub-Account Info (for non-company admins) */}\n          {!currentUser.isCompanyAdmin && (\n            <div className=\"px-4 py-3 border-b border-white/20\">\n              <div className=\"flex items-center gap-2 px-4 py-2 bg-white/5 rounded-lg\">\n                <span className=\"text-white/80 text-sm\">üè™</span>\n                <div className=\"text-left\">\n                  <p className=\"text-white text-sm font-medium\">{currentSubAccount.name}</p>\n                  <p className=\"text-white/70 text-xs\">{currentSubAccount.type} ‚Ä¢ {subAccountUsers.length} users</p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Navigation */}\n          <nav className=\"flex-1 px-4 py-6 space-y-1.5 overflow-y-auto\">\n            {navigation.map((item) => {\n              // Check if current path matches this menu item\n              // Use startsWith to keep menu active when on sub-pages/tabs within the module\n              const isActive = pathname === item.href || pathname.startsWith(item.href + '/')\n              return (\n                <Link\n                  key={item.name}\n                  href={item.href}\n                  className=\"flex items-center gap-3 px-3.5 py-2.5 rounded-lg text-[13px] font-medium transition-all font-poppins\"\n                  style={{\n                    backgroundColor: isActive ? 'var(--theme-sidebar-active)' : 'transparent',\n                    color: isActive ? 'var(--theme-sidebar-active-foreground)' : 'var(--theme-sidebar-text)',\n                    boxShadow: isActive ? '0 4px 6px -1px rgba(0, 0, 0, 0.1)' : 'none',\n                  }}\n                  onMouseEnter={(e) => {\n                    if (!isActive) {\n                      e.currentTarget.style.backgroundColor = 'var(--theme-sidebar-hover)'\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (!isActive) {\n                      e.currentTarget.style.backgroundColor = 'transparent'\n                    }\n                  }}\n                  onClick={() => setSidebarOpen(false)}\n                >\n                  <span className=\"text-lg flex-shrink-0 w-5 inline-flex items-center justify-center\">{item.icon}</span>\n                  <span className=\"leading-tight flex-1\">{item.name}</span>\n                </Link>\n              )\n            })}\n\n            {/* Platform Admin Section - Only visible for Risivo Hub */}\n            {isRisivoHub && (\n              <>\n                {/* Separator */}\n                <div className=\"my-4 pt-4\" style={{ borderTop: '1px solid var(--theme-sidebar-hover)' }}>\n                  <span \n                    className=\"text-[10px] font-bold uppercase tracking-wider px-3\"\n                    style={{ color: 'var(--theme-sidebar-text)', opacity: 0.6 }}\n                  >\n                    üëë Platform Admin\n                  </span>\n                </div>\n\n                {/* Platform Admin Navigation Items */}\n                {platformAdminNavigation.map((item) => {\n                  const isActive = pathname === item.href || pathname.startsWith(item.href + '/')\n                  return (\n                    <Link\n                      key={item.name}\n                      href={item.href}\n                      className=\"flex items-center gap-3 px-3.5 py-2.5 rounded-lg text-[13px] font-medium transition-all font-poppins\"\n                      style={{\n                        backgroundColor: isActive ? 'var(--theme-sidebar-active)' : 'transparent',\n                        color: isActive ? 'var(--theme-sidebar-active-foreground)' : 'var(--theme-sidebar-text)',\n                        boxShadow: isActive ? '0 4px 6px -1px rgba(0, 0, 0, 0.1)' : 'none',\n                      }}\n                      onMouseEnter={(e) => {\n                        if (!isActive) {\n                          e.currentTarget.style.backgroundColor = 'var(--theme-sidebar-hover)'\n                        }\n                      }}\n                      onMouseLeave={(e) => {\n                        if (!isActive) {\n                          e.currentTarget.style.backgroundColor = 'transparent'\n                        }\n                      }}\n                      onClick={() => setSidebarOpen(false)}\n                    >\n                      <span className=\"text-lg flex-shrink-0 w-5 inline-flex items-center justify-center\">{item.icon}</span>\n                      <span className=\"leading-tight flex-1\">{item.name}</span>\n                    </Link>\n                  )\n                })}\n              </>\n            )}\n          </nav>\n\n          {/* User Profile Footer */}\n          <div className=\"p-4\" style={{ borderTop: '1px solid var(--theme-sidebar-hover)' }}>\n            <div className=\"flex items-center gap-3 px-4 py-3 rounded-lg\" style={{ backgroundColor: 'var(--theme-sidebar-hover)' }}>\n              <div \n                className=\"w-10 h-10 rounded-full flex items-center justify-center font-bold overflow-hidden\"\n                style={{ backgroundColor: 'var(--theme-sidebar-active)', color: 'var(--theme-sidebar-active-foreground)' }}\n              >\n                {currentUser.avatar ? (\n                  <img src={currentUser.avatar} alt={currentUser.name} className=\"w-full h-full object-cover\" />\n                ) : (\n                  userInitials\n                )}\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium truncate\" style={{ color: 'var(--theme-sidebar-text)' }}>{currentUser.name}</p>\n                <p className=\"text-xs truncate\" style={{ color: 'var(--theme-sidebar-text)', opacity: 0.7 }}>{currentUser.role}</p>\n              </div>\n              <button \n                onClick={handleSignOut}\n                className=\"transition-colors hover:opacity-100\"\n                style={{ color: 'var(--theme-sidebar-text)', opacity: 0.7 }}\n                title=\"Sign Out\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </aside>\n\n      {/* Main Content Area */}\n      <div className=\"lg:pl-64 flex flex-col min-h-screen\">\n        {/* Top Header */}\n        <header \n          className=\"sticky top-0 z-30 shadow-sm\"\n          style={{ \n            backgroundColor: 'var(--theme-header-bg)', \n            borderBottom: '1px solid var(--theme-header-border)' \n          }}\n        >\n          <div className=\"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8\">\n            {/* Mobile menu button */}\n            <button\n              type=\"button\"\n              className=\"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100\"\n              onClick={() => setSidebarOpen(true)}\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n              </svg>\n            </button>\n\n            {/* Search Bar */}\n            <div className=\"flex-1 max-w-2xl mx-4\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                  </svg>\n                </div>\n                <input\n                  type=\"search\"\n                  placeholder=\"Search...\"\n                  className=\"block w-full pl-10 pr-3 py-2 rounded-lg leading-5 focus:outline-none focus:ring-2 focus:border-transparent sm:text-sm\"\n                  style={{\n                    backgroundColor: 'var(--theme-input-bg)',\n                    border: '1px solid var(--theme-input-border)',\n                    color: 'var(--theme-input-text)',\n                  }}\n                />\n              </div>\n            </div>\n\n            {/* Right side - Checklist, Notifications, Help & Profile */}\n            <div className=\"flex items-center gap-3\">\n              {/* Onboarding Checklist (only show if not all required tasks completed) */}\n              {!allRequiredCompleted && (\n                <button \n                  onClick={() => setShowChecklistModal(true)}\n                  className=\"relative p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\"\n                  title=\"Onboarding Checklist\"\n                >\n                  <svg className={`w-6 h-6 ${!allRequiredCompleted ? 'animate-pulse text-green-600' : ''}`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\" />\n                  </svg>\n                  <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-green-600 text-white text-xs rounded-full flex items-center justify-center font-bold\">\n                    {completedRequired}/{totalRequired}\n                  </span>\n                </button>\n              )}\n\n              {/* Power Dialer Quick Access */}\n              <div className=\"relative\">\n                <button \n                  onClick={() => {\n                    if (hasPowerDialerAddon) {\n                      setPowerDialerClicked(true)\n                      setShowPowerDialerDropdown(!showPowerDialerDropdown)\n                    } else {\n                      setShowPowerDialerDropdown(!showPowerDialerDropdown)\n                    }\n                  }}\n                  className={`relative p-2 rounded-lg transition-all ${\n                    hasPowerDialerAddon \n                      ? 'text-gray-400 hover:text-blue-600 hover:bg-blue-50' \n                      : 'text-gray-300 hover:text-gray-400 hover:bg-gray-100'\n                  }`}\n                  title={hasPowerDialerAddon ? 'Power Dialer' : 'Power Dialer (Addon Required)'}\n                >\n                  {/* Phone Icon with Headset */}\n                  <svg className={`w-6 h-6 ${\n                    hasPowerDialerAddon && hasAssignedCampaigns && !powerDialerClicked \n                      ? 'text-blue-600 animate-pulse' \n                      : ''\n                  }`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                  </svg>\n                  {/* Blinking indicator dot when campaigns assigned */}\n                  {hasPowerDialerAddon && hasAssignedCampaigns && !powerDialerClicked && (\n                    <span className=\"absolute top-1 right-1 w-2.5 h-2.5 bg-blue-500 rounded-full animate-ping\"></span>\n                  )}\n                  {hasPowerDialerAddon && hasAssignedCampaigns && !powerDialerClicked && (\n                    <span className=\"absolute top-1 right-1 w-2.5 h-2.5 bg-blue-600 rounded-full\"></span>\n                  )}\n                </button>\n\n                {/* Power Dialer Dropdown */}\n                {showPowerDialerDropdown && (\n                  <div className=\"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50\">\n                    {hasPowerDialerAddon ? (\n                      <>\n                        <div className=\"px-4 py-2 border-b border-gray-100\">\n                          <h3 className=\"font-semibold text-gray-900 flex items-center gap-2\">\n                            üìû Power Dialer\n                            <span className=\"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full\">Active</span>\n                          </h3>\n                          <p className=\"text-xs text-gray-500 mt-1\">Quick access to your dialing campaigns</p>\n                        </div>\n                        {hasAssignedCampaigns ? (\n                          <>\n                            <div className=\"px-4 py-2\">\n                              <p className=\"text-xs text-blue-600 font-medium mb-2\">üì¢ You have campaigns waiting</p>\n                              <div className=\"space-y-2\">\n                                <div className=\"p-2 bg-blue-50 rounded-lg text-sm\">\n                                  <p className=\"font-medium text-gray-900\">Q4 Sales Outreach</p>\n                                  <p className=\"text-xs text-gray-500\">23 contacts remaining</p>\n                                </div>\n                                <div className=\"p-2 bg-gray-50 rounded-lg text-sm\">\n                                  <p className=\"font-medium text-gray-900\">Follow-up Campaign</p>\n                                  <p className=\"text-xs text-gray-500\">8 contacts remaining</p>\n                                </div>\n                              </div>\n                            </div>\n                            <div className=\"px-4 py-2 border-t border-gray-100\">\n                              <Link\n                                href=\"/sub-account/conversations/power-dialer\"\n                                onClick={() => setShowPowerDialerDropdown(false)}\n                                className=\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium\"\n                              >\n                                üéß Open Power Dialer\n                              </Link>\n                            </div>\n                          </>\n                        ) : (\n                          <div className=\"px-4 py-4 text-center\">\n                            <p className=\"text-gray-500 text-sm mb-3\">No active campaigns</p>\n                            <Link\n                              href=\"/sub-account/conversations/power-dialer\"\n                              onClick={() => setShowPowerDialerDropdown(false)}\n                              className=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium\"\n                            >\n                              ‚ûï Create Campaign\n                            </Link>\n                          </div>\n                        )}\n                      </>\n                    ) : (\n                      <div className=\"px-4 py-4 text-center\">\n                        <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\">\n                          <svg className=\"w-6 h-6 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n                          </svg>\n                        </div>\n                        <h4 className=\"font-semibold text-gray-900 mb-1\">Power Dialer</h4>\n                        <p className=\"text-sm text-gray-500 mb-4\">\n                          Unlock automated outbound calling with the Power Dialer addon.\n                        </p>\n                        <Link\n                          href=\"/sub-account/addon-store?addon=power-dialer\"\n                          onClick={() => setShowPowerDialerDropdown(false)}\n                          className=\"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 text-sm font-medium\"\n                        >\n                          üîì Subscribe Now\n                        </Link>\n                        <p className=\"text-xs text-gray-400 mt-2\">Starting at $49/month</p>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n\n              {/* Notifications */}\n              <button className=\"relative p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\">\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n                </svg>\n                <span className=\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"></span>\n              </button>\n\n              {/* Help Button */}\n              <button \n                onClick={() => setShowHelpPanel(true)}\n                className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\"\n                title=\"Help & Knowledge Base\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              </button>\n\n              {/* AI Virtual Assistant Button (in header when closed) */}\n              {!showChatbot && (\n                <button\n                  onClick={handleOpenChatbot}\n                  className=\"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors relative\"\n                  title=\"AI Assistant\"\n                >\n                  <span className=\"text-xl\">ü§ñ</span>\n                  {showRobotPopup && (\n                    <span className=\"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-ping\"></span>\n                  )}\n                  {showRobotPopup && (\n                    <span className=\"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full\"></span>\n                  )}\n                </button>\n              )}\n\n              {/* User Avatar Dropdown */}\n              <div className=\"relative\">\n                <button \n                  onClick={() => setShowUserMenu(!showUserMenu)}\n                  className=\"hidden sm:flex items-center gap-2 p-1 hover:bg-gray-100 rounded-lg\"\n                >\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold overflow-hidden\">\n                    {currentUser.avatar ? (\n                      <img src={currentUser.avatar} alt={currentUser.name} className=\"w-full h-full object-cover\" />\n                    ) : (\n                      userInitials\n                    )}\n                  </div>\n                  <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n\n                {/* User Dropdown Menu */}\n                {showUserMenu && (\n                  <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50\">\n                    {/* User Info Header */}\n                    <div className=\"px-4 py-2 border-b border-gray-100\">\n                      <p className=\"text-sm font-medium text-gray-900 truncate\">{currentUser.name}</p>\n                      <p className=\"text-xs text-gray-500 truncate\">{currentUser.email}</p>\n                      {currentUser.isDemoUser && (\n                        <span className=\"inline-block mt-1 px-2 py-0.5 text-xs bg-amber-100 text-amber-700 rounded-full\">\n                          Demo Access\n                        </span>\n                      )}\n                    </div>\n                    {/* My Profile - Hidden for demo users (it's under /settings which is restricted) */}\n                    {!currentUser.isDemoUser && (\n                      <a\n                        href=\"/sub-account/settings/my-profile\"\n                        className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2\"\n                        onClick={() => setShowUserMenu(false)}\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                        </svg>\n                        My Profile\n                      </a>\n                    )}\n                    {/* Settings - Hidden for demo users */}\n                    {!currentUser.isDemoUser && (\n                      <a\n                        href=\"/sub-account/settings\"\n                        className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2\"\n                        onClick={() => setShowUserMenu(false)}\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                        </svg>\n                        Settings\n                      </a>\n                    )}\n                    {currentUser.isCompanyAdmin && (\n                      <>\n                        <hr className=\"my-1\" />\n                        <button\n                          className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2\"\n                          onClick={() => {\n                            setShowLoginAsModal(true)\n                            setShowUserMenu(false)\n                          }}\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\" />\n                          </svg>\n                          Login As...\n                        </button>\n                      </>\n                    )}\n                    <hr className=\"my-1\" />\n                    <button\n                      className=\"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2\"\n                      onClick={handleSignOut}\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                      </svg>\n                      Log Out\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Page Content */}\n        <main className=\"flex-1 p-4 sm:p-6 lg:p-8\">\n          {children}\n        </main>\n      </div>\n\n      {/* Account Switcher Modal - Company Admins Only */}\n      {showAccountSwitcher && currentUser.isCompanyAdmin && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-md\">\n            {/* Modal Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <h2 className=\"text-xl font-bold text-gray-900\">Switch Account</h2>\n              <button\n                onClick={handleCloseAccountSwitcher}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Switch Options */}\n            <div className=\"p-6 space-y-3\">\n              {/* Current Sub-Account */}\n              <div className=\"border-2 border-blue-500 rounded-lg p-4 bg-blue-50\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white text-lg\">\n                    üè™\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"font-semibold text-gray-900\">{currentSubAccount.name}</p>\n                    <p className=\"text-xs text-gray-600\">{currentSubAccount.type} ‚Ä¢ Current</p>\n                  </div>\n                  <span className=\"px-2 py-1 text-xs font-medium bg-blue-600 text-white rounded-full\">\n                    Active\n                  </span>\n                </div>\n              </div>\n\n              {/* Company Dashboard Option */}\n              <Link\n                href=\"/company/dashboard\"\n                className=\"block border-2 border-gray-200 rounded-lg p-4 hover:border-green-500 hover:bg-green-50 transition-all\"\n                onClick={() => setShowAccountSwitcher(false)}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center text-white text-lg\">\n                    üè¢\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"font-semibold text-gray-900\">{currentSubAccount.companyName}</p>\n                    <p className=\"text-xs text-gray-600\">Company Dashboard</p>\n                  </div>\n                  <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </div>\n              </Link>\n            </div>\n\n            {/* Footer */}\n            <div className=\"p-4 bg-gray-50 border-t border-gray-200 rounded-b-xl\">\n              <p className=\"text-xs text-gray-600 text-center\">\n                You're a company admin, so you can switch between accounts\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Login As Modal - Company Users Only */}\n      {showLoginAsModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[85vh] flex flex-col\">\n            {/* Modal Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <h2 className=\"text-xl font-bold text-gray-900\">Login As User</h2>\n              <button\n                onClick={handleCloseLoginAsModal}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Search Input */}\n            <div className=\"p-6 border-b border-gray-200\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                  </svg>\n                </div>\n                <input\n                  type=\"search\"\n                  placeholder=\"Search users by name or email...\"\n                  value={loginAsSearch}\n                  onChange={(e) => setLoginAsSearch(e.target.value)}\n                  className=\"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  autoFocus\n                />\n              </div>\n              <p className=\"text-xs text-gray-500 mt-2\">\n                {filteredSubAccountUsers.length} user{filteredSubAccountUsers.length === 1 ? '' : 's'} found in {currentSubAccount.name}\n              </p>\n            </div>\n\n            {/* User List */}\n            <div className=\"flex-1 overflow-y-auto p-6\">\n              {filteredSubAccountUsers.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                  </svg>\n                  <p className=\"mt-4 text-sm text-gray-500\">No users found matching \"{loginAsSearch}\"</p>\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {filteredSubAccountUsers.map((user) => (\n                    <div\n                      key={user.id}\n                      className=\"border border-gray-200 rounded-lg p-4 hover:border-green-500 hover:bg-green-50 transition-all\"\n                    >\n                      <div className=\"flex items-start justify-between gap-4\">\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center gap-2\">\n                            <div className=\"w-10 h-10 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center text-white font-semibold text-sm flex-shrink-0\">\n                              {user.name.split(' ').map(n => n[0]).join('')}\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <h3 className=\"font-semibold text-gray-900\">{user.name}</h3>\n                              <p className=\"text-sm text-gray-600\">{user.email}</p>\n                            </div>\n                            <span className={`px-2 py-0.5 text-xs font-medium rounded-full whitespace-nowrap ${\n                              user.role === 'Admin' ? 'bg-purple-100 text-purple-700' :\n                              user.role === 'Manager' ? 'bg-blue-100 text-blue-700' :\n                              'bg-gray-100 text-gray-700'\n                            }`}>\n                              {user.role}\n                            </span>\n                          </div>\n                          <div className=\"mt-3 space-y-1\">\n                            <div className=\"flex items-center gap-4 text-xs text-gray-400 mt-2\">\n                              <span>ID: {user.id}</span>\n                              <span>‚Ä¢</span>\n                              <span>Last login: {user.lastLogin}</span>\n                              <span>‚Ä¢</span>\n                              <span className={user.status === 'Active' ? 'text-green-600 font-medium' : 'text-gray-400'}>\n                                {user.status}\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                        <button\n                          onClick={() => handleLoginAs(user)}\n                          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-medium transition-colors whitespace-nowrap\"\n                        >\n                          Login As\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Modal Footer */}\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50 rounded-b-xl\">\n              <div className=\"flex items-center justify-between text-sm\">\n                <div>\n                  <p className=\"text-gray-600\">\n                    Select a user within {currentSubAccount.name} to login as\n                  </p>\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    ‚ö†Ô∏è Your admin session will be preserved and you can return anytime\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Help Panel (Right Sidebar) - Same as Super Admin */}\n      {showHelpPanel && (\n        <>\n          <div \n            className=\"fixed inset-0 bg-black/30 z-40\"\n            onClick={() => setShowHelpPanel(false)}\n          />\n          <div className=\"fixed right-0 top-0 bottom-0 w-96 bg-white shadow-2xl z-50 flex flex-col\">\n            {/* Help Panel Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <h2 className=\"text-xl font-bold text-gray-900\">Help & Support</h2>\n              <button\n                onClick={() => setShowHelpPanel(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Search Help */}\n            <div className=\"p-4 border-b border-gray-200\">\n              <div className=\"relative\">\n                <input\n                  type=\"search\"\n                  placeholder=\"Search help articles...\"\n                  className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                />\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <svg className=\"h-4 w-4 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                  </svg>\n                </div>\n              </div>\n            </div>\n\n            {/* Help Content */}\n            <div className=\"flex-1 overflow-y-auto p-6\">\n              <div className=\"space-y-6\">\n                <div>\n                  <h3 className=\"font-semibold text-gray-900 mb-3\">Quick Start</h3>\n                  <ul className=\"space-y-2\">\n                    <li>\n                      <a href=\"#\" className=\"text-green-600 hover:text-green-800 text-sm\">Getting Started with RISIVO</a>\n                    </li>\n                    <li>\n                      <a href=\"#\" className=\"text-green-600 hover:text-green-800 text-sm\">Managing Sub-Accounts</a>\n                    </li>\n                    <li>\n                      <a href=\"#\" className=\"text-green-600 hover:text-green-800 text-sm\">Lead Engine Guide</a>\n                    </li>\n                  </ul>\n                </div>\n\n                <div>\n                  <h3 className=\"font-semibold text-gray-900 mb-3\">AI Features</h3>\n                  <ul className=\"space-y-2\">\n                    <li>\n                      <a href=\"#\" className=\"text-green-600 hover:text-green-800 text-sm\">AI Translation Guide</a>\n                    </li>\n                    <li>\n                      <a href=\"#\" className=\"text-green-600 hover:text-green-800 text-sm\">Content Generation</a>\n                    </li>\n                    <li>\n                      <a href=\"#\" className=\"text-green-600 hover:text-green-800 text-sm\">Chatbot Setup</a>\n                    </li>\n                  </ul>\n                </div>\n\n                <div>\n                  <h3 className=\"font-semibold text-gray-900 mb-3\">Support</h3>\n                  <ul className=\"space-y-2\">\n                    <li>\n                      <a href=\"#\" className=\"text-green-600 hover:text-green-800 text-sm\">Contact Support</a>\n                    </li>\n                    <li>\n                      <a href=\"#\" className=\"text-green-600 hover:text-green-800 text-sm\">Submit a Ticket</a>\n                    </li>\n                    <li>\n                      <a href=\"#\" className=\"text-green-600 hover:text-green-800 text-sm\">Video Tutorials</a>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n            {/* Contact Support Button */}\n            <div className=\"p-6 border-t border-gray-200\">\n              <button className=\"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 font-medium\">\n                Contact Support Team\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n\n      {/* Onboarding Checklist Modal */}\n      {showChecklistModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto\">\n            {/* Modal Header */}\n            <div className=\"px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900\">Onboarding Checklist</h3>\n                <p className=\"text-sm text-gray-600 mt-1\">Complete these tasks to get started</p>\n              </div>\n              <button\n                onClick={() => setShowChecklistModal(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Progress Bar */}\n            <div className=\"px-6 py-4 bg-gray-50\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-sm font-medium text-gray-700\">Progress</span>\n                <span className=\"text-sm font-bold text-green-600\">{checklistProgress}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${checklistProgress}%` }}\n                ></div>\n              </div>\n              <p className=\"text-xs text-gray-600 mt-2\">\n                {completedRequired} of {totalRequired} required tasks completed\n              </p>\n            </div>\n\n            {/* Checklist Items */}\n            <div className=\"p-6 space-y-3\">\n              {checklistTasks.map((task) => (\n                <div\n                  key={task.id}\n                  className={`p-4 border-2 rounded-lg transition-all ${\n                    task.completed \n                      ? 'bg-green-50 border-green-300' \n                      : 'bg-white border-gray-200 hover:border-green-300'\n                  }`}\n                >\n                  <div className=\"flex items-start gap-3\">\n                    <button\n                      onClick={() => handleToggleTask(task.id)}\n                      className={`flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${\n                        task.completed\n                          ? 'bg-green-600 border-green-600'\n                          : 'border-gray-300 hover:border-green-500'\n                      }`}\n                    >\n                      {task.completed && (\n                        <svg className=\"w-4 h-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                        </svg>\n                      )}\n                    </button>\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2\">\n                        <h4 className={`font-medium ${task.completed ? 'text-gray-500 line-through' : 'text-gray-900'}`}>\n                          {task.title}\n                        </h4>\n                        {task.required && (\n                          <span className=\"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded-full\">\n                            Required\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-gray-600 mt-1\">{task.description}</p>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* Footer */}\n            <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-lg\">\n              {allRequiredCompleted ? (\n                <div className=\"text-center\">\n                  <p className=\"text-green-600 font-semibold mb-2\">üéâ All required tasks completed!</p>\n                  <p className=\"text-sm text-gray-600\">You're all set to start using RISIVO CRM</p>\n                </div>\n              ) : (\n                <p className=\"text-sm text-gray-600 text-center\">\n                  Complete all required tasks to unlock the full experience\n                </p>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* AI Robot Chatbot - Removed floating icons, now in header */}\n\n      {/* Chatbot Window */}\n      {showChatbot && (\n        <div className=\"fixed bottom-6 right-6 z-50 w-96 h-[600px] bg-white rounded-lg shadow-2xl border-2 border-green-300 flex flex-col\">\n          {/* Chatbot Header */}\n          <div className=\"px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-t-lg flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-2xl\">ü§ñ</span>\n              <div>\n                <h3 className=\"font-semibold\">Sarah - AI Assistant</h3>\n                <p className=\"text-xs opacity-90\">Online ‚Ä¢ Ready to help</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={clearMessages}\n                className=\"text-white hover:bg-white hover:bg-opacity-20 rounded p-1\"\n                title=\"Clear conversation\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              </button>\n              <button\n                onClick={() => setShowChatbot(false)}\n                className=\"text-white hover:bg-white hover:bg-opacity-20 rounded p-1\"\n                title=\"Close chat\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          {/* Chat Messages */}\n          <div ref={messagesContainerRef} className=\"flex-1 p-4 overflow-y-auto bg-gray-50\">\n            <div className=\"space-y-4\">\n              {/* Welcome Message - Personalized greeting without action buttons */}\n              {messages.length === 0 && !isLoading && (\n                <DynamicWelcomeMessage userName={currentUser.name.split(' ')[0]} />\n              )}\n\n              {/* AI Messages */}\n              {messages.map((message) => (\n                <MessageBubble key={message.id} message={message} />\n              ))}\n\n              {/* Typing Indicator */}\n              {isLoading && <TypingIndicator />}\n\n              {/* Error Message */}\n              {error && (\n                <div className=\"bg-red-50 border border-red-200 text-red-800 px-3 py-2 rounded-lg text-sm\">\n                  {error}\n                </div>\n              )}\n\n              {/* Auto-scroll anchor */}\n              <div ref={messagesEndRef} />\n            </div>\n          </div>\n\n          {/* Chat Input Area */}\n          <div className=\"p-4 border-t border-gray-200 bg-white rounded-b-lg\">\n            {/* Voice Error Message */}\n            {voiceError && (\n              <div className=\"mb-3 px-3 py-2 bg-amber-50 border border-amber-200 text-amber-800 rounded-lg text-xs flex items-center gap-2\">\n                <svg className=\"w-4 h-4 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                </svg>\n                <span>{voiceError}</span>\n                <button onClick={() => setVoiceError(null)} className=\"ml-auto text-amber-600 hover:text-amber-800\">\n                  <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n            )}\n            \n            {/* Action Buttons */}\n            <div className=\"flex items-center gap-2 mb-3\">\n              <button \n                className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n                title=\"Upload file\"\n              >\n                <svg className=\"w-5 h-5 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n                </svg>\n              </button>\n              <button \n                onClick={toggleVoiceInput}\n                className={`p-2 rounded-lg transition-colors ${\n                  isListening \n                    ? 'bg-red-100 text-red-600 animate-pulse' \n                    : speechSupported \n                      ? 'hover:bg-gray-100 text-gray-600'\n                      : 'text-gray-300 cursor-not-allowed'\n                }`}\n                title={!speechSupported ? \"Voice input requires HTTPS\" : isListening ? \"Stop listening\" : \"Voice input\"}\n              >\n                {isListening ? (\n                  <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path d=\"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z\"/>\n                    <path d=\"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z\"/>\n                  </svg>\n                ) : (\n                  <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\" />\n                  </svg>\n                )}\n              </button>\n              {isListening && (\n                <span className=\"text-xs text-red-500 animate-pulse\">Listening...</span>\n              )}\n              <input \n                type=\"file\" \n                className=\"hidden\" \n                id=\"chatbot-file-upload\"\n                accept=\"image/*,.pdf,.doc,.docx,.xls,.xlsx,.csv\"\n              />\n            </div>\n\n            {/* Message Input */}\n            <div className=\"flex items-center gap-2\">\n              <input\n                type=\"text\"\n                value={chatMessage}\n                onChange={(e) => setChatMessage(e.target.value)}\n                placeholder=\"Type your message...\"\n                className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm\"\n                disabled={isLoading}\n                onKeyPress={async (e) => {\n                  if (e.key === 'Enter' && chatMessage.trim() && !isLoading) {\n                    const message = chatMessage\n                    setChatMessage('')\n                    await sendMessage(message)\n                  }\n                }}\n              />\n              <button \n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed\"\n                disabled={!chatMessage.trim() || isLoading}\n                onClick={async () => {\n                  if (chatMessage.trim() && !isLoading) {\n                    const message = chatMessage\n                    setChatMessage('')\n                    await sendMessage(message)\n                  }\n                }}\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","'use client';\n\nimport { useState, useCallback, useRef, useEffect } from 'react';\nimport { Message } from '@/components/ai/MessageBubble';\n\ninterface UseAiChatOptions {\n  subAccountId: string;\n  userId: string;\n  userName?: string;\n  userEmail?: string;\n  conversationId?: string;\n  onError?: (error: Error) => void;\n}\n\ninterface UseAiChatReturn {\n  messages: Message[];\n  isLoading: boolean;\n  error: string | null;\n  sendMessage: (content: string) => Promise<void>;\n  clearMessages: () => void;\n  loadConversation: (conversationId: string) => Promise<void>;\n}\n\nexport function useAiChat({ \n  subAccountId,\n  userId,\n  userName,\n  userEmail,\n  conversationId: initialConversationId,\n  onError \n}: UseAiChatOptions): UseAiChatReturn {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [conversationId, setConversationId] = useState<string | undefined>(initialConversationId);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  // Auto-scroll to bottom when new messages arrive\n  const scrollToBottom = useCallback(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, scrollToBottom]);\n\n  // Load conversation history\n  const loadConversation = useCallback(async (convId: string) => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      const response = await fetch(`/api/v1/ai/chat?conversationId=${convId}`);\n      \n      if (!response.ok) {\n        throw new Error('Failed to load conversation');\n      }\n\n      const data = await response.json();\n      \n      if (data.success && data.conversation) {\n        // Parse messages from conversation\n        const loadedMessages: Message[] = data.conversation.messages || [];\n        setMessages(loadedMessages);\n        setConversationId(convId);\n      }\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load conversation';\n      setError(errorMessage);\n      onError?.(err instanceof Error ? err : new Error(errorMessage));\n    } finally {\n      setIsLoading(false);\n    }\n  }, [onError]);\n\n  // Send a new message\n  const sendMessage = useCallback(async (content: string) => {\n    if (!content.trim() || isLoading) return;\n\n    const userMessage: Message = {\n      id: `msg_${Date.now()}_user`,\n      role: 'user',\n      content: content.trim(),\n      timestamp: new Date(),\n    };\n\n    // Add user message immediately\n    setMessages((prev) => [...prev, userMessage]);\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch('/api/v1/ai/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          message: content.trim(),\n          subAccountId,\n          userId,\n          userName,\n          userEmail,\n          conversationId,\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to send message');\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        // Add AI response\n        const aiMessage: Message = {\n          id: data.data?.message?.id || `msg_${Date.now()}_ai`,\n          role: 'assistant',\n          content: data.data?.message?.content || data.response || 'I processed your request.',\n          timestamp: new Date(data.data?.message?.createdAt || Date.now()),\n          functionCalls: data.functionCalls?.map((fc: any) => ({\n            name: fc.name,\n            arguments: fc.args,\n            result: fc.response,\n            status: 'success' as const,\n          })),\n        };\n\n        setMessages((prev) => [...prev, aiMessage]);\n\n        // Update conversation ID if this was the first message\n        if (data.data?.conversationId && !conversationId) {\n          setConversationId(data.data.conversationId);\n        }\n      } else {\n        throw new Error(data.error || 'Failed to get AI response');\n      }\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to send message';\n      setError(errorMessage);\n      onError?.(err instanceof Error ? err : new Error(errorMessage));\n\n      // Add error message to chat\n      const errorMsg: Message = {\n        id: `msg_${Date.now()}_error`,\n        role: 'assistant',\n        content: `Sorry, I encountered an error: ${errorMessage}`,\n        timestamp: new Date(),\n      };\n      setMessages((prev) => [...prev, errorMsg]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [subAccountId, userId, conversationId, isLoading, onError]);\n\n  // Clear all messages\n  const clearMessages = useCallback(() => {\n    setMessages([]);\n    setConversationId(undefined);\n    setError(null);\n  }, []);\n\n  return {\n    messages,\n    isLoading,\n    error,\n    sendMessage,\n    clearMessages,\n    loadConversation,\n  };\n}\n","'use client';\n\nimport React from 'react';\n\nexport interface Message {\n  id: string;\n  role: 'user' | 'assistant';\n  content: string;\n  timestamp: Date | string;\n  functionCalls?: FunctionCall[];\n}\n\nexport interface FunctionCall {\n  name: string;\n  arguments: any;\n  result?: any;\n  status: 'pending' | 'success' | 'error';\n}\n\ninterface MessageBubbleProps {\n  message: Message;\n}\n\nexport function MessageBubble({ message }: MessageBubbleProps) {\n  const isUser = message.role === 'user';\n  const timestamp = typeof message.timestamp === 'string' \n    ? new Date(message.timestamp) \n    : message.timestamp;\n\n  return (\n    <div className={`flex ${isUser ? 'justify-end' : 'justify-start'} mb-4`}>\n      <div className={`flex ${isUser ? 'flex-row-reverse' : 'flex-row'} items-start gap-3 max-w-[80%]`}>\n        {/* Avatar */}\n        <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold ${\n          isUser ? 'bg-blue-600' : 'bg-gradient-to-br from-purple-600 to-pink-600'\n        }`}>\n          {isUser ? 'üë§' : 'ü§ñ'}\n        </div>\n\n        {/* Message Content */}\n        <div className=\"flex flex-col gap-2\">\n          {/* Message Bubble */}\n          <div className={`rounded-2xl px-4 py-3 ${\n            isUser \n              ? 'bg-blue-600 text-white' \n              : 'bg-gray-100 text-gray-900 border border-gray-200'\n          }`}>\n            <p className=\"text-sm leading-relaxed whitespace-pre-wrap\">{message.content}</p>\n          </div>\n\n          {/* Function Calls */}\n          {message.functionCalls && message.functionCalls.length > 0 && (\n            <div className=\"space-y-2\">\n              {message.functionCalls.map((func, index) => (\n                <FunctionCallDisplay key={index} functionCall={func} />\n              ))}\n            </div>\n          )}\n\n          {/* Timestamp */}\n          <span className={`text-xs text-gray-500 ${isUser ? 'text-right' : 'text-left'}`}>\n            {timestamp.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true })}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction FunctionCallDisplay({ functionCall }: { functionCall: FunctionCall }) {\n  const statusIcons = {\n    pending: '‚è≥',\n    success: '‚úÖ',\n    error: '‚ùå',\n  };\n\n  const statusColors = {\n    pending: 'bg-yellow-50 border-yellow-200 text-yellow-800',\n    success: 'bg-green-50 border-green-200 text-green-800',\n    error: 'bg-red-50 border-red-200 text-red-800',\n  };\n\n  return (\n    <div className={`rounded-lg border p-3 text-xs ${statusColors[functionCall.status]}`}>\n      <div className=\"flex items-center gap-2 mb-1\">\n        <span>{statusIcons[functionCall.status]}</span>\n        <span className=\"font-semibold\">Function: {functionCall.name}()</span>\n      </div>\n      \n      {functionCall.result && (\n        <div className=\"mt-2 font-mono text-xs opacity-80\">\n          <pre className=\"whitespace-pre-wrap\">\n            {typeof functionCall.result === 'string' \n              ? functionCall.result \n              : JSON.stringify(functionCall.result, null, 2)\n            }\n          </pre>\n        </div>\n      )}\n    </div>\n  );\n}\n","'use client';\n\nimport React from 'react';\n\nexport function TypingIndicator() {\n  return (\n    <div className=\"flex justify-start mb-4\">\n      <div className=\"flex items-start gap-3 max-w-[80%]\">\n        {/* AI Avatar */}\n        <div className=\"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold bg-gradient-to-br from-purple-600 to-pink-600\">\n          ü§ñ\n        </div>\n\n        {/* Typing Animation */}\n        <div className=\"bg-gray-100 border border-gray-200 rounded-2xl px-4 py-3\">\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0ms' }} />\n            <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '150ms' }} />\n            <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '300ms' }} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","'use client'\n\n// ==========================================\n// RISIVO CRM - Dynamic Favicon Component\n// ==========================================\n// Updates the browser tab favicon based on sub-account theme\n// Supports PNG, SVG, and ICO formats\n// Uses safe DOM manipulation to avoid React reconciliation errors\n\nimport { useEffect, useRef } from 'react'\n\n// Unique ID for our managed favicon link\nconst FAVICON_ID = 'risivo-dynamic-favicon'\n\ninterface DynamicFaviconProps {\n  faviconUrl?: string | null\n  fallbackUrl?: string\n}\n\n/**\n * Safely update or create favicon link in head\n * This function is safe to call during navigation\n */\nfunction updateFaviconLink(iconUrl: string) {\n  if (typeof window === 'undefined') return\n  \n  // Determine the mime type based on the URL\n  const getMimeType = (url: string): string => {\n    if (url.startsWith('data:')) {\n      const match = url.match(/^data:([^;]+);/)\n      return match ? match[1] : 'image/png'\n    }\n    if (url.endsWith('.svg')) return 'image/svg+xml'\n    if (url.endsWith('.ico')) return 'image/x-icon'\n    return 'image/png'\n  }\n  \n  const mimeType = getMimeType(iconUrl)\n  \n  // For data URLs, use directly; for regular URLs, add cache buster\n  const finalUrl = iconUrl.startsWith('data:') \n    ? iconUrl \n    : `${iconUrl}?v=${Date.now()}`\n  \n  // Try to find our existing managed link\n  let existingLink = document.getElementById(FAVICON_ID) as HTMLLinkElement | null\n  \n  if (existingLink) {\n    // Update existing link - this is safe during navigation\n    existingLink.href = finalUrl\n    existingLink.type = mimeType\n  } else {\n    // Create new favicon link with ID for future updates\n    const link = document.createElement('link')\n    link.id = FAVICON_ID\n    link.rel = 'icon'\n    link.type = mimeType\n    link.href = finalUrl\n    document.head.appendChild(link)\n  }\n}\n\n/**\n * DynamicFavicon Component\n * \n * Dynamically updates the browser's favicon based on the sub-account theme.\n * This enables true white-label branding where each sub-account can have\n * their own browser tab icon.\n * \n * IMPORTANT: Uses safe DOM manipulation to avoid React reconciliation errors\n * during client-side navigation. Instead of removing and recreating links,\n * we update existing links in place using a unique ID.\n * \n * Usage:\n * <DynamicFavicon faviconUrl={theme.faviconUrl} />\n */\nexport function DynamicFavicon({ \n  faviconUrl, \n  fallbackUrl = '/favicon.ico' \n}: DynamicFaviconProps) {\n  \n  const previousUrl = useRef<string | null>(null)\n  \n  useEffect(() => {\n    const iconUrl = faviconUrl || fallbackUrl\n    \n    // Skip if URL hasn't changed\n    if (previousUrl.current === iconUrl) return\n    previousUrl.current = iconUrl\n    \n    // Safely update favicon\n    updateFaviconLink(iconUrl)\n    \n  }, [faviconUrl, fallbackUrl])\n  \n  // This component doesn't render anything visible\n  return null\n}\n\n/**\n * Hook for programmatically updating favicon with cache busting\n * Useful when you need to update favicon outside of component lifecycle\n */\nexport function useDynamicFavicon() {\n  const setFavicon = (url: string) => {\n    updateFaviconLink(url)\n  }\n  \n  const resetFavicon = (defaultUrl = '/favicon.ico') => {\n    updateFaviconLink(defaultUrl)\n  }\n  \n  return { setFavicon, resetFavicon }\n}\n\nexport default DynamicFavicon\n","'use client'\n\n// ==========================================\n// RISIVO CRM - Theme Initializer Component\n// Prevents Flash of Unstyled Content (FOUC)\n// by applying cached theme before paint\n// ==========================================\n\nimport { useLayoutEffect, useEffect } from 'react'\n\n/**\n * Apply cached theme from localStorage BEFORE the browser paints.\n * This runs synchronously in useLayoutEffect to prevent FOUC.\n */\nexport function ThemeScript({ subAccountId }: { subAccountId: string }) {\n  // useLayoutEffect runs synchronously BEFORE the browser paints\n  // This prevents the flash of default theme\n  useLayoutEffect(() => {\n    try {\n      const CACHE_TTL = 3600000 // 1 hour\n      const cacheKey = `risivo_theme_${subAccountId}`\n      const timestampKey = `${cacheKey}_timestamp`\n      const cached = localStorage.getItem(cacheKey)\n      const timestamp = localStorage.getItem(timestampKey)\n      \n      // Check if cache is valid\n      if (cached && timestamp && (Date.now() - parseInt(timestamp)) < CACHE_TTL) {\n        const theme = JSON.parse(cached)\n        const root = document.documentElement\n        \n        // Apply ALL CSS variables immediately\n        // Sidebar colors (most visible)\n        if (theme.sidebarBg) root.style.setProperty('--theme-sidebar-bg', theme.sidebarBg)\n        if (theme.sidebarText) root.style.setProperty('--theme-sidebar-text', theme.sidebarText)\n        if (theme.sidebarHover) root.style.setProperty('--theme-sidebar-hover', theme.sidebarHover)\n        if (theme.sidebarActive) root.style.setProperty('--theme-sidebar-active', theme.sidebarActive)\n        if (theme.sidebarActiveForeground) root.style.setProperty('--theme-sidebar-active-foreground', theme.sidebarActiveForeground)\n        if (theme.sidebarTextMuted) root.style.setProperty('--theme-sidebar-text-muted', theme.sidebarTextMuted)\n        \n        // Primary colors\n        if (theme.primaryColor) root.style.setProperty('--theme-primary', theme.primaryColor)\n        if (theme.primaryHover) root.style.setProperty('--theme-primary-hover', theme.primaryHover)\n        if (theme.primaryForeground) root.style.setProperty('--theme-primary-foreground', theme.primaryForeground)\n        if (theme.primaryAccent) root.style.setProperty('--theme-primary-accent', theme.primaryAccent)\n        \n        // Secondary colors\n        if (theme.secondaryColor) root.style.setProperty('--theme-secondary', theme.secondaryColor)\n        if (theme.secondaryHover) root.style.setProperty('--theme-secondary-hover', theme.secondaryHover)\n        if (theme.secondaryForeground) root.style.setProperty('--theme-secondary-foreground', theme.secondaryForeground)\n        \n        // Button colors\n        if (theme.buttonPrimaryBg) root.style.setProperty('--theme-button-primary-bg', theme.buttonPrimaryBg)\n        if (theme.buttonPrimaryText) root.style.setProperty('--theme-button-primary-text', theme.buttonPrimaryText)\n        if (theme.buttonSecondaryBg) root.style.setProperty('--theme-button-secondary-bg', theme.buttonSecondaryBg)\n        if (theme.buttonSecondaryText) root.style.setProperty('--theme-button-secondary-text', theme.buttonSecondaryText)\n        \n        // Background colors\n        if (theme.backgroundColor) root.style.setProperty('--theme-background', theme.backgroundColor)\n        if (theme.surfaceColor) root.style.setProperty('--theme-surface', theme.surfaceColor)\n        if (theme.surfaceHover) root.style.setProperty('--theme-surface-hover', theme.surfaceHover)\n        \n        // Text colors\n        if (theme.textPrimary) root.style.setProperty('--theme-text-primary', theme.textPrimary)\n        if (theme.textSecondary) root.style.setProperty('--theme-text-secondary', theme.textSecondary)\n        if (theme.textMuted) root.style.setProperty('--theme-text-muted', theme.textMuted)\n        \n        // Border colors\n        if (theme.borderColor) root.style.setProperty('--theme-border', theme.borderColor)\n        if (theme.borderHover) root.style.setProperty('--theme-border-hover', theme.borderHover)\n        \n        // Header\n        if (theme.headerBg) root.style.setProperty('--theme-header-bg', theme.headerBg)\n        if (theme.headerText) root.style.setProperty('--theme-header-text', theme.headerText)\n        if (theme.headerBorder) root.style.setProperty('--theme-header-border', theme.headerBorder)\n        \n        // Input\n        if (theme.inputBg) root.style.setProperty('--theme-input-bg', theme.inputBg)\n        if (theme.inputBorder) root.style.setProperty('--theme-input-border', theme.inputBorder)\n        if (theme.inputFocus) root.style.setProperty('--theme-input-focus', theme.inputFocus)\n        if (theme.inputText) root.style.setProperty('--theme-input-text', theme.inputText)\n        if (theme.inputPlaceholder) root.style.setProperty('--theme-input-placeholder', theme.inputPlaceholder)\n        \n        // Modal\n        if (theme.modalBg) root.style.setProperty('--theme-modal-bg', theme.modalBg)\n        if (theme.overlayBg) root.style.setProperty('--theme-overlay-bg', theme.overlayBg)\n        \n        // Shadow\n        if (theme.shadowColor) root.style.setProperty('--theme-shadow', theme.shadowColor)\n        \n        // Status colors\n        if (theme.successColor) root.style.setProperty('--theme-success', theme.successColor)\n        if (theme.warningColor) root.style.setProperty('--theme-warning', theme.warningColor)\n        if (theme.errorColor) root.style.setProperty('--theme-error', theme.errorColor)\n        if (theme.infoColor) root.style.setProperty('--theme-info', theme.infoColor)\n        \n        console.log('[Theme] Applied cached theme for', subAccountId)\n      }\n    } catch (e) {\n      console.warn('[Theme] Failed to apply cached theme:', e)\n    }\n  }, [subAccountId])\n\n  return null\n}\n\n/**\n * Cache the theme to localStorage after it loads from the API.\n * This enables instant theme loading on subsequent visits.\n */\nexport function useThemeCache(subAccountId: string, theme: any, isLoading: boolean) {\n  useEffect(() => {\n    if (!isLoading && theme && theme.subAccountId !== 'default') {\n      try {\n        localStorage.setItem(`risivo_theme_${subAccountId}`, JSON.stringify(theme))\n        localStorage.setItem(`risivo_theme_${subAccountId}_timestamp`, Date.now().toString())\n        console.log('[Theme] Cached theme for', subAccountId)\n      } catch (e) {\n        console.warn('[Theme] Failed to cache theme:', e)\n      }\n    }\n  }, [theme, isLoading, subAccountId])\n}\n"],"names":[],"mappings":"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"}