module.exports=[54940,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246);let e=[{id:"conversations",label:"Conversations",href:"/sub-account/conversations"},{id:"power-dialer",label:"Power Dialer",href:"/sub-account/conversations/power-dialer"},{id:"manual-actions",label:"Manual Actions",href:"/sub-account/conversations/manual-actions"},{id:"message-templates",label:"Message Templates",href:"/sub-account/conversations/message-templates"},{id:"smart-links",label:"Smart Links",href:"/sub-account/conversations/smart-links"}];function f(){let[a,f]=(0,c.useState)("dashboard"),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),v="b0000000-0000-0000-0000-000000000001";(0,c.useEffect)(()=>{w()},[]);let w=async()=>{q(!0);try{let a=await fetch(`/api/v1/dialer/stats?subAccountId=${v}&type=dashboard`),b=await a.json();b.success&&o(b.data);let c=await fetch(`/api/v1/dialer/campaigns?subAccountId=${v}`),d=await c.json();d.success&&m(d.data)}catch(a){console.error("Error fetching dashboard data:",a)}finally{q(!1)}};return(0,b.jsxs)("div",{className:"h-[calc(100vh-8rem)] flex flex-col",children:[(0,b.jsxs)("div",{className:"flex-none bg-white border-b border-gray-200 px-6 py-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Conversations"})}),(0,b.jsx)("div",{className:"flex items-center gap-6 border-b border-gray-200 -mb-4",children:e.map(a=>(0,b.jsx)(d.default,{href:a.href,className:`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${"power-dialer"===a.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:a.label},a.id))})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-gray-50 p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:"ðŸ“ž Power Dialer"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Manage outbound calling campaigns and track performance"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(d.default,{href:"/sub-account/power-dialer/settings",className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:"âš™ï¸ Settings"}),(0,b.jsx)("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:"âž• New Campaign"})]})]}),(0,b.jsx)("div",{className:"flex gap-1 mb-6 bg-gray-100 p-1 rounded-lg w-fit",children:[{id:"dashboard",label:"Dashboard",icon:"ðŸ“Š"},{id:"campaigns",label:"Campaigns",icon:"ðŸ“¢"},{id:"active",label:"Active Dialer",icon:"ðŸŽ§"}].map(c=>(0,b.jsxs)("button",{onClick:()=>f(c.id),className:`px-4 py-2 rounded-md flex items-center gap-2 transition-colors ${a===c.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[c.icon," ",c.label]},c.id))}),p?(0,b.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,b.jsxs)(b.Fragment,{children:["dashboard"===a&&(0,b.jsx)(g,{stats:n,campaigns:l}),"campaigns"===a&&(0,b.jsx)(h,{campaigns:l,onSelectCampaign:u,getStatusColor:a=>{let b={draft:"bg-gray-100 text-gray-700",active:"bg-green-100 text-green-700",paused:"bg-yellow-100 text-yellow-700",completed:"bg-blue-100 text-blue-700",archived:"bg-gray-100 text-gray-500"};return b[a]||b.draft},formatDuration:a=>{let b=Math.floor(a/3600),c=Math.floor(a%3600/60),d=a%60;return b>0?`${b}h ${c}m`:c>0?`${c}m ${d}s`:`${d}s`},onRefresh:w,subAccountId:v}),"active"===a&&(0,b.jsx)(i,{campaigns:l.filter(a=>"active"===a.status),subAccountId:v})]}),r&&(0,b.jsx)(j,{onClose:()=>s(!1),onCreated:()=>{s(!1),w()},subAccountId:v}),t&&(0,b.jsx)(k,{campaign:t,onClose:()=>u(null),onUpdated:w,subAccountId:v})]})]})}function g({stats:a,campaigns:c}){if(!a)return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[{label:"Today's Calls",value:"0",icon:"ðŸ“ž",subtext:"0 answered"},{label:"Connect Rate",value:"0%",icon:"ðŸ“Š",subtext:"0/0 connected"},{label:"Avg Call Duration",value:"0s",icon:"â±ï¸",subtext:"0s total"},{label:"Active Campaigns",value:"0",icon:"ðŸ“¢",subtext:"0 contacts queued"},{label:"Active Agents",value:"0",icon:"ðŸŽ§",subtext:"0 calls in progress"},{label:"Voicemails",value:"0",icon:"ðŸ“­",subtext:"Dropped today"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[(0,b.jsx)("div",{className:"text-2xl mb-2",children:a.icon}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.value}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.label}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:a.subtext})]},c))}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)(d.default,{href:"/sub-account/power-dialer/dialer",className:"p-4 border rounded-lg hover:bg-blue-50 hover:border-blue-200 transition-colors text-center",children:[(0,b.jsx)("div",{className:"text-2xl text-blue-600 mb-2",children:"ðŸŽ§"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:"Start Dialing"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Launch active dialer"})]}),(0,b.jsxs)(d.default,{href:"/sub-account/power-dialer/scripts",className:"p-4 border rounded-lg hover:bg-green-50 hover:border-green-200 transition-colors text-center",children:[(0,b.jsx)("div",{className:"text-2xl text-green-600 mb-2",children:"ðŸ“œ"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:"Call Scripts"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Manage scripts"})]}),(0,b.jsxs)(d.default,{href:"/sub-account/power-dialer/analytics",className:"p-4 border rounded-lg hover:bg-purple-50 hover:border-purple-200 transition-colors text-center",children:[(0,b.jsx)("div",{className:"text-2xl text-purple-600 mb-2",children:"ðŸ“ˆ"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:"Analytics"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"View reports"})]}),(0,b.jsxs)(d.default,{href:"/sub-account/power-dialer/settings",className:"p-4 border rounded-lg hover:bg-orange-50 hover:border-orange-200 transition-colors text-center",children:[(0,b.jsx)("div",{className:"text-2xl text-orange-600 mb-2",children:"âš™ï¸"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:"Settings"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Configure dialer"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Recent Campaigns"}),(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)("div",{className:"text-3xl mb-2 opacity-50",children:"ðŸ“¢"}),(0,b.jsx)("p",{children:"No campaigns yet"}),(0,b.jsx)("p",{className:"text-sm",children:"Create your first campaign to get started"})]})]})]});let e=[{label:"Today's Calls",value:a.today.totalCalls,icon:"ðŸ“ž",subtext:`${a.today.answeredCalls} answered`},{label:"Connect Rate",value:`${a.today.connectRate}%`,icon:"ðŸ“Š",subtext:`${a.today.answeredCalls}/${a.today.totalCalls} connected`},{label:"Avg Call Duration",value:f(a.today.avgCallDuration),icon:"â±ï¸",subtext:`${f(a.today.totalTalkTime)} total`},{label:"Active Campaigns",value:a.activeCampaigns,icon:"ðŸ“¢",subtext:`${a.queuedContacts} contacts queued`},{label:"Active Agents",value:a.activeAgents,icon:"ðŸŽ§",subtext:`${a.callsInProgress} calls in progress`},{label:"Voicemails",value:a.today.voicemails,icon:"ðŸ“­",subtext:"Dropped today"}];function f(a){let b=Math.floor(a/60),c=a%60;return b>0?`${b}m ${c}s`:`${c}s`}return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:e.map((a,c)=>(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[(0,b.jsx)("div",{className:"text-2xl mb-2",children:a.icon}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.value}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.label}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:a.subtext})]},c))}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)(d.default,{href:"/sub-account/power-dialer/dialer",className:"p-4 border rounded-lg hover:bg-blue-50 hover:border-blue-200 transition-colors text-center",children:[(0,b.jsx)("div",{className:"text-2xl text-blue-600 mb-2",children:"ðŸŽ§"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:"Start Dialing"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Launch active dialer"})]}),(0,b.jsxs)(d.default,{href:"/sub-account/power-dialer/scripts",className:"p-4 border rounded-lg hover:bg-green-50 hover:border-green-200 transition-colors text-center",children:[(0,b.jsx)("div",{className:"text-2xl text-green-600 mb-2",children:"ðŸ“œ"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:"Call Scripts"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Manage scripts"})]}),(0,b.jsxs)(d.default,{href:"/sub-account/power-dialer/analytics",className:"p-4 border rounded-lg hover:bg-purple-50 hover:border-purple-200 transition-colors text-center",children:[(0,b.jsx)("div",{className:"text-2xl text-purple-600 mb-2",children:"ðŸ“ˆ"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:"Analytics"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"View reports"})]}),(0,b.jsxs)(d.default,{href:"/sub-account/power-dialer/settings",className:"p-4 border rounded-lg hover:bg-orange-50 hover:border-orange-200 transition-colors text-center",children:[(0,b.jsx)("div",{className:"text-2xl text-orange-600 mb-2",children:"âš™ï¸"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:"Settings"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Configure dialer"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,b.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:"Recent Campaigns"})}),(0,b.jsxs)("div",{className:"space-y-3",children:[c.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${"active"===a.status?"bg-green-500 animate-pulse":"paused"===a.status?"bg-yellow-500":"bg-gray-400"}`}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[a.contactsRemaining," contacts remaining"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[a.answeredCalls,"/",a.totalCalls]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.totalCalls>0?`${Math.round(a.answeredCalls/a.totalCalls*100)}% connect`:"0% connect"})]})]},a.id)),0===c.length&&(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)("div",{className:"text-3xl mb-2 opacity-50",children:"ðŸ“¢"}),(0,b.jsx)("p",{children:"No campaigns yet"}),(0,b.jsx)("p",{className:"text-sm",children:"Create your first campaign to get started"})]})]})]})]})}function h({campaigns:a,onSelectCampaign:e,getStatusColor:f,formatDuration:g,onRefresh:h,subAccountId:i}){let[j,k]=(0,c.useState)("all"),[l,m]=(0,c.useState)(""),n=a.filter(a=>{let b="all"===j||a.status===j,c=a.name.toLowerCase().includes(l.toLowerCase());return b&&c}),o=async(a,b)=>{try{(await fetch("/api/v1/dialer/campaigns",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,subAccountId:i,status:b})})).ok&&h()}catch(a){console.error("Error updating campaign:",a)}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,b.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:l,onChange:a=>m(a.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"px-4 py-2 border rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"paused",children:"Paused"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"archived",children:"Archived"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Campaign"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Status"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Progress"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Performance"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y",children:n.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsxs)("button",{onClick:()=>e(a),className:"text-left",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 hover:text-blue-600",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a.type," â€¢ ",a.dialerMode||"preview"," mode"]})]})}),(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsxs)("div",{className:"w-32",children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,b.jsx)("span",{children:a.contactsDialed}),(0,b.jsx)("span",{children:a.totalContacts})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-600 rounded-full h-2",style:{width:`${a.totalContacts>0?a.contactsDialed/a.totalContacts*100:0}%`}})})]})}),(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsxs)("p",{className:"text-gray-900",children:[a.answeredCalls,"/",a.totalCalls," answered"]}),(0,b.jsxs)("p",{className:"text-gray-500",children:["Avg: ",g(a.avgCallDuration)]})]})}),(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsxs)("div",{className:"flex gap-2",children:["active"===a.status&&(0,b.jsx)("button",{onClick:()=>o(a.id,"paused"),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg",title:"Pause",children:"â¸ï¸"}),"paused"===a.status&&(0,b.jsx)("button",{onClick:()=>o(a.id,"active"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Resume",children:"â–¶ï¸"}),"draft"===a.status&&(0,b.jsx)("button",{onClick:()=>o(a.id,"active"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Start",children:"â–¶ï¸"}),(0,b.jsx)("button",{onClick:()=>e(a),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"View Details",children:"ðŸ‘ï¸"}),(0,b.jsx)(d.default,{href:`/sub-account/power-dialer/dialer?campaign=${a.id}`,className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg",title:"Open Dialer",children:"ðŸŽ§"})]})})]},a.id))})]}),0===n.length&&(0,b.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,b.jsx)("div",{className:"text-4xl mb-3 opacity-50",children:"ðŸ“¢"}),(0,b.jsx)("p",{className:"font-medium",children:"No campaigns found"}),(0,b.jsx)("p",{className:"text-sm",children:"Try adjusting your filters or create a new campaign"})]})]})]})}function i({campaigns:a,subAccountId:e}){let[f,g]=(0,c.useState)(a[0]?.id||null);return(0,b.jsx)("div",{className:"space-y-4",children:0===a.length?(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-12 text-center",children:[(0,b.jsx)("div",{className:"text-5xl text-gray-300 mb-4",children:"ðŸŽ§"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Campaigns"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"You need at least one active campaign to start dialing."}),(0,b.jsx)("button",{onClick:()=>{},className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"ðŸ“¢ Go to Campaigns"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Campaign to Dial"}),(0,b.jsx)("select",{value:f||"",onChange:a=>g(a.target.value),className:"w-full md:w-auto px-4 py-2 border rounded-lg bg-white",children:a.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," (",a.contactsRemaining," remaining)"]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl shadow-sm p-8 text-center text-white",children:[(0,b.jsx)("div",{className:"text-5xl mb-4",children:"ðŸŽ§"}),(0,b.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Ready to Dial"}),(0,b.jsxs)("p",{className:"text-blue-100 mb-6",children:[a.find(a=>a.id===f)?.contactsRemaining||0," contacts waiting in queue"]}),(0,b.jsx)(d.default,{href:`/sub-account/power-dialer/dialer?campaign=${f}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-blue-600 rounded-lg font-medium hover:bg-blue-50 transition-colors",children:"ðŸ“ž Launch Dialer"})]})]})})}function j({onClose:a,onCreated:d,subAccountId:e}){let[f,g]=(0,c.useState)({name:"",description:"",type:"outbound",dialerMode:"preview",priority:5}),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(""),l=async a=>{if(a.preventDefault(),!f.name.trim())return void k("Campaign name is required");i(!0),k("");try{let a=await fetch("/api/v1/dialer/campaigns",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subAccountId:e,...f})}),b=await a.json();b.success?d():k(b.error||"Failed to create campaign")}catch(a){k("Network error")}finally{i(!1)}};return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:a}),(0,b.jsx)("div",{className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"New Campaign"}),(0,b.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),j&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:j}),(0,b.jsxs)("form",{onSubmit:l,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Name *"}),(0,b.jsx)("input",{type:"text",value:f.name,onChange:a=>g({...f,name:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Q4 Sales Outreach"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{value:f.description,onChange:a=>g({...f,description:a.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Campaign description..."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Type"}),(0,b.jsxs)("select",{value:f.type,onChange:a=>g({...f,type:a.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"outbound",children:"Outbound"}),(0,b.jsx)("option",{value:"callback",children:"Callback"}),(0,b.jsx)("option",{value:"follow_up",children:"Follow Up"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dialer Mode"}),(0,b.jsxs)("select",{value:f.dialerMode,onChange:a=>g({...f,dialerMode:a.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-white",children:[(0,b.jsx)("option",{value:"preview",children:"Preview"}),(0,b.jsx)("option",{value:"progressive",children:"Progressive"}),(0,b.jsx)("option",{value:"predictive",children:"Predictive"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (1-10)"}),(0,b.jsx)("input",{type:"range",min:"1",max:"10",value:f.priority,onChange:a=>g({...f,priority:parseInt(a.target.value)}),className:"w-full"}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,b.jsx)("span",{children:"Low"}),(0,b.jsx)("span",{children:f.priority}),(0,b.jsx)("span",{children:"High"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:h,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating..."]}):(0,b.jsx)(b.Fragment,{children:"âž• Create Campaign"})})]})]})]})})]})}function k({campaign:a,onClose:e,onUpdated:f,subAccountId:g}){let[h,i]=(0,c.useState)("overview"),j=a.totalCalls>0?Math.round(a.answeredCalls/a.totalCalls*100):0;return(0,b.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/30",onClick:e}),(0,b.jsxs)("div",{className:"absolute right-0 top-0 bottom-0 w-full max-w-2xl bg-white shadow-2xl overflow-y-auto",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-white border-b p-4 flex justify-between items-center z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a.type," campaign"]})]}),(0,b.jsx)("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsx)("div",{className:"border-b px-4",children:(0,b.jsx)("div",{className:"flex gap-6",children:[{id:"overview",label:"Overview"},{id:"contacts",label:"Contacts"},{id:"stats",label:"Statistics"}].map(a=>(0,b.jsx)("button",{onClick:()=>i(a.id),className:`py-3 border-b-2 transition-colors ${h===a.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:a.label},a.id))})}),(0,b.jsxs)("div",{className:"p-6",children:["overview"===h&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${"active"===a.status?"bg-green-100 text-green-700":"paused"===a.status?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:a.status.toUpperCase()}),(0,b.jsx)(d.default,{href:`/sub-account/power-dialer/dialer?campaign=${a.id}`,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:"ðŸŽ§ Open Dialer"})]}),a.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Description"}),(0,b.jsx)("p",{className:"text-gray-700",children:a.description})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Progress"}),(0,b.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Contacts Dialed"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.contactsDialed," / ",a.totalContacts]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,b.jsx)("div",{className:"bg-blue-600 rounded-full h-3",style:{width:`${a.totalContacts>0?a.contactsDialed/a.totalContacts*100:0}%`}})}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[a.contactsRemaining," contacts remaining"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Key Metrics"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.totalCalls}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Calls"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[j,"%"]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Connect Rate"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.answeredCalls}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Answered"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.voicemails}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Voicemails"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Settings"}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Dialer Mode"}),(0,b.jsx)("span",{className:"font-medium capitalize",children:a.dialerMode||"preview"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Priority"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.priority,"/10"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Type"}),(0,b.jsx)("span",{className:"font-medium capitalize",children:a.type})]})]})]})]}),"contacts"===h&&(0,b.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,b.jsx)("div",{className:"text-4xl mb-3 opacity-50",children:"ðŸ‘¥"}),(0,b.jsx)("p",{children:"Contact list management"}),(0,b.jsx)("p",{className:"text-sm",children:"Coming soon - import and manage contacts"})]}),"stats"===h&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Call Breakdown"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(l,{label:"Answered",value:a.answeredCalls,total:a.totalCalls,color:"green"}),(0,b.jsx)(l,{label:"Voicemails",value:a.voicemails,total:a.totalCalls,color:"blue"}),(0,b.jsx)(l,{label:"No Answer",value:a.noAnswers,total:a.totalCalls,color:"yellow"}),(0,b.jsx)(l,{label:"Busy",value:a.busySignals,total:a.totalCalls,color:"orange"}),(0,b.jsx)(l,{label:"Failed",value:a.failedCalls,total:a.totalCalls,color:"red"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Time Statistics"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-xl font-bold text-gray-900",children:m(a.avgCallDuration)}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Avg Call Duration"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-xl font-bold text-gray-900",children:m(a.totalTalkTime)}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Talk Time"})]})]})]})]})]})]})]})}function l({label:a,value:c,total:d,color:e}){let f=d>0?c/d*100:0;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"text-gray-600",children:a}),(0,b.jsxs)("span",{className:"font-medium",children:[c," (",f.toFixed(1),"%)"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:`${{green:"bg-green-500",blue:"bg-blue-500",yellow:"bg-yellow-500",orange:"bg-orange-500",red:"bg-red-500"}[e]||"bg-gray-500"} rounded-full h-2`,style:{width:`${f}%`}})})]})}function m(a){let b=Math.floor(a/3600),c=Math.floor(a%3600/60),d=a%60;return b>0?`${b}h ${c}m`:c>0?`${c}m ${d}s`:`${d}s`}a.s(["default",()=>f])}];

//# sourceMappingURL=app_sub-account_conversations_power-dialer_page_tsx_f3e15226._.js.map