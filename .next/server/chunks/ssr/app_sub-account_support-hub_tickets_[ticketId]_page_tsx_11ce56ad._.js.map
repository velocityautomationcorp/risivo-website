{"version":3,"sources":["../../../../app/sub-account/support-hub/tickets/%5BticketId%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport Link from 'next/link'\nimport { useParams } from 'next/navigation'\n\n// ==========================================\n// TYPES\n// ==========================================\n\ninterface Ticket {\n  id: string\n  number: string\n  subject: string\n  description: string\n  customerName: string\n  customerEmail: string\n  customerPhone?: string\n  customerAvatar?: string\n  category: string\n  priority: 'low' | 'medium' | 'high' | 'urgent' | 'critical'\n  status: 'new' | 'open' | 'pending_customer' | 'pending_internal' | 'on_hold' | 'resolved' | 'closed'\n  source: string\n  assignedTo?: string\n  assignedName?: string\n  assignedAvatar?: string\n  aiConfidence?: number\n  aiSuggestedResponse?: string\n  aiAnalysis?: AIAnalysis\n  tags: string[]\n  slaDeadline?: string\n  slaBreach: boolean\n  createdAt: string\n  updatedAt: string\n  lastActivityAt: string\n  resolvedAt?: string\n}\n\ninterface AIAnalysis {\n  sentiment: 'positive' | 'neutral' | 'negative' | 'frustrated' | 'angry'\n  sentimentScore: number\n  primaryIntent: string\n  urgencyLevel: number\n  suggestedCategory: string\n  relatedArticles: { id: string; title: string; relevance: number }[]\n}\n\ninterface Message {\n  id: string\n  type: 'customer' | 'agent' | 'ai' | 'system' | 'internal_note'\n  senderName: string\n  senderEmail?: string\n  senderAvatar?: string\n  content: string\n  isAIGenerated: boolean\n  aiConfidence?: number\n  attachments: { name: string; url: string; size: number }[]\n  createdAt: string\n}\n\ninterface CustomerContext {\n  totalTickets: number\n  openTickets: number\n  avgSatisfactionRating: number\n  tier: string\n  lifetimeValue: number\n  lastLoginAt?: string\n  churnRisk: 'low' | 'medium' | 'high'\n}\n\n// ==========================================\n// MOCK DATA\n// ==========================================\n\nconst mockTicket: Ticket = {\n  id: 'ticket-001',\n  number: 'TKT-001234',\n  subject: 'Cannot access my dashboard after login',\n  description: 'I\\'ve been trying to access my dashboard but after logging in I get redirected to a blank page. I\\'ve tried clearing my cache and using a different browser but the issue persists. This is urgent as I need to send out an important campaign today.',\n  customerName: 'John Smith',\n  customerEmail: 'john@example.com',\n  customerPhone: '+1 (555) 123-4567',\n  category: 'technical',\n  priority: 'high',\n  status: 'open',\n  source: 'email',\n  assignedTo: 'agent-001',\n  assignedName: 'Alex Support',\n  aiConfidence: 0.92,\n  aiSuggestedResponse: 'Hi John,\\n\\nThank you for reaching out. I understand how frustrating this must be, especially with an important campaign to send.\\n\\nBased on the symptoms you\\'ve described, this appears to be a session caching issue. Here are the steps that should resolve this:\\n\\n1. Clear your browser\\'s cache and cookies completely\\n2. Log out of all Risivo sessions\\n3. Close your browser and reopen it\\n4. Try logging in using an incognito/private window first\\n\\nIf the issue persists after these steps, please let me know your browser version and I\\'ll escalate this to our technical team immediately.\\n\\nBest regards,\\nAlex',\n  aiAnalysis: {\n    sentiment: 'frustrated',\n    sentimentScore: -0.6,\n    primaryIntent: 'troubleshooting',\n    urgencyLevel: 8,\n    suggestedCategory: 'technical',\n    relatedArticles: [\n      { id: 'kb-001', title: 'Troubleshooting Login Issues', relevance: 0.95 },\n      { id: 'kb-002', title: 'Clearing Browser Cache Guide', relevance: 0.88 },\n      { id: 'kb-003', title: 'Common Dashboard Problems', relevance: 0.72 }\n    ]\n  },\n  tags: ['login', 'dashboard', 'access', 'urgent'],\n  slaDeadline: new Date(Date.now() + 3600000).toISOString(),\n  slaBreach: false,\n  createdAt: new Date(Date.now() - 7200000).toISOString(),\n  updatedAt: new Date(Date.now() - 1800000).toISOString(),\n  lastActivityAt: new Date(Date.now() - 1800000).toISOString()\n}\n\nconst mockMessages: Message[] = [\n  {\n    id: 'msg-001',\n    type: 'customer',\n    senderName: 'John Smith',\n    senderEmail: 'john@example.com',\n    content: 'I\\'ve been trying to access my dashboard but after logging in I get redirected to a blank page. I\\'ve tried clearing my cache and using a different browser but the issue persists. This is urgent as I need to send out an important campaign today.',\n    isAIGenerated: false,\n    attachments: [],\n    createdAt: new Date(Date.now() - 7200000).toISOString()\n  },\n  {\n    id: 'msg-002',\n    type: 'system',\n    senderName: 'System',\n    content: 'Ticket created and assigned to Alex Support. AI analysis complete - detected as technical issue with high urgency.',\n    isAIGenerated: false,\n    attachments: [],\n    createdAt: new Date(Date.now() - 7190000).toISOString()\n  },\n  {\n    id: 'msg-003',\n    type: 'internal_note',\n    senderName: 'AI Assistant',\n    content: 'Customer sentiment: Frustrated (score: -0.6). Urgency level: 8/10. Recommended approach: Acknowledge urgency, provide immediate troubleshooting steps, offer escalation path.',\n    isAIGenerated: true,\n    aiConfidence: 0.92,\n    attachments: [],\n    createdAt: new Date(Date.now() - 7180000).toISOString()\n  },\n  {\n    id: 'msg-004',\n    type: 'agent',\n    senderName: 'Alex Support',\n    content: 'Hi John,\\n\\nThank you for reaching out, and I apologize for the inconvenience this is causing, especially with your campaign deadline.\\n\\nI\\'ve looked into your account and I can see there was a session sync issue. I\\'ve cleared your server-side sessions which should help.\\n\\nCould you please try the following:\\n1. Clear your browser cache and cookies\\n2. Log out and close all browser windows\\n3. Open a new incognito/private window\\n4. Try logging in again\\n\\nPlease let me know if this resolves the issue. If not, I\\'ll escalate immediately to our technical team.\\n\\nBest regards,\\nAlex',\n    isAIGenerated: false,\n    attachments: [],\n    createdAt: new Date(Date.now() - 3600000).toISOString()\n  },\n  {\n    id: 'msg-005',\n    type: 'customer',\n    senderName: 'John Smith',\n    senderEmail: 'john@example.com',\n    content: 'Thanks Alex! The incognito window worked. But I\\'m still having the issue in my regular browser. Is there something specific I need to clear?',\n    isAIGenerated: false,\n    attachments: [],\n    createdAt: new Date(Date.now() - 1800000).toISOString()\n  }\n]\n\nconst mockCustomerContext: CustomerContext = {\n  totalTickets: 12,\n  openTickets: 1,\n  avgSatisfactionRating: 4.5,\n  tier: 'professional',\n  lifetimeValue: 4500,\n  lastLoginAt: new Date(Date.now() - 7200000).toISOString(),\n  churnRisk: 'low'\n}\n\n// ==========================================\n// MAIN COMPONENT\n// ==========================================\n\nexport default function TicketDetailPage() {\n  const params = useParams()\n  const ticketId = params.ticketId as string\n  \n  const [ticket, setTicket] = useState<Ticket>(mockTicket)\n  const [messages, setMessages] = useState<Message[]>(mockMessages)\n  const [customerContext, setCustomerContext] = useState<CustomerContext>(mockCustomerContext)\n  const [replyContent, setReplyContent] = useState('')\n  const [isInternalNote, setIsInternalNote] = useState(false)\n  const [showAISuggestion, setShowAISuggestion] = useState(true)\n  const [isSending, setIsSending] = useState(false)\n  const [activeTab, setActiveTab] = useState<'conversation' | 'details' | 'activity'>('conversation')\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n  \n  // Auto-scroll to bottom of messages\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }, [messages])\n  \n  // Format time\n  const formatTime = (dateString: string) => {\n    const date = new Date(dateString)\n    const now = new Date()\n    const diffMs = now.getTime() - date.getTime()\n    const diffMins = Math.floor(diffMs / 60000)\n    const diffHours = Math.floor(diffMs / 3600000)\n    \n    if (diffMins < 60) return `${diffMins}m ago`\n    if (diffHours < 24) return `${diffHours}h ago`\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' })\n  }\n  \n  // Color helpers\n  const getPriorityColor = (priority: string) => {\n    const colors: Record<string, string> = {\n      low: 'bg-gray-100 text-gray-600 border-gray-200',\n      medium: 'bg-blue-100 text-blue-600 border-blue-200',\n      high: 'bg-orange-100 text-orange-600 border-orange-200',\n      urgent: 'bg-red-100 text-red-600 border-red-200',\n      critical: 'bg-red-200 text-red-700 border-red-300'\n    }\n    return colors[priority] || colors.medium\n  }\n  \n  const getStatusColor = (status: string) => {\n    const colors: Record<string, string> = {\n      new: 'bg-purple-100 text-purple-600',\n      open: 'bg-blue-100 text-blue-600',\n      pending_customer: 'bg-yellow-100 text-yellow-700',\n      pending_internal: 'bg-orange-100 text-orange-600',\n      on_hold: 'bg-gray-100 text-gray-600',\n      resolved: 'bg-green-100 text-green-600',\n      closed: 'bg-gray-200 text-gray-500'\n    }\n    return colors[status] || colors.open\n  }\n  \n  const getSentimentColor = (sentiment: string) => {\n    const colors: Record<string, string> = {\n      positive: 'text-green-600',\n      neutral: 'text-gray-600',\n      negative: 'text-orange-600',\n      frustrated: 'text-orange-600',\n      angry: 'text-red-600'\n    }\n    return colors[sentiment] || colors.neutral\n  }\n  \n  const getMessageBg = (type: string) => {\n    const colors: Record<string, string> = {\n      customer: 'bg-gray-100',\n      agent: 'bg-blue-50',\n      ai: 'bg-purple-50',\n      system: 'bg-gray-50',\n      internal_note: 'bg-yellow-50 border-l-4 border-yellow-400'\n    }\n    return colors[type] || colors.customer\n  }\n  \n  // Use AI suggestion\n  const useAISuggestion = () => {\n    if (ticket.aiSuggestedResponse) {\n      setReplyContent(ticket.aiSuggestedResponse)\n      setShowAISuggestion(false)\n    }\n  }\n  \n  // Send reply\n  const sendReply = async () => {\n    if (!replyContent.trim()) return\n    \n    setIsSending(true)\n    \n    // Simulate API call\n    await new Promise(resolve => setTimeout(resolve, 500))\n    \n    const newMessage: Message = {\n      id: `msg-${Date.now()}`,\n      type: isInternalNote ? 'internal_note' : 'agent',\n      senderName: 'Alex Support',\n      senderEmail: 'alex@risivo.com',\n      content: replyContent,\n      isAIGenerated: false,\n      attachments: [],\n      createdAt: new Date().toISOString()\n    }\n    \n    setMessages([...messages, newMessage])\n    setReplyContent('')\n    setIsSending(false)\n    \n    // Update ticket status if needed\n    if (!isInternalNote && ticket.status === 'new') {\n      setTicket({ ...ticket, status: 'open', lastActivityAt: new Date().toISOString() })\n    }\n  }\n  \n  // Update ticket status\n  const updateStatus = (newStatus: Ticket['status']) => {\n    setTicket({ ...ticket, status: newStatus, updatedAt: new Date().toISOString() })\n  }\n  \n  // Update priority\n  const updatePriority = (newPriority: Ticket['priority']) => {\n    setTicket({ ...ticket, priority: newPriority, updatedAt: new Date().toISOString() })\n  }\n\n  return (\n    <div className=\"flex flex-col h-[calc(100vh-180px)] -mt-2\">\n      {/* Header */}\n      <div className=\"flex-none bg-white border-b border-gray-200 px-4 py-3\">\n        <div className=\"flex items-start justify-between gap-4\">\n          <div className=\"flex items-start gap-3\">\n            <Link \n              href=\"/sub-account/support-hub/tickets\"\n              className=\"mt-1 p-1.5 hover:bg-gray-100 rounded-lg transition-colors\"\n            >\n              <i className=\"fa-solid fa-arrow-left text-gray-500\"></i>\n            </Link>\n            <div>\n              <div className=\"flex items-center gap-2 flex-wrap\">\n                <span className=\"text-sm text-gray-500 font-mono\">{ticket.number}</span>\n                <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${getStatusColor(ticket.status)}`}>\n                  {ticket.status.replace(/_/g, ' ')}\n                </span>\n                <span className={`px-2 py-0.5 rounded-full text-xs font-medium border ${getPriorityColor(ticket.priority)}`}>\n                  {ticket.priority}\n                </span>\n                {ticket.slaBreach && (\n                  <span className=\"px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-600\">\n                    <i className=\"fa-solid fa-exclamation-triangle mr-1\"></i>SLA Breach\n                  </span>\n                )}\n              </div>\n              <h1 className=\"text-lg font-semibold text-gray-900 mt-1\">{ticket.subject}</h1>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center gap-2\">\n            {/* Quick Actions */}\n            <select\n              value={ticket.status}\n              onChange={(e) => updateStatus(e.target.value as Ticket['status'])}\n              className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500\"\n            >\n              <option value=\"new\">New</option>\n              <option value=\"open\">Open</option>\n              <option value=\"pending_customer\">Pending Customer</option>\n              <option value=\"pending_internal\">Pending Internal</option>\n              <option value=\"on_hold\">On Hold</option>\n              <option value=\"resolved\">Resolved</option>\n              <option value=\"closed\">Closed</option>\n            </select>\n            \n            <select\n              value={ticket.priority}\n              onChange={(e) => updatePriority(e.target.value as Ticket['priority'])}\n              className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500\"\n            >\n              <option value=\"low\">Low</option>\n              <option value=\"medium\">Medium</option>\n              <option value=\"high\">High</option>\n              <option value=\"urgent\">Urgent</option>\n              <option value=\"critical\">Critical</option>\n            </select>\n            \n            <button className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\n              <i className=\"fa-solid fa-ellipsis-v text-gray-500\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      {/* Main Content */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Conversation Area */}\n        <div className=\"flex-1 flex flex-col bg-gray-50\">\n          {/* Messages */}\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n            {messages.map(message => (\n              <div key={message.id} className={`rounded-lg p-4 ${getMessageBg(message.type)}`}>\n                <div className=\"flex items-start gap-3\">\n                  {message.type !== 'system' && (\n                    <div className={`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ${\n                      message.type === 'customer' ? 'bg-gray-400' :\n                      message.type === 'agent' ? 'bg-blue-500' :\n                      message.type === 'ai' ? 'bg-purple-500' :\n                      'bg-yellow-500'\n                    }`}>\n                      {message.type === 'ai' ? (\n                        <i className=\"fa-solid fa-robot text-xs\"></i>\n                      ) : message.type === 'internal_note' ? (\n                        <i className=\"fa-solid fa-lock text-xs\"></i>\n                      ) : (\n                        message.senderName.charAt(0).toUpperCase()\n                      )}\n                    </div>\n                  )}\n                  \n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <span className=\"font-medium text-gray-900 text-sm\">{message.senderName}</span>\n                      {message.type === 'internal_note' && (\n                        <span className=\"text-xs text-yellow-600 bg-yellow-100 px-1.5 py-0.5 rounded\">Internal Note</span>\n                      )}\n                      {message.isAIGenerated && (\n                        <span className=\"text-xs text-purple-600 bg-purple-100 px-1.5 py-0.5 rounded flex items-center gap-1\">\n                          <i className=\"fa-solid fa-sparkles text-[10px]\"></i>\n                          AI Generated\n                          {message.aiConfidence && ` (${Math.round(message.aiConfidence * 100)}%)`}\n                        </span>\n                      )}\n                      <span className=\"text-xs text-gray-500\">{formatTime(message.createdAt)}</span>\n                    </div>\n                    <div className=\"text-sm text-gray-700 whitespace-pre-wrap\">{message.content}</div>\n                    \n                    {message.attachments.length > 0 && (\n                      <div className=\"mt-2 flex flex-wrap gap-2\">\n                        {message.attachments.map((att, i) => (\n                          <a \n                            key={i}\n                            href={att.url}\n                            className=\"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-xs text-gray-600 hover:bg-gray-200\"\n                          >\n                            <i className=\"fa-solid fa-paperclip\"></i>\n                            {att.name}\n                          </a>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n            <div ref={messagesEndRef} />\n          </div>\n          \n          {/* AI Suggestion Banner */}\n          {showAISuggestion && ticket.aiSuggestedResponse && (\n            <div className=\"flex-none mx-4 mb-3 p-3 bg-purple-50 border border-purple-200 rounded-lg\">\n              <div className=\"flex items-start gap-3\">\n                <div className=\"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center\">\n                  <i className=\"fa-solid fa-sparkles text-white text-xs\"></i>\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <span className=\"text-sm font-medium text-purple-700\">AI Suggested Response</span>\n                    <span className=\"text-xs text-purple-600\">{Math.round((ticket.aiConfidence || 0) * 100)}% confidence</span>\n                  </div>\n                  <p className=\"text-sm text-gray-600 line-clamp-2\">{ticket.aiSuggestedResponse}</p>\n                  <div className=\"flex items-center gap-2 mt-2\">\n                    <button \n                      onClick={useAISuggestion}\n                      className=\"px-3 py-1 bg-purple-600 text-white text-xs rounded-lg hover:bg-purple-700 transition-colors\"\n                    >\n                      Use This Response\n                    </button>\n                    <button \n                      onClick={() => setShowAISuggestion(false)}\n                      className=\"px-3 py-1 text-purple-600 text-xs hover:bg-purple-100 rounded-lg transition-colors\"\n                    >\n                      Dismiss\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n          \n          {/* Reply Box */}\n          <div className=\"flex-none bg-white border-t border-gray-200 p-4\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <button\n                onClick={() => setIsInternalNote(false)}\n                className={`px-3 py-1 text-sm rounded-lg transition-colors ${\n                  !isInternalNote ? 'bg-blue-100 text-blue-600' : 'text-gray-600 hover:bg-gray-100'\n                }`}\n              >\n                <i className=\"fa-solid fa-reply mr-1\"></i>\n                Reply\n              </button>\n              <button\n                onClick={() => setIsInternalNote(true)}\n                className={`px-3 py-1 text-sm rounded-lg transition-colors ${\n                  isInternalNote ? 'bg-yellow-100 text-yellow-600' : 'text-gray-600 hover:bg-gray-100'\n                }`}\n              >\n                <i className=\"fa-solid fa-lock mr-1\"></i>\n                Internal Note\n              </button>\n            </div>\n            \n            <div className=\"relative\">\n              <textarea\n                value={replyContent}\n                onChange={(e) => setReplyContent(e.target.value)}\n                placeholder={isInternalNote ? 'Add an internal note...' : 'Type your reply...'}\n                rows={4}\n                className={`w-full px-4 py-3 border rounded-lg resize-none focus:ring-2 focus:ring-purple-500 focus:border-transparent ${\n                  isInternalNote ? 'border-yellow-300 bg-yellow-50' : 'border-gray-300'\n                }`}\n              />\n            </div>\n            \n            <div className=\"flex items-center justify-between mt-3\">\n              <div className=\"flex items-center gap-2\">\n                <button className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\" title=\"Attach file\">\n                  <i className=\"fa-solid fa-paperclip text-gray-500\"></i>\n                </button>\n                <button className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\" title=\"Use template\">\n                  <i className=\"fa-solid fa-file-lines text-gray-500\"></i>\n                </button>\n                <button className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\" title=\"Insert KB article\">\n                  <i className=\"fa-solid fa-book text-gray-500\"></i>\n                </button>\n                <button \n                  onClick={useAISuggestion}\n                  className=\"p-2 hover:bg-purple-100 rounded-lg transition-colors\" \n                  title=\"Get AI suggestion\"\n                >\n                  <i className=\"fa-solid fa-sparkles text-purple-500\"></i>\n                </button>\n              </div>\n              \n              <button\n                onClick={sendReply}\n                disabled={!replyContent.trim() || isSending}\n                className={`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${\n                  isInternalNote \n                    ? 'bg-yellow-500 text-white hover:bg-yellow-600' \n                    : 'bg-blue-600 text-white hover:bg-blue-700'\n                } disabled:opacity-50 disabled:cursor-not-allowed`}\n              >\n                {isSending ? (\n                  <>\n                    <i className=\"fa-solid fa-spinner fa-spin\"></i>\n                    Sending...\n                  </>\n                ) : (\n                  <>\n                    <i className={`fa-solid ${isInternalNote ? 'fa-lock' : 'fa-paper-plane'}`}></i>\n                    {isInternalNote ? 'Add Note' : 'Send Reply'}\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        {/* Sidebar */}\n        <div className=\"w-80 flex-none border-l border-gray-200 bg-white overflow-y-auto\">\n          {/* Tabs */}\n          <div className=\"flex border-b border-gray-200\">\n            {(['conversation', 'details', 'activity'] as const).map(tab => (\n              <button\n                key={tab}\n                onClick={() => setActiveTab(tab)}\n                className={`flex-1 py-3 text-sm font-medium transition-colors ${\n                  activeTab === tab\n                    ? 'text-purple-600 border-b-2 border-purple-600'\n                    : 'text-gray-500 hover:text-gray-700'\n                }`}\n              >\n                {tab.charAt(0).toUpperCase() + tab.slice(1)}\n              </button>\n            ))}\n          </div>\n          \n          <div className=\"p-4 space-y-6\">\n            {activeTab === 'conversation' && (\n              <>\n                {/* Customer Info */}\n                <div>\n                  <h3 className=\"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-3\">Customer</h3>\n                  <div className=\"flex items-center gap-3 mb-3\">\n                    <div className=\"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-medium\">\n                      {ticket.customerName.charAt(0)}\n                    </div>\n                    <div>\n                      <p className=\"font-medium text-gray-900\">{ticket.customerName}</p>\n                      <p className=\"text-sm text-gray-500\">{ticket.customerEmail}</p>\n                    </div>\n                  </div>\n                  <div className=\"space-y-2 text-sm\">\n                    {ticket.customerPhone && (\n                      <div className=\"flex items-center gap-2 text-gray-600\">\n                        <i className=\"fa-solid fa-phone w-4\"></i>\n                        {ticket.customerPhone}\n                      </div>\n                    )}\n                    <div className=\"flex items-center gap-2 text-gray-600\">\n                      <i className=\"fa-solid fa-ticket w-4\"></i>\n                      {customerContext.totalTickets} total tickets ({customerContext.openTickets} open)\n                    </div>\n                    <div className=\"flex items-center gap-2 text-gray-600\">\n                      <i className=\"fa-solid fa-star w-4\"></i>\n                      {customerContext.avgSatisfactionRating.toFixed(1)} avg rating\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <i className=\"fa-solid fa-crown w-4 text-yellow-500\"></i>\n                      <span className=\"capitalize\">{customerContext.tier} Plan</span>\n                      <span className=\"text-gray-400\">|</span>\n                      <span className=\"text-green-600\">${customerContext.lifetimeValue.toLocaleString()} LTV</span>\n                    </div>\n                  </div>\n                </div>\n                \n                {/* AI Analysis */}\n                {ticket.aiAnalysis && (\n                  <div>\n                    <h3 className=\"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-3 flex items-center gap-2\">\n                      <i className=\"fa-solid fa-sparkles text-purple-500\"></i>\n                      AI Analysis\n                    </h3>\n                    <div className=\"space-y-3\">\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-sm text-gray-600\">Sentiment</span>\n                        <span className={`text-sm font-medium capitalize ${getSentimentColor(ticket.aiAnalysis.sentiment)}`}>\n                          {ticket.aiAnalysis.sentiment}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-sm text-gray-600\">Urgency</span>\n                        <div className=\"flex items-center gap-1\">\n                          <div className=\"w-20 h-2 bg-gray-200 rounded-full overflow-hidden\">\n                            <div \n                              className={`h-full rounded-full ${\n                                ticket.aiAnalysis.urgencyLevel >= 8 ? 'bg-red-500' :\n                                ticket.aiAnalysis.urgencyLevel >= 5 ? 'bg-orange-500' :\n                                'bg-green-500'\n                              }`}\n                              style={{ width: `${ticket.aiAnalysis.urgencyLevel * 10}%` }}\n                            />\n                          </div>\n                          <span className=\"text-xs text-gray-500\">{ticket.aiAnalysis.urgencyLevel}/10</span>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-sm text-gray-600\">Intent</span>\n                        <span className=\"text-sm text-gray-900 capitalize\">{ticket.aiAnalysis.primaryIntent}</span>\n                      </div>\n                    </div>\n                    \n                    {/* Related Articles */}\n                    {ticket.aiAnalysis.relatedArticles.length > 0 && (\n                      <div className=\"mt-4\">\n                        <p className=\"text-xs text-gray-500 mb-2\">Suggested KB Articles</p>\n                        <div className=\"space-y-2\">\n                          {ticket.aiAnalysis.relatedArticles.slice(0, 3).map(article => (\n                            <Link\n                              key={article.id}\n                              href={`/sub-account/support-hub/knowledge-base/${article.id}`}\n                              className=\"block p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n                            >\n                              <div className=\"flex items-center justify-between\">\n                                <span className=\"text-sm text-gray-700 line-clamp-1\">{article.title}</span>\n                                <span className=\"text-xs text-purple-600\">{Math.round(article.relevance * 100)}%</span>\n                              </div>\n                            </Link>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </>\n            )}\n            \n            {activeTab === 'details' && (\n              <>\n                {/* Ticket Details */}\n                <div>\n                  <h3 className=\"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-3\">Details</h3>\n                  <div className=\"space-y-3\">\n                    <div>\n                      <label className=\"text-xs text-gray-500\">Category</label>\n                      <p className=\"text-sm text-gray-900 capitalize\">{ticket.category.replace(/_/g, ' ')}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-xs text-gray-500\">Source</label>\n                      <p className=\"text-sm text-gray-900 capitalize\">{ticket.source}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-xs text-gray-500\">Assigned To</label>\n                      <p className=\"text-sm text-gray-900\">{ticket.assignedName || 'Unassigned'}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-xs text-gray-500\">Created</label>\n                      <p className=\"text-sm text-gray-900\">{new Date(ticket.createdAt).toLocaleString()}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-xs text-gray-500\">Last Updated</label>\n                      <p className=\"text-sm text-gray-900\">{new Date(ticket.updatedAt).toLocaleString()}</p>\n                    </div>\n                    {ticket.slaDeadline && (\n                      <div>\n                        <label className=\"text-xs text-gray-500\">SLA Deadline</label>\n                        <p className={`text-sm ${ticket.slaBreach ? 'text-red-600 font-medium' : 'text-gray-900'}`}>\n                          {new Date(ticket.slaDeadline).toLocaleString()}\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                \n                {/* Tags */}\n                <div>\n                  <h3 className=\"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-3\">Tags</h3>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {ticket.tags.map(tag => (\n                      <span key={tag} className=\"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs\">\n                        {tag}\n                      </span>\n                    ))}\n                    <button className=\"px-2 py-1 border border-dashed border-gray-300 text-gray-400 rounded-full text-xs hover:border-gray-400 hover:text-gray-500\">\n                      + Add Tag\n                    </button>\n                  </div>\n                </div>\n              </>\n            )}\n            \n            {activeTab === 'activity' && (\n              <div>\n                <h3 className=\"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-3\">Activity Log</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex gap-3\">\n                    <div className=\"w-2 h-2 rounded-full bg-green-500 mt-1.5\"></div>\n                    <div>\n                      <p className=\"text-sm text-gray-900\">Customer replied</p>\n                      <p className=\"text-xs text-gray-500\">{formatTime(messages[messages.length - 1]?.createdAt)}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex gap-3\">\n                    <div className=\"w-2 h-2 rounded-full bg-blue-500 mt-1.5\"></div>\n                    <div>\n                      <p className=\"text-sm text-gray-900\">Agent responded</p>\n                      <p className=\"text-xs text-gray-500\">{formatTime(messages[3]?.createdAt)}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex gap-3\">\n                    <div className=\"w-2 h-2 rounded-full bg-purple-500 mt-1.5\"></div>\n                    <div>\n                      <p className=\"text-sm text-gray-900\">AI analysis completed</p>\n                      <p className=\"text-xs text-gray-500\">{formatTime(ticket.createdAt)}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex gap-3\">\n                    <div className=\"w-2 h-2 rounded-full bg-gray-400 mt-1.5\"></div>\n                    <div>\n                      <p className=\"text-sm text-gray-900\">Ticket created</p>\n                      <p className=\"text-xs text-gray-500\">{formatTime(ticket.createdAt)}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}