module.exports=[93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},66578,e=>{"use strict";var t=e.i(47909),r=e.i(74017),s=e.i(96250),o=e.i(59756),n=e.i(61916),a=e.i(14444),i=e.i(37092),p=e.i(69741),l=e.i(16795),d=e.i(87718),u=e.i(95169),c=e.i(47587),m=e.i(66012),h=e.i(70101),x=e.i(26937),v=e.i(10372),R=e.i(93695);e.i(52474);var g=e.i(220),f=e.i(89171),y=e.i(93458);async function w(e){try{let{subAccountId:t,options:r,demoMode:s=!1}=await e.json();if(!t)return f.NextResponse.json({success:!1,error:"subAccountId is required"},{status:400});let o=await (0,y.cookies)(),n=o.get("ghl_connection")?.value;if(!n&&!s)return f.NextResponse.json({success:!1,error:"Not connected to GoHighLevel. Please connect first.",requiresConnection:!0},{status:401});let a=Date.now();if(s){await new Promise(e=>setTimeout(e,500));let e={};r.importTags&&(e.tags={type:"tags",imported:48,skipped:0,errors:0,duration:1200}),r.importCustomFields&&(e.customFields={type:"customFields",imported:24,skipped:0,errors:0,duration:800}),r.importContacts&&(e.contacts={type:"contacts",imported:2845,skipped:2,errors:0,duration:28e3}),r.importPipelines&&(e.pipelines={type:"pipelines",imported:5,skipped:0,errors:0,duration:500}),r.importOpportunities&&(e.opportunities={type:"opportunities",imported:420,skipped:3,errors:0,duration:8500}),r.importCalendars&&(e.calendars={type:"calendars",imported:3,skipped:0,errors:0,duration:300}),r.importAppointments&&(e.appointments={type:"appointments",imported:312,skipped:0,errors:0,duration:6200}),r.importConversations&&(e.conversations={type:"conversations",imported:12450,skipped:3,errors:0,duration:45e3}),r.importTasks&&(e.tasks={type:"tasks",imported:155,skipped:1,errors:0,duration:3100}),r.importNotes&&(e.notes={type:"notes",imported:2340,skipped:1,errors:0,duration:9500});let t=Date.now()-a;return f.NextResponse.json({success:!0,data:{results:e,summary:{totalImported:Object.values(e).reduce((e,t)=>e+t.imported,0),totalSkipped:Object.values(e).reduce((e,t)=>e+t.skipped,0),totalErrors:Object.values(e).reduce((e,t)=>e+t.errors,0),duration:t},completedAt:new Date().toISOString(),source:"GoHighLevel (Demo Mode)"}})}return JSON.parse(n),f.NextResponse.json({success:!0,data:{results:{},summary:{totalImported:0,totalSkipped:0,totalErrors:0,duration:Date.now()-a},completedAt:new Date().toISOString(),source:"GoHighLevel",message:"Real import functionality requires GHL API credentials"}})}catch(e){return console.error("GHL Import Error:",e),f.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Import failed"},{status:500})}}async function E(e){try{let{searchParams:t}=new URL(e.url),r=t.get("importId");if(!t.get("subAccountId"))return f.NextResponse.json({success:!1,error:"subAccountId is required"},{status:400});return f.NextResponse.json({success:!0,data:{status:"completed",progress:100,currentStep:"Import completed",importId:r}})}catch(e){return console.error("GHL Import Status Error:",e),f.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Failed to get import status"},{status:500})}}e.s(["GET",()=>E,"POST",()=>w],49319);var C=e.i(49319);let k=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/v1/import/ghl/run/route",pathname:"/api/v1/import/ghl/run",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/v1/import/ghl/run/route.ts",nextConfigOutput:"",userland:C}),{workAsyncStorage:A,workUnitAsyncStorage:N,serverHooks:b}=k;function S(){return(0,s.patchFetch)({workAsyncStorage:A,workUnitAsyncStorage:N})}async function j(e,t,s){k.isDev&&(0,o.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let f="/api/v1/import/ghl/run/route";f=f.replace(/\/index$/,"")||"/";let y=await k.prepare(e,t,{srcPage:f,multiZoneDraftMode:!1});if(!y)return t.statusCode=400,t.end("Bad Request"),null==s.waitUntil||s.waitUntil.call(s,Promise.resolve()),null;let{buildId:w,params:E,nextConfig:C,parsedUrl:A,isDraftMode:N,prerenderManifest:b,routerServerContext:S,isOnDemandRevalidate:j,revalidateOnlyGenerated:O,resolvedPathname:T,clientReferenceManifest:I,serverActionsManifest:P}=y,q=(0,p.normalizeAppPath)(f),H=!!(b.dynamicRoutes[q]||b.routes[T]),_=async()=>((null==S?void 0:S.render404)?await S.render404(e,t,A,!1):t.end("This page could not be found"),null);if(H&&!N){let e=!!b.routes[T],t=b.dynamicRoutes[q];if(t&&!1===t.fallback&&!e){if(C.experimental.adapterPath)return await _();throw new R.NoFallbackError}}let D=null;!H||k.isDev||N||(D="/index"===(D=T)?"/":D);let M=!0===k.isDev||!H,U=H&&!M;P&&I&&(0,a.setReferenceManifestsSingleton)({page:f,clientReferenceManifest:I,serverActionsManifest:P,serverModuleMap:(0,i.createServerModuleMap)({serverActionsManifest:P})});let F=e.method||"GET",L=(0,n.getTracer)(),G=L.getActiveScopeSpan(),$={params:E,prerenderManifest:b,renderOpts:{experimental:{authInterrupts:!!C.experimental.authInterrupts},cacheComponents:!!C.cacheComponents,supportsDynamicResponse:M,incrementalCache:(0,o.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:C.cacheLife,waitUntil:s.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,s)=>k.onRequestError(e,t,s,S)},sharedContext:{buildId:w}},K=new l.NodeNextRequest(e),B=new l.NodeNextResponse(t),V=d.NextRequestAdapter.fromNodeNextRequest(K,(0,d.signalFromNodeResponse)(t));try{let a=async e=>k.handle(V,$).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=L.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let s=r.get("next.route");if(s){let t=`${F} ${s}`;e.setAttributes({"next.route":s,"http.route":s,"next.span_name":t}),e.updateName(t)}else e.updateName(`${F} ${f}`)}),i=!!(0,o.getRequestMeta)(e,"minimalMode"),p=async o=>{var n,p;let l=async({previousCacheEntry:r})=>{try{if(!i&&j&&O&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await a(o);e.fetchMetrics=$.renderOpts.fetchMetrics;let p=$.renderOpts.pendingWaitUntil;p&&s.waitUntil&&(s.waitUntil(p),p=void 0);let l=$.renderOpts.collectedTags;if(!H)return await (0,m.sendResponse)(K,B,n,$.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,h.toNodeOutgoingHttpHeaders)(n.headers);l&&(t[v.NEXT_CACHE_TAGS_HEADER]=l),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==$.renderOpts.collectedRevalidate&&!($.renderOpts.collectedRevalidate>=v.INFINITE_CACHE)&&$.renderOpts.collectedRevalidate,s=void 0===$.renderOpts.collectedExpire||$.renderOpts.collectedExpire>=v.INFINITE_CACHE?void 0:$.renderOpts.collectedExpire;return{value:{kind:g.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:s}}}}catch(t){throw(null==r?void 0:r.isStale)&&await k.onRequestError(e,t,{routerKind:"App Router",routePath:f,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:j})},S),t}},d=await k.handleResponse({req:e,nextConfig:C,cacheKey:D,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:b,isRoutePPREnabled:!1,isOnDemandRevalidate:j,revalidateOnlyGenerated:O,responseGenerator:l,waitUntil:s.waitUntil,isMinimalMode:i});if(!H)return null;if((null==d||null==(n=d.value)?void 0:n.kind)!==g.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(p=d.value)?void 0:p.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});i||t.setHeader("x-nextjs-cache",j?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),N&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let u=(0,h.fromNodeOutgoingHttpHeaders)(d.value.headers);return i&&H||u.delete(v.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||u.get("Cache-Control")||u.set("Cache-Control",(0,x.getCacheControlHeader)(d.cacheControl)),await (0,m.sendResponse)(K,B,new Response(d.value.body,{headers:u,status:d.value.status||200})),null};G?await p(G):await L.withPropagatedContext(e.headers,()=>L.trace(u.BaseServerSpan.handleRequest,{spanName:`${F} ${f}`,kind:n.SpanKind.SERVER,attributes:{"http.method":F,"http.target":e.url}},p))}catch(t){if(t instanceof R.NoFallbackError||await k.onRequestError(e,t,{routerKind:"App Router",routePath:q,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:j})}),H)throw t;return await (0,m.sendResponse)(K,B,new Response(null,{status:500})),null}}e.s(["handler",()=>j,"patchFetch",()=>S,"routeModule",()=>k,"serverHooks",()=>b,"workAsyncStorage",()=>A,"workUnitAsyncStorage",()=>N],66578)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__dadc87c9._.js.map