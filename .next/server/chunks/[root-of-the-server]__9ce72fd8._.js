module.exports=[93695,(e,r,t)=>{r.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},18622,(e,r,t)=>{r.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},70406,(e,r,t)=>{r.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},63021,(e,r,t)=>{r.exports=e.x("@prisma/client-2c3a283f134fdcb6",()=>require("@prisma/client-2c3a283f134fdcb6"))},62294,e=>{"use strict";var r=e.i(63021);let t=globalThis.prisma??new r.PrismaClient({log:["error"]});e.s(["prisma",0,t])},15398,e=>{"use strict";class r{baseUrl;authUserId;apiKey;constructor(e){this.baseUrl=e.testMode?"https://test.httpapi.com/api":"https://httpapi.com/api",this.authUserId=e.authUserId,this.apiKey=e.apiKey}buildUrl(e,r={}){let t=new URL(`${this.baseUrl}${e}`);return t.searchParams.set("auth-userid",this.authUserId),t.searchParams.set("api-key",this.apiKey),Object.entries(r).forEach(([e,r])=>{t.searchParams.set(e,String(r))}),t.toString()}async request(e,r="GET",t={}){let a="GET"===r?this.buildUrl(e,t):this.buildUrl(e),s={method:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}};if("POST"===r){let e=new URLSearchParams;Object.entries(t).forEach(([r,t])=>{e.append(r,String(t))}),s.body=e.toString()}let i=await fetch(a,s),n=await i.json();if("ERROR"===n.status)throw Error(n.message||"ResellerClub API error");return n}async checkDomainAvailability(e,r=["com","net","org","io"]){let t=e.split(".")[0],a={"domain-name":t};r.forEach((e,r)=>{a[`tlds[${r}]`]=e});try{let e=await this.request("/domains/available.json","GET",a);return Object.entries(e).map(([e,r])=>({domain:e,status:"available"===r.status?"available":"unavailable"}))}catch(e){return console.error("[ResellerClub] Domain availability check failed:",e),r.map(e=>({domain:`${t}.${e}`,status:"error"}))}}async getDomainPricing(e){let r={com:{register:10.99,renew:12.99,transfer:10.99},net:{register:9.99,renew:11.99,transfer:9.99},org:{register:8.99,renew:10.99,transfer:8.99},io:{register:32.99,renew:39.99,transfer:32.99},co:{register:24.99,renew:29.99,transfer:24.99},ai:{register:69.99,renew:79.99,transfer:69.99}},t={};return e.forEach(e=>{t[e]=r[e]||{register:15.99,renew:17.99,transfer:15.99}}),t}async registerDomain(e){let r={"domain-name":e.domainName,years:e.years,"customer-id":e.customerId,"reg-contact-id":await this.getOrCreateContact(e.registrantContact),"admin-contact-id":await this.getOrCreateContact(e.adminContact),"tech-contact-id":await this.getOrCreateContact(e.techContact),"billing-contact-id":await this.getOrCreateContact(e.billingContact),"invoice-option":"NoInvoice","protect-privacy":e.privacyProtection||!1};e.nameservers&&e.nameservers.length>0&&e.nameservers.forEach((e,t)=>{r[`ns${t+1}`]=e});try{let e=await this.request("/domains/register.json","POST",r);return{orderId:e.entityid,domainId:e.entityid}}catch(e){throw console.error("[ResellerClub] Domain registration failed:",e),e}}async getDomainDetails(e){try{let r=await this.request("/domains/details-by-name.json","GET",{"domain-name":e,options:"All"});return{domainId:r.entityid,domainName:r.domainname,status:r.currentstatus,registrationDate:r.creationdt,expirationDate:r.endtime,nameservers:[r.ns1,r.ns2,r.ns3,r.ns4].filter(Boolean),orderId:r.orderid,customerId:r.customerid,autoRenew:"true"===r.autorenew}}catch(e){return console.error("[ResellerClub] Get domain details failed:",e),null}}async renewDomain(e,r=1){try{let t=await this.getDomainDetails(e);if(!t)throw Error("Domain not found");return await this.request("/domains/renew.json","POST",{"order-id":t.orderId,years:r,"exp-date":t.expirationDate,"invoice-option":"NoInvoice"}),!0}catch(e){return console.error("[ResellerClub] Domain renewal failed:",e),!1}}async setNameservers(e,r){try{let t=await this.getDomainDetails(e);if(!t)throw Error("Domain not found");let a={"order-id":t.orderId};return r.forEach((e,r)=>{a[`ns${r+1}`]=e}),await this.request("/domains/modify-ns.json","POST",a),!0}catch(e){return console.error("[ResellerClub] Set nameservers failed:",e),!1}}async addDnsRecord(e,r){try{let t=`/dns/manage/add-${r.type.toLowerCase()}-record.json`,a={"domain-name":e,host:r.host,value:r.value,ttl:r.ttl};return"MX"===r.type&&void 0!==r.priority&&(a.priority=r.priority),await this.request(t,"POST",a),!0}catch(e){return console.error("[ResellerClub] Add DNS record failed:",e),!1}}async deleteDnsRecord(e,r,t,a){try{return await this.request(`/dns/manage/delete-${t.toLowerCase()}-record.json`,"POST",{"domain-name":e,host:r,value:a}),!0}catch(e){return console.error("[ResellerClub] Delete DNS record failed:",e),!1}}async getDnsRecords(e){try{let r=await this.request("/dns/manage/search-records.json","GET",{"domain-name":e,"no-of-records":50,"page-no":1});if(!r.records)return[];return r.records.map(e=>({host:e.host,type:e.type,value:e.value,ttl:parseInt(e.ttl),priority:e.priority?parseInt(e.priority):void 0}))}catch(e){return console.error("[ResellerClub] Get DNS records failed:",e),[]}}async setupEmailDns(e,r={}){let t={spf:!1,dkim:!1,dmarc:!1},a=r.spfRecord||"v=spf1 include:_spf.google.com ~all";t.spf=await this.addDnsRecord(e,{host:"@",type:"TXT",value:a,ttl:3600}),r.dkimSelector&&r.dkimPublicKey&&(t.dkim=await this.addDnsRecord(e,{host:`${r.dkimSelector}._domainkey`,type:"TXT",value:`v=DKIM1; k=rsa; p=${r.dkimPublicKey}`,ttl:3600}));let s=r.dmarcPolicy||"quarantine",i=r.dmarcEmail||`dmarc@${e}`;return t.dmarc=await this.addDnsRecord(e,{host:"_dmarc",type:"TXT",value:`v=DMARC1; p=${s}; rua=mailto:${i}`,ttl:3600}),t}async createEmailAccount(e,r){try{return{emailId:(await this.request("/mail/user/add.json","POST",{"domain-name":e,email:r.email,passwd:r.password,"first-name":r.firstName||"User","last-name":r.lastName||"",quota:r.storageQuota||5120})).entityid}}catch(e){return console.error("[ResellerClub] Create email account failed:",e),null}}async deleteEmailAccount(e,r){try{return await this.request("/mail/user/delete.json","POST",{"domain-name":e,email:r}),!0}catch(e){return console.error("[ResellerClub] Delete email account failed:",e),!1}}async updateEmailPassword(e,r,t){try{return await this.request("/mail/user/modify.json","POST",{"domain-name":e,email:r,passwd:t}),!0}catch(e){return console.error("[ResellerClub] Update email password failed:",e),!1}}async getEmailAccount(e,r){try{return await this.request("/mail/user/details.json","GET",{"domain-name":e,email:r})}catch(e){return console.error("[ResellerClub] Get email account failed:",e),null}}async listEmailAccounts(e){try{return(await this.request("/mail/user/search.json","GET",{"domain-name":e,"no-of-records":100,"page-no":1})).users||[]}catch(e){return console.error("[ResellerClub] List email accounts failed:",e),[]}}async getOrCreateContact(e){return"contact-"+Date.now()}async createCustomer(e){try{return{customerId:(await this.request("/customers/v2/signup.json","POST",{username:e.email,passwd:e.password,name:e.name,company:e.company||e.name,"address-line-1":e.address,city:e.city,state:e.state,country:e.country,zipcode:e.zipCode,"phone-cc":e.phoneCC,phone:e.phone,"lang-pref":"en"})).entityid}}catch(e){return console.error("[ResellerClub] Create customer failed:",e),null}}}function t(){let e=process.env.RESELLERCLUB_AUTH_USER_ID,t=process.env.RESELLERCLUB_API_KEY,a="true"===process.env.RESELLERCLUB_TEST_MODE;return e&&t?new r({authUserId:e,apiKey:t,testMode:a}):(console.warn("[ResellerClub] Missing credentials, client not initialized"),null)}e.s(["createResellerClubClient",()=>t])},31794,e=>{"use strict";var r=e.i(47909),t=e.i(74017),a=e.i(96250),s=e.i(59756),i=e.i(61916),n=e.i(74677),o=e.i(69741),l=e.i(16795),c=e.i(87718),d=e.i(95169),u=e.i(47587),p=e.i(66012),m=e.i(70101),h=e.i(26937),g=e.i(10372),w=e.i(93695);e.i(52474);var y=e.i(220),f=e.i(89171),R=e.i(62294),v=e.i(15398);let P=["com","net","org","io","co","ai","app","dev"],C={com:{register:12.99,renew:14.99},net:{register:11.99,renew:13.99},org:{register:10.99,renew:12.99},io:{register:39.99,renew:44.99},co:{register:29.99,renew:34.99},ai:{register:79.99,renew:89.99},app:{register:19.99,renew:22.99},dev:{register:17.99,renew:19.99},tech:{register:9.99,renew:11.99},online:{register:5.99,renew:7.99},store:{register:14.99,renew:16.99},xyz:{register:2.99,renew:12.99}};async function E(e){try{let{domain:r,tlds:t=P}=await e.json();if(!r)return f.NextResponse.json({success:!1,error:"domain is required"},{status:400});let a=r.toLowerCase().trim();if(a=a.split(".")[0],!/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/.test(a))return f.NextResponse.json({success:!1,error:"Invalid domain name format"},{status:400});let s=await R.prisma.domainPricing.findMany({where:{tld:{in:t},isAvailable:!0}}),i={};s.forEach(e=>{i[e.tld]={register:e.sellingRegistrationPrice,renew:e.sellingRenewalPrice,isPopular:e.isPopular,isFeatured:e.isFeatured}}),t.forEach(e=>{if(!i[e]){let r=C[e]||{register:15.99,renew:17.99};i[e]={...r,isPopular:["com","io","ai"].includes(e),isFeatured:"com"===e}}});let n=(0,v.createResellerClubClient)(),o=[];if(n)try{o=(await n.checkDomainAvailability(a,t)).map(e=>{let r=e.domain.split(".").pop()||"",t=i[r]||{register:15.99,renew:17.99,isPopular:!1,isFeatured:!1};return{domain:e.domain,tld:r,status:e.status,registrationPrice:t.register,renewalPrice:t.renew,isPopular:t.isPopular,isFeatured:t.isFeatured}})}catch(e){console.error("[API] ResellerClub availability check failed:",e),o=t.map(e=>{let r=i[e]||{register:15.99,renew:17.99,isPopular:!1,isFeatured:!1},t=Math.random()>.3;return{domain:`${a}.${e}`,tld:e,status:t?"available":"unavailable",registrationPrice:r.register,renewalPrice:r.renew,isPopular:r.isPopular,isFeatured:r.isFeatured}})}else o=t.map(e=>{let r=i[e]||{register:15.99,renew:17.99,isPopular:!1,isFeatured:!1},t=Math.random()>.3;return{domain:`${a}.${e}`,tld:e,status:t?"available":"unavailable",registrationPrice:r.register,renewalPrice:r.renew,isPopular:r.isPopular,isFeatured:r.isFeatured}});return o.sort((e,r)=>e.isFeatured&&!r.isFeatured?-1:!e.isFeatured&&r.isFeatured?1:e.isPopular&&!r.isPopular?-1:!e.isPopular&&r.isPopular?1:e.registrationPrice-r.registrationPrice),f.NextResponse.json({success:!0,searchDomain:a,results:o,availableCount:o.filter(e=>"available"===e.status).length})}catch(e){return console.error("[API] Domain search error:",e),f.NextResponse.json({success:!1,error:"Failed to search domains"},{status:500})}}async function b(){try{let e=await R.prisma.domainPricing.findMany({where:{isAvailable:!0},orderBy:[{isFeatured:"desc"},{isPopular:"desc"},{sellingRegistrationPrice:"asc"}]});if(0===e.length){let e=Object.entries(C).map(([e,r])=>({tld:e,registrationPrice:r.register,renewalPrice:r.renew,isPopular:["com","io","ai"].includes(e),isFeatured:"com"===e}));return f.NextResponse.json({success:!0,data:e})}return f.NextResponse.json({success:!0,data:e.map(e=>({tld:e.tld,registrationPrice:e.sellingRegistrationPrice,renewalPrice:e.sellingRenewalPrice,isPopular:e.isPopular,isFeatured:e.isFeatured,category:e.category,description:e.description}))})}catch(e){return console.error("[API] Get TLD pricing error:",e),f.NextResponse.json({success:!1,error:"Failed to fetch TLD pricing"},{status:500})}}e.s(["GET",()=>b,"POST",()=>E],8100);var x=e.i(8100);let T=new r.AppRouteRouteModule({definition:{kind:t.RouteKind.APP_ROUTE,page:"/api/email-infrastructure/domains/search/route",pathname:"/api/email-infrastructure/domains/search",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/email-infrastructure/domains/search/route.ts",nextConfigOutput:"",userland:x}),{workAsyncStorage:D,workUnitAsyncStorage:A,serverHooks:S}=T;function j(){return(0,a.patchFetch)({workAsyncStorage:D,workUnitAsyncStorage:A})}async function O(e,r,a){T.isDev&&(0,s.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let f="/api/email-infrastructure/domains/search/route";f=f.replace(/\/index$/,"")||"/";let R=await T.prepare(e,r,{srcPage:f,multiZoneDraftMode:!1});if(!R)return r.statusCode=400,r.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:v,params:P,nextConfig:C,parsedUrl:E,isDraftMode:b,prerenderManifest:x,routerServerContext:D,isOnDemandRevalidate:A,revalidateOnlyGenerated:S,resolvedPathname:j,clientReferenceManifest:O,serverActionsManifest:I}=R,N=(0,o.normalizeAppPath)(f),q=!!(x.dynamicRoutes[N]||x.routes[j]),U=async()=>((null==D?void 0:D.render404)?await D.render404(e,r,E,!1):r.end("This page could not be found"),null);if(q&&!b){let e=!!x.routes[j],r=x.dynamicRoutes[N];if(r&&!1===r.fallback&&!e){if(C.experimental.adapterPath)return await U();throw new w.NoFallbackError}}let k=null;!q||T.isDev||b||(k="/index"===(k=j)?"/":k);let F=!0===T.isDev||!q,_=q&&!F;I&&O&&(0,n.setManifestsSingleton)({page:f,clientReferenceManifest:O,serverActionsManifest:I});let $=e.method||"GET",L=(0,i.getTracer)(),M=L.getActiveScopeSpan(),H={params:P,prerenderManifest:x,renderOpts:{experimental:{authInterrupts:!!C.experimental.authInterrupts},cacheComponents:!!C.cacheComponents,supportsDynamicResponse:F,incrementalCache:(0,s.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:C.cacheLife,waitUntil:a.waitUntil,onClose:e=>{r.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(r,t,a,s)=>T.onRequestError(e,r,a,s,D)},sharedContext:{buildId:v}},K=new l.NodeNextRequest(e),G=new l.NodeNextResponse(r),B=c.NextRequestAdapter.fromNodeNextRequest(K,(0,c.signalFromNodeResponse)(r));try{let n=async e=>T.handle(B,H).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":r.statusCode,"next.rsc":!1});let t=L.getRootSpanAttributes();if(!t)return;if(t.get("next.span_type")!==d.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${t.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=t.get("next.route");if(a){let r=`${$} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":r}),e.updateName(r)}else e.updateName(`${$} ${f}`)}),o=!!(0,s.getRequestMeta)(e,"minimalMode"),l=async s=>{var i,l;let c=async({previousCacheEntry:t})=>{try{if(!o&&A&&S&&!t)return r.statusCode=404,r.setHeader("x-nextjs-cache","REVALIDATED"),r.end("This page could not be found"),null;let i=await n(s);e.fetchMetrics=H.renderOpts.fetchMetrics;let l=H.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let c=H.renderOpts.collectedTags;if(!q)return await (0,p.sendResponse)(K,G,i,H.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),r=(0,m.toNodeOutgoingHttpHeaders)(i.headers);c&&(r[g.NEXT_CACHE_TAGS_HEADER]=c),!r["content-type"]&&e.type&&(r["content-type"]=e.type);let t=void 0!==H.renderOpts.collectedRevalidate&&!(H.renderOpts.collectedRevalidate>=g.INFINITE_CACHE)&&H.renderOpts.collectedRevalidate,a=void 0===H.renderOpts.collectedExpire||H.renderOpts.collectedExpire>=g.INFINITE_CACHE?void 0:H.renderOpts.collectedExpire;return{value:{kind:y.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:r},cacheControl:{revalidate:t,expire:a}}}}catch(r){throw(null==t?void 0:t.isStale)&&await T.onRequestError(e,r,{routerKind:"App Router",routePath:f,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:_,isOnDemandRevalidate:A})},!1,D),r}},d=await T.handleResponse({req:e,nextConfig:C,cacheKey:k,routeKind:t.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:x,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:S,responseGenerator:c,waitUntil:a.waitUntil,isMinimalMode:o});if(!q)return null;if((null==d||null==(i=d.value)?void 0:i.kind)!==y.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(l=d.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});o||r.setHeader("x-nextjs-cache",A?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),b&&r.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let w=(0,m.fromNodeOutgoingHttpHeaders)(d.value.headers);return o&&q||w.delete(g.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||r.getHeader("Cache-Control")||w.get("Cache-Control")||w.set("Cache-Control",(0,h.getCacheControlHeader)(d.cacheControl)),await (0,p.sendResponse)(K,G,new Response(d.value.body,{headers:w,status:d.value.status||200})),null};M?await l(M):await L.withPropagatedContext(e.headers,()=>L.trace(d.BaseServerSpan.handleRequest,{spanName:`${$} ${f}`,kind:i.SpanKind.SERVER,attributes:{"http.method":$,"http.target":e.url}},l))}catch(r){if(r instanceof w.NoFallbackError||await T.onRequestError(e,r,{routerKind:"App Router",routePath:N,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:_,isOnDemandRevalidate:A})},!1,D),q)throw r;return await (0,p.sendResponse)(K,G,new Response(null,{status:500})),null}}e.s(["handler",()=>O,"patchFetch",()=>j,"routeModule",()=>T,"serverHooks",()=>S,"workAsyncStorage",()=>D,"workUnitAsyncStorage",()=>A],31794)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__9ce72fd8._.js.map