(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46688,e=>{"use strict";var r=e.i(43476),t=e.i(71645);let o=[{id:"robot",emoji:"ðŸ¤–",name:"Robot"},{id:"sparkles",emoji:"âœ¨",name:"Sparkles"},{id:"brain",emoji:"ðŸ§ ",name:"Brain"},{id:"star",emoji:"â­",name:"Star"},{id:"rocket",emoji:"ðŸš€",name:"Rocket"},{id:"crystal",emoji:"ðŸ”®",name:"Crystal"},{id:"lightning",emoji:"âš¡",name:"Lightning"},{id:"heart",emoji:"ðŸ’œ",name:"Heart"}],i=[{id:"purple",name:"Purple",primary:"#8B5CF6",secondary:"#A78BFA",gradient:"from-purple-500 to-purple-600"},{id:"green",name:"Green",primary:"#10B981",secondary:"#34D399",gradient:"from-green-500 to-green-600"},{id:"blue",name:"Blue",primary:"#3B82F6",secondary:"#60A5FA",gradient:"from-blue-500 to-blue-600"},{id:"pink",name:"Pink",primary:"#EC4899",secondary:"#F472B6",gradient:"from-pink-500 to-pink-600"},{id:"orange",name:"Orange",primary:"#F97316",secondary:"#FB923C",gradient:"from-orange-500 to-orange-600"},{id:"teal",name:"Teal",primary:"#14B8A6",secondary:"#2DD4BF",gradient:"from-teal-500 to-teal-600"},{id:"indigo",name:"Indigo",primary:"#6366F1",secondary:"#818CF8",gradient:"from-indigo-500 to-indigo-600"},{id:"red",name:"Red",primary:"#EF4444",secondary:"#F87171",gradient:"from-red-500 to-red-600"}],a={name:"Sandra",subtitle:"AI Assistant",avatar:"robot",customAvatarUrl:"",colorTheme:"green",customPrimaryColor:"#10B981",customSecondaryColor:"#34D399",personality:"friendly",customPersonalityPrompt:"",welcomeMessage:"Hi! I'm here to help you manage your CRM. What would you like to do today?",voiceEnabled:!0,voiceId:"alloy",responseLength:"balanced",proactiveMode:!0,showTypingIndicator:!0,soundEffects:!1,chatPosition:"bottom-right",chatWidth:384,chatHeight:600},s=(0,t.createContext)(void 0),n="risivo-ai-assistant-settings";function l({children:e}){let[l,c]=(0,t.useState)(a),[d,m]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{try{let e=localStorage.getItem(n);if(e){let r=JSON.parse(e);c({...a,...r})}}catch(e){console.error("Failed to load AI assistant settings:",e)}m(!0)},[]),(0,t.useEffect)(()=>{if(d)try{localStorage.setItem(n,JSON.stringify(l))}catch(e){console.error("Failed to save AI assistant settings:",e)}},[l,d]),(0,r.jsx)(s.Provider,{value:{settings:l,updateSettings:e=>{c(r=>({...r,...e}))},resetSettings:()=>{c(a)},getAvatarEmoji:()=>{let e=o.find(e=>e.id===l.avatar);return e?.emoji||"ðŸ¤–"},getPrimaryColor:()=>{if("custom"===l.colorTheme||l.customPrimaryColor!==a.customPrimaryColor)return l.customPrimaryColor;let e=i.find(e=>e.id===l.colorTheme);return e?.primary||l.customPrimaryColor},getSecondaryColor:()=>{if("custom"===l.colorTheme||l.customSecondaryColor!==a.customSecondaryColor)return l.customSecondaryColor;let e=i.find(e=>e.id===l.colorTheme);return e?.secondary||l.customSecondaryColor}},children:e})}function c(){let e=(0,t.useContext)(s);if(void 0===e)throw Error("useAIAssistant must be used within an AIAssistantProvider");return e}e.s(["AIAssistantProvider",()=>l,"avatarOptions",0,o,"colorThemes",0,i,"defaultAISettings",0,a,"useAIAssistant",()=>c])},96403,e=>{"use strict";var r=e.i(43476),t=e.i(71645);let o=(0,t.createContext)({user:null,isLoading:!0,error:null,refetch:async()=>{}});function i({children:e}){let[i,a]=(0,t.useState)(null),[s,n]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),d=(0,t.useCallback)(async()=>{try{n(!0),c(null);let e=await fetch("/api/user/profile",{credentials:"include",cache:"no-store"});if(!e.ok){if(401===e.status)return void a(null);throw Error("Failed to fetch user")}let r=await e.json();r.success&&r.profile?a({id:r.profile.id,name:`${r.profile.firstName||""} ${r.profile.lastName||""}`.trim()||"User",email:r.profile.email,role:r.profile.role,isMasterAdmin:r.profile.isMasterAdmin||!1,isDemoUser:r.profile.isDemoUser||"demo"===r.profile.role||!1,agencyId:r.profile.agencyId,agencyName:r.profile.agencyName||"",avatar:r.profile.avatar,status:r.profile.status||"active",company:r.profile.company||null}):a(null)}catch(e){console.error("[useUser] Error fetching user:",e),c(e.message||"Failed to fetch user"),a(null)}finally{n(!1)}},[]);return(0,t.useEffect)(()=>{d()},[d]),(0,r.jsx)(o.Provider,{value:{user:i,isLoading:s,error:l,refetch:d},children:e})}function a(){let e=(0,t.useContext)(o);if(!e)throw Error("useUser must be used within a UserProvider");return e}e.s(["UserProvider",()=>i,"useUser",()=>a])},96923,e=>{"use strict";var r=e.i(43476),t=e.i(96403),o=e.i(46688);function i({children:e}){return(0,r.jsx)(t.UserProvider,{children:(0,r.jsx)(o.AIAssistantProvider,{children:e})})}e.s(["Providers",()=>i])}]);