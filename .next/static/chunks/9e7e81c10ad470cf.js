(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72537,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(18566),n=e.i(22016);let a=[{type:"landing",name:"Landing Page",icon:"ðŸ“„",description:"Entry point for your funnel",color:"blue"},{type:"optin",name:"Opt-in Page",icon:"ðŸ“§",description:"Capture email addresses",color:"green"},{type:"sales",name:"Sales Page",icon:"ðŸ’°",description:"High-converting sales copy",color:"purple"},{type:"video-sales",name:"Video Sales Letter",icon:"ðŸŽ¬",description:"Video-based sales page",color:"red"},{type:"checkout",name:"Order Form",icon:"ðŸ›’",description:"Payment and checkout",color:"orange"},{type:"upsell",name:"Upsell Page",icon:"â¬†ï¸",description:"One-click upsell offer",color:"yellow"},{type:"downsell",name:"Downsell Page",icon:"â¬‡ï¸",description:"Alternative offer",color:"pink"},{type:"thankyou",name:"Thank You Page",icon:"ðŸŽ‰",description:"Post-purchase confirmation",color:"teal"},{type:"webinar",name:"Webinar Registration",icon:"ðŸ“¹",description:"Event sign-up",color:"indigo"},{type:"survey",name:"Survey Page",icon:"ðŸ“‹",description:"Collect feedback",color:"cyan"},{type:"quiz",name:"Quiz Page",icon:"â“",description:"Interactive quiz",color:"violet"},{type:"application",name:"Application Form",icon:"ðŸ“",description:"Application/booking",color:"emerald"},{type:"calendar",name:"Calendar Booking",icon:"ðŸ“…",description:"Schedule appointments",color:"amber"}];function l(){let e=(0,r.useParams)();(0,r.useRouter)();let l=e.funnelId,[c,x]=(0,t.useState)(null),[m,p]=(0,t.useState)(!0),[u,h]=(0,t.useState)("steps"),[g,b]=(0,t.useState)(null),[v,f]=(0,t.useState)(!1),[j,y]=(0,t.useState)(!1),[N,w]=(0,t.useState)(!1),[k,C]=(0,t.useState)(!1),[S,L]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{p(!0),await new Promise(e=>setTimeout(e,500));let e={id:l,name:"new"===l?"New Funnel":"Product Launch Funnel",description:"High-converting product launch funnel with video sales letter",folder:"Product Launch",status:"new"===l?"draft":"published",domain:"launch.example.com",createdAt:"2024-01-10",updatedAt:"2024-01-15",steps:"new"===l?[]:[{id:"step-1",name:"Landing Page",type:"landing",path:"/",order:1,status:"published",views:12450,conversions:4980,conversionRate:40,nextSteps:[{stepId:"step-2"}],content:{headline:"Discover The Secret To...",subheadline:"Join thousands who have transformed their business",buttonText:"Get Started Now",buttonColor:"#3B82F6",elements:[]}},{id:"step-2",name:"Video Sales Letter",type:"video-sales",path:"/watch",order:2,status:"published",views:4980,conversions:1494,conversionRate:30,nextSteps:[{stepId:"step-3"}],content:{headline:"Watch This Important Video",elements:[]}},{id:"step-3",name:"Order Form",type:"checkout",path:"/order",order:3,status:"published",views:1494,conversions:847,conversionRate:56.7,nextSteps:[{stepId:"step-4"},{stepId:"step-5",condition:"declined"}],content:{headline:"Complete Your Order",elements:[]}},{id:"step-4",name:"Upsell - Premium Package",type:"upsell",path:"/upgrade",order:4,status:"published",views:847,conversions:254,conversionRate:30,nextSteps:[{stepId:"step-6"}],content:{headline:"Wait! Special One-Time Offer",elements:[]}},{id:"step-5",name:"Downsell - Lite Package",type:"downsell",path:"/special",order:5,status:"published",views:593,conversions:178,conversionRate:30,nextSteps:[{stepId:"step-6"}],content:{headline:"How About This Instead?",elements:[]}},{id:"step-6",name:"Thank You",type:"thankyou",path:"/thank-you",order:6,status:"published",views:1025,conversions:1025,conversionRate:100,nextSteps:[],content:{headline:"Thank You For Your Purchase!",elements:[]}}],settings:{seoTitle:"Product Launch - Limited Time Offer",seoDescription:"Transform your business with our proven system",facebookPixel:"FB-123456789",googleAnalytics:"GA-123456789"},stats:{totalViews:12450,totalConversions:847,overallRate:6.8,revenue:42350}};x(e),L(e.name),e.steps.length>0&&b(e.steps[0].id),p(!1)})()},[l]);let P=(e,s)=>{if(!c)return;let t=c.steps.findIndex(s=>s.id===e);if(-1===t)return;let r="up"===s?t-1:t+1;if(r<0||r>=c.steps.length)return;let n=[...c.steps],[a]=n.splice(t,1);n.splice(r,0,a),n.forEach((e,s)=>{e.order=s+1}),x({...c,steps:n})};if(m)return(0,s.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!c)return(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Funnel not found"}),(0,s.jsx)(n.default,{href:"/sub-account/digital-hub/funnels",className:"text-blue-600 hover:underline",children:"Back to Funnels"})]});let M=c.steps.find(e=>e.id===g);return(0,s.jsxs)("div",{className:"h-full flex flex-col -m-4 sm:-m-6 lg:-m-8",children:[(0,s.jsxs)("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(n.default,{href:"/sub-account/digital-hub/funnels",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),k?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"text",value:S,onChange:e=>L(e.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),(0,s.jsx)("button",{onClick:()=>{c&&(x({...c,name:S}),C(!1))},className:"p-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("button",{onClick:()=>{C(!1),L(c.name)},className:"p-1.5 hover:bg-gray-100 rounded-lg",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):(0,s.jsxs)("button",{onClick:()=>C(!0),className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg transition-colors",children:[(0,s.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:c.name}),(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})]}),(0,s.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"published"===c.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:c.status})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("button",{className:"px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-2 text-sm",children:[(0,s.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Preview"]}),(0,s.jsxs)("button",{className:"px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-2 text-sm",children:[(0,s.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),(0,s.jsxs)("button",{onClick:()=>{c&&(x({...c,status:"published"}),alert("Funnel published successfully!"))},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm font-medium",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"published"===c.status?"Update":"Publish"]})]})]}),(0,s.jsx)("div",{className:"bg-white border-b border-gray-200 px-4",children:(0,s.jsx)("nav",{className:"flex gap-6",children:[{id:"steps",label:"Steps",icon:"ðŸ“‘"},{id:"settings",label:"Settings",icon:"âš™ï¸"},{id:"analytics",label:"Analytics",icon:"ðŸ“Š"},{id:"integrations",label:"Integrations",icon:"ðŸ”—"}].map(e=>(0,s.jsxs)("button",{onClick:()=>h(e.id),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${u===e.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,s.jsx)("span",{children:e.icon}),e.label]},e.id))})}),(0,s.jsxs)("div",{className:"flex-1 overflow-hidden bg-gray-100",children:["steps"===u&&(0,s.jsxs)("div",{className:"h-full flex",children:[(0,s.jsxs)("div",{className:"w-72 bg-white border-r border-gray-200 flex flex-col",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Funnel Steps"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[c.steps.length," steps"]})]}),(0,s.jsxs)("button",{onClick:()=>f(!0),className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-blue-500 hover:text-blue-600 hover:bg-blue-50 transition-all flex items-center justify-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Step"]})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:[c.steps.map((e,t)=>{let r=a.find(s=>s.type===e.type),n=g===e.id;return(0,s.jsxs)("div",{onClick:()=>b(e.id),className:`p-3 rounded-lg cursor-pointer transition-all border-2 ${n?"border-blue-500 bg-blue-50":"border-transparent bg-gray-50 hover:bg-gray-100"}`,children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center text-sm font-medium text-gray-600",children:t+1}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:r?.icon}),(0,s.jsx)("p",{className:"font-medium text-gray-900 text-sm truncate",children:e.name})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:e.path}),e.views>0&&(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-xs",children:[(0,s.jsxs)("span",{className:"text-gray-500",children:[e.views.toLocaleString()," views"]}),(0,s.jsxs)("span",{className:"text-green-600",children:[e.conversionRate,"% conv."]})]})]}),(0,s.jsx)("span",{className:`flex-shrink-0 w-2 h-2 rounded-full ${"published"===e.status?"bg-green-500":"bg-yellow-500"}`})]}),n&&(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-3 pt-3 border-t border-gray-200",children:[(0,s.jsx)("button",{onClick:s=>{s.stopPropagation(),P(e.id,"up")},disabled:0===t,className:"p-1.5 hover:bg-gray-200 rounded transition-colors disabled:opacity-30",title:"Move up",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,s.jsx)("button",{onClick:s=>{s.stopPropagation(),P(e.id,"down")},disabled:t===c.steps.length-1,className:"p-1.5 hover:bg-gray-200 rounded transition-colors disabled:opacity-30",title:"Move down",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),(0,s.jsx)("button",{onClick:s=>{s.stopPropagation(),(e=>{if(!c)return;let s=c.steps.find(s=>s.id===e);if(!s)return;let t={...s,id:`step-${Date.now()}`,name:`${s.name} (Copy)`,path:`${s.path}-copy`,order:c.steps.length+1,status:"draft",views:0,conversions:0,conversionRate:0,nextSteps:[]};x({...c,steps:[...c.steps,t]}),b(t.id)})(e.id)},className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:"Duplicate",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,s.jsx)("div",{className:"flex-1"}),(0,s.jsx)("button",{onClick:s=>{s.stopPropagation(),(e=>{if(!c||!confirm("Are you sure you want to delete this step?"))return;let s=c.steps.filter(s=>s.id!==e).map((s,t)=>({...s,order:t+1,nextSteps:s.nextSteps.filter(s=>s.stepId!==e)}));x({...c,steps:s}),g===e&&b(s[0]?.id||null)})(e.id)},className:"p-1.5 hover:bg-red-100 rounded transition-colors text-red-500",title:"Delete",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id)}),0===c.steps.length&&(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)("p",{className:"mb-2",children:"No steps yet"}),(0,s.jsx)("p",{className:"text-sm",children:'Click "Add Step" to get started'})]})]})]}),(0,s.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:M?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:M.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[c.domain||"your-domain.com",M.path]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{className:"px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Preview"}),(0,s.jsxs)(n.default,{href:`/sub-account/digital-hub/funnels/${l}/steps/${M.id}`,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Page"]})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-auto p-6 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"w-full max-w-4xl bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gray-100 border-b border-gray-200 px-4 py-2 flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex gap-1.5",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-400"}),(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),(0,s.jsx)("div",{className:"flex-1 mx-4",children:(0,s.jsxs)("div",{className:"bg-white rounded px-3 py-1 text-sm text-gray-600 text-center",children:[c.domain||"your-domain.com",M.path]})})]}),(0,s.jsx)("div",{className:"aspect-video bg-gradient-to-br from-blue-50 to-indigo-100 p-8 flex flex-col items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-lg",children:[(0,s.jsx)("span",{className:"text-4xl mb-4 block",children:a.find(e=>e.type===M.type)?.icon}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:M.content?.headline||M.name}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:M.content?.subheadline||'Click "Edit Page" to customize this step'}),(0,s.jsx)("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:M.content?.buttonText||"Continue"})]})})]})})]}):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-lg mb-2",children:"No step selected"}),(0,s.jsx)("p",{className:"text-sm",children:"Select a step from the left panel or add a new one"})]})})}),M&&M.views>0&&(0,s.jsxs)("div",{className:"w-64 bg-white border-l border-gray-200 p-4 overflow-y-auto",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Step Statistics"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Page Views"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:M.views.toLocaleString()})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Conversions"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:M.conversions.toLocaleString()})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Conversion Rate"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[M.conversionRate,"%"]})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Flow"}),(0,s.jsxs)("div",{className:"space-y-2",children:[M.nextSteps.map((e,t)=>{let r=c.steps.find(s=>s.id===e.stepId);return(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),(0,s.jsx)("span",{className:"text-gray-600",children:r?.name||"Unknown"}),e.condition&&(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.condition,")"]})]},t)}),0===M.nextSteps.length&&(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"End of funnel"})]})]})]})]})]}),"settings"===u&&(0,s.jsx)(o,{funnel:c,setFunnel:x}),"analytics"===u&&(0,s.jsx)(i,{funnel:c}),"integrations"===u&&(0,s.jsx)(d,{funnel:c})]}),v&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl max-h-[80vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Add Funnel Step"}),(0,s.jsx)("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"Choose a step type to add to your funnel"})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map(e=>(0,s.jsxs)("button",{onClick:()=>(e=>{if(!c)return;let s=a.find(s=>s.type===e),t={id:`step-${Date.now()}`,name:s?.name||"New Step",type:e,path:`/${e}-${c.steps.length+1}`,order:c.steps.length+1,status:"draft",views:0,conversions:0,conversionRate:0,nextSteps:[],content:{headline:`New ${s?.name}`,elements:[]}},r=[...c.steps];if(r.length>0){let e=r[r.length-1];0===e.nextSteps.length&&(e.nextSteps=[{stepId:t.id}])}x({...c,steps:[...r,t]}),b(t.id),f(!1)})(e.type),className:"p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all text-left group",children:[(0,s.jsx)("span",{className:"text-3xl mb-2 block",children:e.icon}),(0,s.jsx)("p",{className:"font-medium text-gray-900 group-hover:text-blue-700",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]},e.type))})})]})})]})}function o({funnel:e,setFunnel:r}){let[n,a]=(0,t.useState)(e.settings),[l,o]=(0,t.useState)(e.domain||""),[i,d]=(0,t.useState)(e.favicon||"");return(0,s.jsxs)("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"General Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funnel Domain"}),(0,s.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),placeholder:"yourdomain.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Connect your custom domain in Domain Management"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Favicon URL"}),(0,s.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"https://example.com/favicon.ico",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SEO Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SEO Title"}),(0,s.jsx)("input",{type:"text",value:n.seoTitle||"",onChange:e=>a({...n,seoTitle:e.target.value}),placeholder:"Page title for search engines",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SEO Description"}),(0,s.jsx)("textarea",{value:n.seoDescription||"",onChange:e=>a({...n,seoDescription:e.target.value}),placeholder:"Page description for search engines",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tracking & Analytics"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facebook Pixel ID"}),(0,s.jsx)("input",{type:"text",value:n.facebookPixel||"",onChange:e=>a({...n,facebookPixel:e.target.value}),placeholder:"Enter your Facebook Pixel ID",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Google Analytics ID"}),(0,s.jsx)("input",{type:"text",value:n.googleAnalytics||"",onChange:e=>a({...n,googleAnalytics:e.target.value}),placeholder:"Enter your GA4 Measurement ID",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom Tracking Code"}),(0,s.jsx)("textarea",{value:n.trackingCode||"",onChange:e=>a({...n,trackingCode:e.target.value}),placeholder:"<script>...</script>",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Advanced"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom CSS"}),(0,s.jsx)("textarea",{value:n.customCss||"",onChange:e=>a({...n,customCss:e.target.value}),placeholder:".my-class { ... }",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom JavaScript"}),(0,s.jsx)("textarea",{value:n.customJs||"",onChange:e=>a({...n,customJs:e.target.value}),placeholder:"// Your custom JavaScript",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{onClick:()=>{r({...e,settings:n,domain:l,favicon:i}),alert("Settings saved!")},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Save Settings"})})]})}function i({funnel:e}){return(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Total Views"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.stats.totalViews.toLocaleString()})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Total Conversions"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.stats.totalConversions.toLocaleString()})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Conversion Rate"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[e.stats.overallRate,"%"]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",e.stats.revenue.toLocaleString()]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Funnel Flow"}),(0,s.jsx)("div",{className:"flex items-center gap-4 overflow-x-auto pb-4",children:e.steps.map((t,r)=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 min-w-[180px]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("span",{className:"text-xl",children:a.find(e=>e.type===t.type)?.icon}),(0,s.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:t.name})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Views"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:t.views.toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Conversions"}),(0,s.jsx)("span",{className:"font-medium text-green-600",children:t.conversions.toLocaleString()})]}),(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${t.conversionRate}%`}})}),(0,s.jsxs)("p",{className:"text-xs text-center text-gray-500",children:[t.conversionRate,"% conversion"]})]})]}),r<e.steps.length-1&&(0,s.jsx)("div",{className:"flex-shrink-0 mx-2",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},t.id))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversion Trends"}),(0,s.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:(0,s.jsx)("p",{className:"text-gray-500",children:"ðŸ“Š Analytics chart will be displayed here"})})]})]})}function d({funnel:e}){return(0,s.jsx)("div",{className:"p-6 max-w-4xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Connected Integrations"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:"stripe",name:"Stripe",icon:"ðŸ’³",description:"Payment processing",connected:!0},{id:"paypal",name:"PayPal",icon:"ðŸ…¿ï¸",description:"Alternative payments",connected:!1},{id:"mailchimp",name:"Mailchimp",icon:"ðŸ“§",description:"Email marketing",connected:!0},{id:"activecampaign",name:"ActiveCampaign",icon:"ðŸ“®",description:"Marketing automation",connected:!1},{id:"zapier",name:"Zapier",icon:"âš¡",description:"Workflow automation",connected:!0},{id:"slack",name:"Slack",icon:"ðŸ’¬",description:"Notifications",connected:!1},{id:"google-sheets",name:"Google Sheets",icon:"ðŸ“Š",description:"Data export",connected:!1},{id:"hubspot",name:"HubSpot",icon:"ðŸ”¶",description:"CRM integration",connected:!1}].map(e=>(0,s.jsx)("div",{className:`p-4 rounded-xl border-2 ${e.connected?"border-green-200 bg-green-50":"border-gray-200 bg-white hover:border-blue-300"}`,children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]}),e.connected?(0,s.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"Connected"}):(0,s.jsx)("button",{className:"px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors",children:"Connect"})]})},e.id))})]})})}e.s(["default",()=>l])}]);