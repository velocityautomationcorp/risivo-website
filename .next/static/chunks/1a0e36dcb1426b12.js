(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75622,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(18566),a=e.i(22016);let l={id:"tick-001",subject:"Unable to access dashboard",description:"Getting 404 error when trying to access the main dashboard. This started happening after the latest update yesterday. I have tried clearing browser cache and using different browsers (Chrome, Firefox) but the issue persists.",status:"Open",priority:"High",category:"Technical",companyId:"comp-001",companyName:"Tech Solutions Inc.",subAccountId:"sub-001",subAccountName:"Sales Team",submitter:{name:"Mike Davis",email:"mike@techsolutions.com",phone:"+1-555-0103"},messages:[{id:"msg-001",author:{name:"Mike Davis",role:"Customer"},message:"Getting 404 error when trying to access the main dashboard. This started happening after the latest update yesterday.",timestamp:"2024-12-08 09:15"},{id:"msg-002",author:{name:"Support Team",role:"Support Agent"},message:"Thank you for reporting this issue. We are investigating and will get back to you shortly. Can you please provide your browser version and any error messages you see in the console?",timestamp:"2024-12-08 09:30"},{id:"msg-003",author:{name:"Admin Team",role:"Admin"},message:"Internal note: This appears to be related to the routing update. Checking the logs now.",timestamp:"2024-12-08 10:00",isInternal:!0}],createdAt:"2024-12-08 09:15",updatedAt:"2024-12-08 10:00"};function n(){let e=(0,r.useParams)();(0,r.useRouter)(),e.id;let[n,i]=(0,t.useState)(l),[d,c]=(0,t.useState)(""),[o,m]=(0,t.useState)(!1),[x,u]=(0,t.useState)(!1),[g,h]=(0,t.useState)(l),[p,b]=(0,t.useState)(!0),y=(e,s)=>{h(t=>({...t,[e]:s}))},j=e=>{switch(e){case"Open":return"bg-blue-100 text-blue-800";case"In Progress":return"bg-yellow-100 text-yellow-800";case"Resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},v=e=>{switch(e){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},N=p?n.messages:n.messages.filter(e=>!e.isInternal);return(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("div",{className:"flex items-center gap-3 mb-4",children:(0,s.jsx)(a.default,{href:"/admin/support",className:"text-purple-600 hover:text-purple-700",children:"â† Back to Tickets"})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2 mb-2",children:x?(0,s.jsx)("input",{type:"text",value:g.subject,onChange:e=>y("subject",e.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-2xl"}):n.subject}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${j(n.status)}`,children:n.status}),(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${v(n.priority)}`,children:n.priority}),(0,s.jsx)("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:n.category})]}),(0,s.jsxs)("p",{className:"text-gray-600 mt-2",children:["Ticket ID: ",n.id," â€¢ Created: ",n.createdAt]})]}),(0,s.jsx)("div",{className:"flex gap-2",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{i(g),u(!1)},className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"ðŸ’¾ Save"}),(0,s.jsx)("button",{onClick:()=>{h(n),u(!1)},className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700",children:"âœ– Cancel"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"âœï¸ Edit"}),(0,s.jsx)("button",{className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700",children:"ðŸ—‘ï¸ Delete"})]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Description"}),x?(0,s.jsx)("textarea",{value:g.description,onChange:e=>y("description",e.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}):(0,s.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:n.description})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-gray-900",children:["Conversation (",n.messages.length,")"]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)("input",{type:"checkbox",checked:p,onChange:e=>b(e.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),"Show internal notes"]})]}),(0,s.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,s.jsxs)("div",{className:`p-4 rounded-lg ${e.isInternal?"bg-yellow-50 border border-yellow-200":"Customer"===e.author.role?"bg-blue-50 border border-blue-200":"bg-gray-50 border border-gray-200"}`,children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-bold text-sm",children:e.author.name.charAt(0)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.author.name}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.author.role})]})]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.timestamp})]}),(0,s.jsx)("div",{className:"ml-10 text-gray-700 whitespace-pre-wrap",children:e.message}),e.isInternal&&(0,s.jsx)("div",{className:"ml-10 mt-2",children:(0,s.jsx)("span",{className:"px-2 py-1 bg-yellow-200 text-yellow-800 rounded-full text-xs font-medium",children:"ðŸ”’ Internal Note"})})]},e.id))}),(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Reply to ticket"}),(0,s.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),rows:4,placeholder:"Type your reply here...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",checked:o,onChange:e=>m(e.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),"Internal note (not visible to customer)"]}),(0,s.jsx)("button",{onClick:()=>{if(!d.trim())return;let e={id:`msg-${Date.now()}`,author:{name:"Admin Team",role:o?"Admin":"Support Agent"},message:d,timestamp:new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),isInternal:o};i(s=>({...s,messages:[...s.messages,e],updatedAt:e.timestamp})),c(""),m(!1)},disabled:!d.trim(),className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"ðŸ“¤ Send Reply"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Status Management"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),x?(0,s.jsxs)("select",{value:g.status,onChange:e=>y("status",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,s.jsx)("option",{value:"Open",children:"Open"}),(0,s.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,s.jsx)("option",{value:"Resolved",children:"Resolved"}),(0,s.jsx)("option",{value:"Closed",children:"Closed"})]}):(0,s.jsx)("div",{className:`px-3 py-2 rounded-lg text-sm font-medium inline-block ${j(n.status)}`,children:n.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),x?(0,s.jsxs)("select",{value:g.priority,onChange:e=>y("priority",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,s.jsx)("option",{value:"Low",children:"Low"}),(0,s.jsx)("option",{value:"Medium",children:"Medium"}),(0,s.jsx)("option",{value:"High",children:"High"}),(0,s.jsx)("option",{value:"Urgent",children:"Urgent"})]}):(0,s.jsx)("div",{className:`px-3 py-2 rounded-lg text-sm font-medium inline-block ${v(n.priority)}`,children:n.priority})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),x?(0,s.jsx)("input",{type:"text",value:g.category,onChange:e=>y("category",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}):(0,s.jsx)("div",{className:"text-gray-900",children:n.category})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Ticket Information"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),(0,s.jsx)(a.default,{href:`/admin/companies/${n.companyId}`,className:"text-purple-600 hover:underline",children:n.companyName})]}),n.subAccountName&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub-Account"}),(0,s.jsx)(a.default,{href:`/admin/sub-accounts/${n.subAccountId}`,className:"text-purple-600 hover:underline",children:n.subAccountName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submitter"}),(0,s.jsx)("div",{className:"text-gray-900",children:n.submitter.name}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:n.submitter.email}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:n.submitter.phone})]}),n.assignedTo&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),(0,s.jsx)("div",{className:"text-gray-900",children:n.assignedTo.name}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:n.assignedTo.email})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Timestamps"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Created:"}),(0,s.jsx)("span",{className:"ml-2 text-gray-900",children:n.createdAt})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Last Updated:"}),(0,s.jsx)("span",{className:"ml-2 text-gray-900",children:n.updatedAt})]}),n.resolvedAt&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Resolved:"}),(0,s.jsx)("span",{className:"ml-2 text-gray-900",children:n.resolvedAt})]}),n.closedAt&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Closed:"}),(0,s.jsx)("span",{className:"ml-2 text-gray-900",children:n.closedAt})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("button",{className:"w-full px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Assign to Me"}),(0,s.jsx)("button",{className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:"Mark as Resolved"}),(0,s.jsx)("button",{className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm",children:"Close Ticket"}),(0,s.jsx)("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Export to PDF"})]})]})]})]})]})}e.s(["default",()=>n])}]);