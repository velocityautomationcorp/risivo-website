(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30279,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),r=e.i(95696),l=e.i(27607);let n=[{id:"conversations",label:"Conversations",href:"/sub-account/conversations"},{id:"power-dialer",label:"Power Dialer",href:"/sub-account/conversations/power-dialer"},{id:"manual-actions",label:"Manual Actions",href:"/sub-account/conversations/manual-actions"},{id:"message-templates",label:"Message Templates",href:"/sub-account/conversations/message-templates"},{id:"smart-links",label:"Smart Links",href:"/sub-account/conversations/smart-links"}],i={sms:{icon:"ðŸ’¬",color:"text-blue-600",label:"SMS"},email:{icon:"ðŸ“§",color:"text-purple-600",label:"Email"},whatsapp:{icon:"ðŸŸ¢",color:"text-green-600",label:"WhatsApp"},phone_inbound:{icon:"ðŸ“ž",color:"text-blue-600",label:"Inbound Call"},phone_outbound:{icon:"ðŸ“±",color:"text-orange-600",label:"Outbound Call"},live_chat:{icon:"ðŸ’­",color:"text-cyan-600",label:"Live Chat"},facebook_messenger:{icon:"ðŸ”µ",color:"text-blue-500",label:"Facebook"},instagram_dm:{icon:"ðŸ“¸",color:"text-pink-600",label:"Instagram"},linkedin_messenger:{icon:"ðŸ”—",color:"text-blue-700",label:"LinkedIn"},internal_chat:{icon:"ðŸ‘¥",color:"text-gray-600",label:"Internal"}};function o({email:e,contact:a,onClose:r,onReply:l}){let[n,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(""),[d,x]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[u,g]=(0,s.useState)([]),[p,b]=(0,s.useState)([]),[j,f]=(0,s.useState)([]),y=(0,s.useRef)(null),v=()=>{d.trim()&&!u.includes(d.trim())&&(g([...u,d.trim()]),x(""))},N=()=>{m.trim()&&!p.includes(m.trim())&&(b([...p,m.trim()]),h(""))};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"ðŸ“§"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:e.subject||"(No Subject)"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["inbound"===e.direction?"From":"To",": ",a.firstName," ",a.lastName]})]})]}),(0,t.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"From:"}),(0,t.jsx)("span",{className:"text-gray-900",children:e.fromEmail||e.senderName})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"To:"}),(0,t.jsx)("span",{className:"text-gray-900",children:e.toEmail||"me"})]}),e.cc&&e.cc.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"CC:"}),(0,t.jsx)("span",{className:"text-gray-900",children:e.cc.join(", ")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Date:"}),(0,t.jsx)("span",{className:"text-gray-900",children:new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,t.jsx)("div",{className:"prose max-w-none",children:e.htmlContent?(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:e.htmlContent}}):(0,t.jsx)("p",{className:"whitespace-pre-wrap text-gray-700",children:e.content})}),e.attachments&&e.attachments.length>0&&(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Attachments (",e.attachments.length,")"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.attachments.map(e=>(0,t.jsxs)("a",{href:e.url,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm",target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),(0,t.jsx)("span",{className:"text-gray-700",children:e.name}),(0,t.jsxs)("span",{className:"text-gray-400 text-xs",children:["(",Math.round(e.size/1024)," KB)"]})]},e.id))})]})]}),n?(0,t.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[(0,t.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"CC:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:u.map((e,s)=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full text-xs",children:[e,(0,t.jsx)("button",{onClick:()=>g(u.filter((e,t)=>t!==s)),className:"hover:text-blue-900",children:"Ã—"})]},s))})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"email",value:d,onChange:e=>x(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),v()),placeholder:"Add CC email...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("button",{onClick:v,className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded",children:"Add"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"BCC:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:p.map((e,s)=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gray-100 text-gray-700 rounded-full text-xs",children:[e,(0,t.jsx)("button",{onClick:()=>b(p.filter((e,t)=>t!==s)),className:"hover:text-gray-900",children:"Ã—"})]},s))})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"email",value:m,onChange:e=>h(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),N()),placeholder:"Add BCC email...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("button",{onClick:N,className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded",children:"Add"})]})]})]}),(0,t.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),placeholder:"Type your reply...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),j.length>0&&(0,t.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:j.map(e=>{var s;return(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg text-sm group",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),(0,t.jsx)("span",{className:"text-gray-700 max-w-[150px] truncate",children:e.name}),(0,t.jsxs)("span",{className:"text-gray-400 text-xs",children:["(",(s=e.size)<1024?`${s} B`:s<1048576?`${Math.round(s/1024)} KB`:`${(s/1048576).toFixed(1)} MB`,")"]}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void f(j.filter(e=>e.id!==t))},className:"ml-1 text-gray-400 hover:text-red-500",title:"Remove attachment",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e.id)})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{ref:y,type:"file",multiple:!0,onChange:e=>{let t=e.target.files;t&&f([...j,...Array.from(t).map(e=>({id:`attachment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:e.name,size:e.size,type:e.type,file:e}))]),y.current&&(y.current.value="")},className:"hidden",accept:"*/*"}),(0,t.jsx)("button",{onClick:()=>y.current?.click(),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",title:"Attach file",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),j.length>0&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[j.length," file",1!==j.length?"s":""," attached"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{o.trim()&&(l({content:o,cc:u,bcc:p,attachments:j}),i(!1),c(""),g([]),b([]),f([]))},disabled:!o.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Send Reply"})]})]})]}):(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Reply"]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),"Forward"]})]}),(0,t.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"More options",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]})})}function c(){let[e,c]=(0,s.useState)("conversations"),[d,x]=(0,s.useState)("team"),[m,h]=(0,s.useState)("unread"),[u,g]=(0,s.useState)(l.mockConversations),[p,b]=(0,s.useState)(null),[j,f]=(0,s.useState)([]),[y,v]=(0,s.useState)(""),[N,w]=(0,s.useState)(""),[k,C]=(0,s.useState)("sms"),[L,M]=(0,s.useState)(!1),[S,B]=(0,s.useState)(!1),[$,z]=(0,s.useState)(null),[A,W]=(0,s.useState)({team:!0,my:!1,internal:!1}),D=(0,s.useRef)(null);(0,s.useEffect)(()=>{p&&f(l.mockMessages.filter(e=>e.conversationId===p.id))},[p]),(0,s.useEffect)(()=>{D.current?.scrollIntoView({behavior:"smooth"})},[j]);let I=u.filter(e=>{if(y){let t=y.toLowerCase(),s=`${e.contact.firstName} ${e.contact.lastName}`.toLowerCase(),a=e.contact.email?.toLowerCase()||"",r=e.contact.phone?.toLowerCase()||"";if(!s.includes(t)&&!a.includes(t)&&!r.includes(t))return!1}return("my"!==d||"user-001"===e.assignedTo)&&("internal"!==d||!!e.channels.includes("internal_chat"))&&("unread"!==m||0!==e.unreadCount)&&("starred"!==m||!!e.isStarred)}),T=e=>{let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/864e5);return 0===s?t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):s<7?t.toLocaleDateString("en-US",{month:"short",day:"numeric"}):t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},_=(e,t)=>`${e.charAt(0)}${t.charAt(0)}`.toUpperCase(),E=()=>{N.trim()&&p&&(f([...j,{id:`msg-${Date.now()}`,conversationId:p.id,channel:k,direction:"outbound",content:N,status:"sent",senderId:"user-001",senderName:"Jean Pierre FranÃ§ois",createdAt:new Date().toISOString()}]),w(""))};return(0,t.jsxs)("div",{className:"h-[calc(100vh-8rem)] flex flex-col -m-4 sm:-m-6 lg:-m-8",children:[(0,t.jsxs)("div",{className:"flex-none bg-white border-b border-gray-200 px-4 sm:px-6 lg:px-8 pt-4 sm:pt-6 lg:pt-8",children:[(0,t.jsx)(r.PageHeader,{title:"Conversations",description:"Manage all your customer conversations across multiple channels in one unified inbox",icon:"fa-comments"}),(0,t.jsx)("nav",{className:"flex items-center gap-6 -mb-px",children:n.map(s=>(0,t.jsx)(a.default,{href:s.href,className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${s.id===e?"border-[var(--theme-secondary)] text-[var(--theme-secondary)]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.label},s.id))})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden bg-gray-50",children:[(0,t.jsxs)("div",{className:"w-56 flex-none bg-white border-r border-gray-200 flex flex-col",children:[(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("button",{onClick:()=>M(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"New"]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"border-b border-gray-100",children:[(0,t.jsxs)("button",{onClick:()=>W(e=>({...e,team:!e.team})),className:"w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50",children:[(0,t.jsx)("span",{children:"Team Inbox"}),(0,t.jsx)("svg",{className:`w-4 h-4 transition-transform ${A.team?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),A.team&&(0,t.jsx)("div",{className:"pb-2",children:["unread","recents","starred","all"].map(e=>(0,t.jsx)("button",{onClick:()=>{x("team"),h(e)},className:`w-full text-left px-6 py-1.5 text-sm capitalize ${"team"===d&&m===e?"text-blue-600 bg-blue-50 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"border-b border-gray-100",children:[(0,t.jsxs)("button",{onClick:()=>W(e=>({...e,my:!e.my})),className:"w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50",children:[(0,t.jsx)("span",{children:"My Inbox"}),(0,t.jsx)("svg",{className:`w-4 h-4 transition-transform ${A.my?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),A.my&&(0,t.jsxs)("div",{className:"pb-2",children:[(0,t.jsx)("button",{onClick:()=>{x("my"),h("all")},className:`w-full text-left px-6 py-1.5 text-sm ${"my"===d&&"all"===m?"text-blue-600 bg-blue-50 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:"ðŸ‘¤ Assigned to me"}),["unread","recents","starred","all"].map(e=>(0,t.jsx)("button",{onClick:()=>{x("my"),h(e)},className:`w-full text-left px-6 py-1.5 text-sm capitalize ${"my"===d&&m===e?"text-blue-600 bg-blue-50 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{onClick:()=>W(e=>({...e,internal:!e.internal})),className:"w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50",children:[(0,t.jsx)("span",{children:"ðŸ‘¥ Internal Chat"}),(0,t.jsx)("svg",{className:`w-4 h-4 transition-transform ${A.internal?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),A.internal&&(0,t.jsx)("div",{className:"pb-2",children:["unread","all"].map(e=>(0,t.jsx)("button",{onClick:()=>{x("internal"),h(e)},className:`w-full text-left px-6 py-1.5 text-sm capitalize ${"internal"===d&&m===e?"text-blue-600 bg-blue-50 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"w-80 flex-none bg-white border-r border-gray-200 flex flex-col",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,t.jsx)("input",{type:"text",placeholder:"Search",value:y,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["â˜ ",I.length," results"]}),(0,t.jsxs)("button",{className:"flex items-center gap-1 hover:text-gray-700",children:["Latest-All",(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===I.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[(0,t.jsx)("svg",{className:"w-12 h-12 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,t.jsx)("p",{className:"text-sm",children:"No conversations found"})]}):I.map(e=>{let s=e.channels.includes("email")&&e.lastMessage?.channel==="email",a=l.mockMessages.filter(t=>t.conversationId===e.id&&"email"===t.channel),r=a.length>1?a.length-1:0;return(0,t.jsxs)("div",{onClick:()=>b(e),className:`flex items-start gap-3 px-4 py-3 cursor-pointer border-b border-gray-100 hover:bg-gray-50 transition-colors ${p?.id===e.id?"bg-blue-50":""}`,children:[(0,t.jsx)("div",{className:"flex-none",children:e.contact.avatar?(0,t.jsx)("img",{src:e.contact.avatar,alt:"",className:"w-10 h-10 rounded-full"}):(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold text-sm ${s?"bg-gradient-to-br from-purple-500 to-purple-600":"bg-gradient-to-br from-blue-500 to-blue-600"}`,children:s?"ðŸ“§":_(e.contact.firstName,e.contact.lastName)})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h4",{className:"font-medium text-gray-900 truncate",children:[e.contact.firstName," ",e.contact.lastName]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 flex-none ml-2",children:e.lastMessageAt&&T(e.lastMessageAt)})]}),s&&e.lastMessage?.subject?(0,t.jsx)("div",{className:"mt-0.5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-purple-600",children:"ðŸ“§"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 truncate",children:e.lastMessage.subject}),r>0&&(0,t.jsxs)("span",{className:"flex-none text-xs text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded",children:[r," ",1===r?"reply":"replies"]})]})}):(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-0.5",children:[e.channels.slice(0,2).map(e=>(0,t.jsx)("span",{className:"text-xs",title:i[e].label,children:i[e].icon},e)),(0,t.jsxs)("span",{className:"text-sm text-gray-500 truncate",children:[e.lastMessage?.content.substring(0,30),(e.lastMessage?.content.length||0)>30?"...":""]})]})]}),e.unreadCount>0&&(0,t.jsx)("div",{className:"flex-none",children:(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-blue-600 text-white text-xs font-medium rounded-full",children:e.unreadCount})})]},e.id)})})]}),(0,t.jsx)("div",{className:"flex-1 flex flex-col bg-white",children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex-none flex items-center justify-between px-6 py-3 border-b border-gray-200",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:[p.contact.firstName," ",p.contact.lastName]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{var e;return e=p.id,void g(t=>t.map(t=>t.id===e?{...t,isStarred:!t.isStarred}:t))},className:`p-2 rounded-lg hover:bg-gray-100 ${p.isStarred?"text-yellow-500":"text-gray-400"}`,title:"Star conversation",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:p.isStarred?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,t.jsx)("button",{className:"p-2 rounded-lg hover:bg-gray-100 text-gray-400",title:"Add to contact",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),(0,t.jsx)("button",{className:"p-2 rounded-lg hover:bg-gray-100 text-gray-400",title:"Archive",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),(0,t.jsx)("button",{className:"p-2 rounded-lg hover:bg-gray-100 text-gray-400",title:"More options",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,t.jsx)("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-xs text-gray-500",children:p.lastMessageAt&&new Date(p.lastMessageAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})}),j.map(e=>{var s;return(0,t.jsx)("div",{className:`flex mb-4 ${"outbound"===e.direction?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[70%] ${"outbound"===e.direction?"order-2":"order-1"}`,children:["phone_inbound"===e.channel||"phone_outbound"===e.channel?(0,t.jsxs)("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg ${(e.direction,"bg-gray-100")}`,children:[(0,t.jsx)("span",{className:"text-lg",children:"ðŸ“ž"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"phone_inbound"===e.channel?"Inbound Call":"Outbound Call"}),(s=e.callStatus)?"successful"===s?(0,t.jsx)("span",{className:"text-green-500",children:"âœ“"}):(0,t.jsx)("span",{className:"text-red-500",children:"âœ—"}):null]}):"email"===e.channel?(0,t.jsx)("div",{onClick:()=>z(e),className:`p-4 rounded-xl border cursor-pointer hover:shadow-md transition-all ${"outbound"===e.direction?"bg-purple-50 border-purple-200 hover:border-purple-300":"bg-white border-gray-200 hover:border-purple-300"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex-none w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center text-white text-lg",children:"ðŸ“§"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,t.jsx)("h4",{className:"font-medium text-gray-900 truncate text-sm",children:e.subject||"(No Subject)"})}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"inbound"===e.direction?`From: ${e.senderName}`:`To: ${p.contact.firstName} ${p.contact.lastName}`}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 line-clamp-2",children:[e.content.substring(0,100),e.content.length>100?"...":""]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)("span",{className:"text-xs text-purple-600 font-medium",children:"Click to read full email"}),e.attachments&&e.attachments.length>0&&(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:["ðŸ“Ž ",e.attachments.length]})]})]})]})}):(0,t.jsx)("div",{className:`px-4 py-3 rounded-2xl ${"outbound"===e.direction?"bg-blue-600 text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,children:(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})}),(0,t.jsxs)("div",{className:`flex items-center gap-2 mt-1 text-xs text-gray-400 ${"outbound"===e.direction?"justify-end":""}`,children:[(0,t.jsx)("span",{children:T(e.createdAt)}),"outbound"===e.direction&&(0,t.jsx)("span",{children:"read"===e.status||"delivered"===e.status?"âœ“âœ“":"âœ“"})]})]})},e.id)}),(0,t.jsx)("div",{ref:D})]}),(0,t.jsxs)("div",{className:"flex-none border-t border-gray-200 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 mb-3 border-b border-gray-200 pb-2",children:[["sms","whatsapp","email"].map(e=>(0,t.jsx)("button",{onClick:()=>C(e),className:`px-3 py-1 text-sm font-medium rounded-t transition-colors ${k===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"sms"===e?"SMS":"whatsapp"===e?"WhatsApp":"Email"},e)),(0,t.jsx)("button",{className:"px-3 py-1 text-sm text-gray-500 hover:text-gray-700",children:"Internal Comment"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"From:"}),(0,t.jsx)("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm",children:(0,t.jsx)("option",{children:"No Number Available"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"To:"}),(0,t.jsx)("span",{className:"text-gray-900",children:p.contact.phone||p.contact.email})]})]}),"email"===k&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("input",{type:"text",placeholder:"Subject:",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,t.jsx)("div",{className:"flex items-end gap-2",children:(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("textarea",{value:N,onChange:e=>w(e.target.value),placeholder:"Type a message",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),E())}})})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",title:"Attach file",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),(0,t.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",title:"Insert emoji",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",title:"Use template",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,t.jsx)("span",{className:"text-xs text-gray-400 ml-2",children:"Segs: 0"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm font-medium",children:"Clear"}),(0,t.jsx)("button",{onClick:E,disabled:!N.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"}),(0,t.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",title:"Schedule",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]})]}):(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[(0,t.jsx)("svg",{className:"w-16 h-16 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"Select a conversation"}),(0,t.jsx)("p",{className:"text-sm",children:"Choose a conversation from the list to view messages"})]})}),p&&(0,t.jsxs)("div",{className:"w-72 flex-none bg-white border-l border-gray-200 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold",children:_(p.contact.firstName,p.contact.lastName)}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-900",children:[p.contact.firstName," ",p.contact.lastName]}),(0,t.jsxs)("a",{href:"#",className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:["View Profile",(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",title:"Email",children:"ðŸ“§"}),(0,t.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",title:"Call",children:"ðŸ“ž"})]})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"Contact"}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"ðŸ“§ Email"}),(0,t.jsx)("button",{className:"text-blue-600 text-xs",children:"+"})]}),p.contact.email&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 ml-6",children:["â€¢ ",p.contact.email]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"ðŸ“ž Phone"}),(0,t.jsx)("button",{className:"text-blue-600 text-xs",children:"+"})]}),p.contact.phone&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 ml-6",children:["â€¢ ",p.contact.phone]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"ðŸ‘¤ Owner (Assigned to)"})}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:p.assignedToName||"Unassigned"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"ðŸ‘¥ Followers"})}),(0,t.jsx)("input",{type:"text",placeholder:"Search followers",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"ðŸ·ï¸ Tags"})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:p.contact.tags?.map(e=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded-full",children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"âš¡ Active Automations"})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"No active automations"})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"ðŸ”• DND"}),(0,t.jsx)("span",{className:`text-xs px-2 py-0.5 rounded ${p.contact.dnd?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:p.contact.dnd?"ON":"OFF"})]})})]})]})]}),L&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"New Conversation"}),(0,t.jsx)("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Contact"}),(0,t.jsx)("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:(0,t.jsx)("option",{value:"",children:"Search contacts..."})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Channel"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["sms","email","whatsapp"].map(e=>(0,t.jsxs)("button",{className:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 capitalize",children:[i[e].icon," ",e]},e))})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 p-4 border-t border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>M(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Start Conversation"})]})]})}),$&&p&&(0,t.jsx)(o,{email:$,contact:p.contact,onClose:()=>z(null),onReply:e=>{let t=e.attachments.map(e=>({id:e.id,name:e.name,size:e.size,type:e.type,url:URL.createObjectURL(e.file)}));f([...j,{id:`msg-${Date.now()}`,conversationId:p.id,channel:"email",direction:"outbound",content:e.content,subject:`Re: ${$.subject||"(No Subject)"}`,status:"sent",senderId:"user-001",senderName:"Jean Pierre FranÃ§ois",fromEmail:"jp@buzgrowth.digital",toEmail:p.contact.email||"",cc:e.cc,bcc:e.bcc,attachments:t.length>0?t:void 0,createdAt:new Date().toISOString()}]),z(null)}})]})}e.s(["default",()=>c])}]);