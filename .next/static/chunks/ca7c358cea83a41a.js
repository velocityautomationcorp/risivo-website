(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4689,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),l=e.i(22016);function r(){let e=(0,a.useParams)(),r=(0,a.useRouter)(),i=e?.contactId,n=Array.isArray(i)?i[0]:i,o="sub-001",[d,c]=(0,s.useState)(null),[x,m]=(0,s.useState)(!0),[h,u]=(0,s.useState)(""),[p,j]=(0,s.useState)(!1),[b,v]=(0,s.useState)(!1),[f,g]=(0,s.useState)("overview"),[N,w]=(0,s.useState)([]),[y,k]=(0,s.useState)([]),[L,C]=(0,s.useState)([]),[S,M]=(0,s.useState)([]),[A,D]=(0,s.useState)(!1),[B,z]=(0,s.useState)(!1),[T,W]=(0,s.useState)(!1),[V,$]=(0,s.useState)(!1),[I,H]=(0,s.useState)(""),[O,F]=(0,s.useState)(!1),E=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)||/^[a-zA-Z0-9_-]+$/.test(e);(0,s.useEffect)(()=>{console.log("ContactDetailsPage - contactId:",n,"type:",typeof n,"length:",n?.length),n&&"undefined"!==n&&"string"==typeof n&&E(n)&&o?(console.log("Fetching contact with valid ID:",n),P()):(m(!1),n&&"undefined"!==n?E(n)?u("Invalid contact ID"):(u(`Invalid contact ID format: ${n}`),console.error("Invalid contactId format:",n,"isValidId:",E(n))):u("Contact ID is missing. Please return to the contacts list and try again."))},[n,o]);let P=async()=>{try{m(!0);let l=await fetch(`/api/v1/contacts/${n}?subAccountId=${o}`),r=await l.json();if(r.success){var e,t,s,a;let l,i;c(r.data.contact),w((e=r.data.contact,l=[{id:"1",type:"created",title:"Contact Created",description:`${e.firstName} ${e.lastName} was added to your CRM`,createdAt:e.createdAt,createdBy:"System"}],"new"!==e.status&&l.push({id:"2",type:"status_change",title:"Status Changed",description:`Status changed to "${e.status}"`,metadata:{fromStatus:"new",toStatus:e.status},createdAt:new Date(new Date(e.createdAt).getTime()+864e5).toISOString(),createdBy:"John Smith"}),e.lastActivityAt&&l.push({id:"3",type:"email",title:"Email Sent",description:"Welcome email sent successfully",metadata:{subject:"Welcome to our platform!"},createdAt:new Date(new Date(e.createdAt).getTime()+1728e5).toISOString(),createdBy:"Sarah Johnson"}),e.phone&&l.push({id:"4",type:"call",title:"Phone Call",description:"Introductory call - Discussed needs and requirements",metadata:{duration:"15 minutes",outcome:"Positive"},createdAt:new Date(new Date(e.createdAt).getTime()+2592e5).toISOString(),createdBy:"Mike Chen"}),e.tags&&e.tags.length>0&&l.push({id:"5",type:"tag_added",title:"Tags Added",description:`Added tags: ${e.tags.join(", ")}`,createdAt:new Date(new Date(e.createdAt).getTime()+3456e5).toISOString(),createdBy:"John Smith"}),e.notes&&l.push({id:"6",type:"note",title:"Note Added",description:e.notes.substring(0,100)+(e.notes.length>100?"...":""),createdAt:new Date(new Date(e.createdAt).getTime()+432e6).toISOString(),createdBy:"Sarah Johnson"}),l.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()))),k((t=r.data.contact,"customer"===t.status||"qualified"===t.status?[{id:"opp-1",name:`${t.company||t.firstName} - Enterprise Plan`,value:12500,stage:"customer"===t.status?"Closed Won":"Proposal",status:"customer"===t.status?"won":"open",probability:"customer"===t.status?100:75,expectedCloseDate:new Date(Date.now()+2592e6).toISOString(),createdAt:t.createdAt}]:[])),C((s=r.data.contact,i=[],"new"===s.status&&i.push({id:"task-1",title:"Send welcome email",description:"Send personalized welcome email with onboarding information",dueDate:new Date(Date.now()+1728e5).toISOString(),status:"pending",priority:"high",assignedTo:"John Smith"}),("contacted"===s.status||"qualified"===s.status)&&i.push({id:"task-2",title:"Follow up call",description:"Schedule a follow-up call to discuss next steps",dueDate:new Date(Date.now()+432e6).toISOString(),status:"pending",priority:"medium",assignedTo:"Sarah Johnson"}),i)),M((a=r.data.contact,"qualified"===a.status||"customer"===a.status?[{id:"appt-1",title:"Discovery Call",startTime:new Date(Date.now()+6048e5).toISOString(),endTime:new Date(Date.now()+6048e5+36e5).toISOString(),status:"scheduled",location:"Zoom Meeting",notes:"Discuss requirements and pricing options"}]:[]))}else u(r.error||"Failed to load contact")}catch(e){console.error("Failed to fetch contact:",e),u("Failed to load contact")}finally{m(!1)}},J=async()=>{try{v(!0);let e=await fetch(`/api/v1/contacts/${n}?subAccountId=${o}`,{method:"DELETE"}),t=await e.json();t.success?r.push("/sub-account/contacts"):u(t.error||"Failed to delete contact")}catch(e){console.error("Failed to delete contact:",e),u("Failed to delete contact")}finally{v(!1),j(!1)}},_=async()=>{if(I.trim()){F(!0);try{let e={id:`note-${Date.now()}`,type:"note",title:"Note Added",description:I,createdAt:new Date().toISOString(),createdBy:"You"};w([e,...N]),H(""),W(!1)}catch(e){console.error("Failed to add note:",e)}finally{F(!1)}}},q=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),U=e=>{let t=new Date(e),s=Math.floor(Math.floor((new Date().getTime()-t.getTime())/1e3)/60),a=Math.floor(s/60),l=Math.floor(a/24);return l>7?q(e):l>0?`${l}d ago`:a>0?`${a}h ago`:s>0?`${s}m ago`:"Just now"};return x?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-slate-200 border-t-violet-600"}),(0,t.jsx)("p",{className:"mt-4 text-slate-600 font-medium",children:"Loading contact..."})]})}):h||!d?(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-6 py-4 rounded-2xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Error"}),(0,t.jsx)("p",{children:h||"Contact not found"}),(0,t.jsx)(l.default,{href:"/sub-account/contacts",className:"inline-block mt-4 text-red-600 hover:text-red-800 font-medium",children:"â† Back to Contacts"})]})}):(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)(l.default,{href:"/sub-account/contacts",className:"text-violet-600 hover:text-violet-800 font-medium mb-4 inline-flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Contacts"]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden mt-4",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-violet-600 to-purple-600 px-6 py-8",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"w-20 h-20 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-white text-2xl font-bold",children:[d.firstName[0],d.lastName[0]]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:[d.firstName," ",d.lastName]}),(0,t.jsx)("p",{className:"text-violet-100 mt-1",children:d.email}),d.company&&(0,t.jsxs)("p",{className:"text-violet-200 text-sm mt-1",children:[d.jobTitle&&`${d.jobTitle} at `,d.company]})]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,t.jsx)("span",{className:`px-4 py-2 rounded-xl text-sm font-semibold capitalize border ${(e=>{switch(e){case"new":return"bg-blue-100 text-blue-800 border-blue-200";case"contacted":return"bg-amber-100 text-amber-800 border-amber-200";case"qualified":return"bg-purple-100 text-purple-800 border-purple-200";case"customer":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"lost":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(d.status)}`,children:d.status})})]})}),(0,t.jsxs)("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200 flex flex-wrap gap-3",children:[(0,t.jsxs)("button",{onClick:()=>D(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email"]}),d.phone&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("a",{href:`tel:${d.phone}`,className:"px-4 py-2 bg-emerald-600 text-white rounded-xl font-medium hover:bg-emerald-700 transition-colors inline-flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Call"]}),(0,t.jsxs)("button",{onClick:()=>z(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-colors inline-flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"SMS"]})]}),(0,t.jsxs)("button",{onClick:()=>W(!0),className:"px-4 py-2 bg-amber-600 text-white rounded-xl font-medium hover:bg-amber-700 transition-colors inline-flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Add Note"]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)("button",{onClick:()=>r.push(`/sub-account/contacts#edit-${n}`),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-xl font-medium hover:bg-slate-100 transition-colors inline-flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,t.jsxs)("button",{onClick:()=>j(!0),className:"px-4 py-2 border border-red-300 text-red-600 rounded-xl font-medium hover:bg-red-50 transition-colors inline-flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 mb-6",children:(0,t.jsx)("nav",{className:"flex overflow-x-auto",children:[{id:"overview",label:"Overview",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"activity",label:"Activity",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",count:N.length},{id:"opportunities",label:"Opportunities",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",count:y.length},{id:"tasks",label:"Tasks",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4",count:L.length},{id:"appointments",label:"Appointments",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",count:S.length}].map(e=>(0,t.jsxs)("button",{onClick:()=>g(e.id),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ${f===e.id?"border-violet-600 text-violet-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:e.icon})}),e.label,void 0!==e.count&&e.count>0&&(0,t.jsx)("span",{className:`px-2 py-0.5 text-xs rounded-full ${f===e.id?"bg-violet-100 text-violet-700":"bg-slate-100 text-slate-600"}`,children:e.count})]},e.id))})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:["overview"===f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Contact Information"})}),(0,t.jsx)("div",{className:"p-6 space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-500",children:"Email"}),(0,t.jsx)("p",{className:"text-slate-900 mt-1",children:d.email})]}),d.phone&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-500",children:"Phone"}),(0,t.jsx)("p",{className:"text-slate-900 mt-1",children:d.phone})]}),d.company&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-500",children:"Company"}),(0,t.jsx)("p",{className:"text-slate-900 mt-1",children:d.company})]}),d.jobTitle&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-500",children:"Job Title"}),(0,t.jsx)("p",{className:"text-slate-900 mt-1",children:d.jobTitle})]}),d.website&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-500",children:"Website"}),(0,t.jsx)("a",{href:d.website,target:"_blank",rel:"noopener noreferrer",className:"text-violet-600 hover:text-violet-800 mt-1 inline-block",children:d.website})]}),d.source&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-500",children:"Source"}),(0,t.jsx)("p",{className:"text-slate-900 mt-1 capitalize",children:d.source})]})]})})]}),(d.address||d.city||d.state||d.zipCode||d.country)&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Address"})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-1 text-slate-900",children:[d.address&&(0,t.jsx)("p",{children:d.address}),(d.city||d.state||d.zipCode)&&(0,t.jsxs)("p",{children:[d.city,d.city&&d.state&&", ",d.state," ",d.zipCode]}),d.country&&(0,t.jsx)("p",{children:d.country})]})})]}),d.notes&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Notes"})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("p",{className:"text-slate-700 whitespace-pre-wrap",children:d.notes})})]})]}),"activity"===f&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Activity Timeline"}),(0,t.jsx)("button",{onClick:()=>W(!0),className:"px-4 py-2 text-sm bg-violet-100 text-violet-700 rounded-lg hover:bg-violet-200 font-medium",children:"+ Add Activity"})]}),(0,t.jsx)("div",{className:"p-6",children:0===N.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No activity yet"}),(0,t.jsx)("p",{className:"text-slate-600",children:"Start interacting with this contact to see activity here"})]}):(0,t.jsx)("div",{className:"space-y-4",children:N.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(e=>{switch(e){case"email":return(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})});case"sms":return(0,t.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})});case"call":return(0,t.jsx)("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})});case"note":return(0,t.jsx)("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})});case"task":return(0,t.jsx)("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})});case"appointment":return(0,t.jsx)("div",{className:"w-8 h-8 bg-cyan-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})});case"deal":return(0,t.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"status_change":return(0,t.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})});case"tag_added":case"tag_removed":return(0,t.jsx)("div",{className:"w-8 h-8 bg-pink-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})});case"created":return(0,t.jsx)("div",{className:"w-8 h-8 bg-violet-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})});default:return(0,t.jsx)("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}})(e.type),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-slate-900",children:e.title}),e.description&&(0,t.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:e.description}),e.createdBy&&(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["by ",e.createdBy]})]}),(0,t.jsx)("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:U(e.createdAt)})]})})]},e.id))})})]}),"opportunities"===f&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Opportunities"}),(0,t.jsx)("button",{className:"px-4 py-2 text-sm bg-violet-100 text-violet-700 rounded-lg hover:bg-violet-200 font-medium",children:"+ Add Opportunity"})]}),(0,t.jsx)("div",{className:"p-6",children:0===y.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No opportunities yet"}),(0,t.jsx)("p",{className:"text-slate-600",children:"Create an opportunity to track potential deals"})]}):(0,t.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,t.jsx)("div",{className:"p-4 border border-slate-200 rounded-xl hover:border-violet-300 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-slate-900",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:["Stage: ",e.stage]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-lg font-bold text-slate-900",children:["$",e.value.toLocaleString()]}),(0,t.jsxs)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${"won"===e.status?"bg-emerald-100 text-emerald-700":"lost"===e.status?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:[e.probability,"% probability"]})]})]})},e.id))})})]}),"tasks"===f&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Tasks"}),(0,t.jsx)("button",{onClick:()=>$(!0),className:"px-4 py-2 text-sm bg-violet-100 text-violet-700 rounded-lg hover:bg-violet-200 font-medium",children:"+ Add Task"})]}),(0,t.jsx)("div",{className:"p-6",children:0===L.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No tasks yet"}),(0,t.jsx)("p",{className:"text-slate-600",children:"Create a task to track follow-ups"})]}):(0,t.jsx)("div",{className:"space-y-3",children:L.map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-3 p-4 border border-slate-200 rounded-xl",children:[(0,t.jsx)("input",{type:"checkbox",checked:"completed"===e.status,className:"mt-1 w-5 h-5 rounded border-slate-300 text-violet-600 focus:ring-violet-500",onChange:()=>{}}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium text-slate-900",children:e.title}),e.description&&(0,t.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-xs",children:[e.dueDate&&(0,t.jsxs)("span",{className:"text-slate-500",children:["Due: ",q(e.dueDate)]}),(0,t.jsx)("span",{className:`px-2 py-0.5 rounded font-medium ${"high"===e.priority?"bg-red-100 text-red-700":"medium"===e.priority?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-700"}`,children:e.priority})]})]})]},e.id))})})]}),"appointments"===f&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Appointments"}),(0,t.jsx)("button",{className:"px-4 py-2 text-sm bg-violet-100 text-violet-700 rounded-lg hover:bg-violet-200 font-medium",children:"+ Schedule"})]}),(0,t.jsx)("div",{className:"p-6",children:0===S.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No appointments scheduled"}),(0,t.jsx)("p",{className:"text-slate-600",children:"Schedule a meeting with this contact"})]}):(0,t.jsx)("div",{className:"space-y-3",children:S.map(e=>(0,t.jsx)("div",{className:"p-4 border border-slate-200 rounded-xl",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-slate-900",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:new Date(e.startTime).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}),e.location&&(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:e.location})]}),(0,t.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${"scheduled"===e.status?"bg-blue-100 text-blue-700":"completed"===e.status?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-700"}`,children:e.status})]})},e.id))})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Lead Score"})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-violet-500 to-purple-600",children:(0,t.jsx)("span",{className:"text-3xl font-bold text-white",children:d.score})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-violet-600 to-purple-600 rounded-full transition-all",style:{width:`${d.score}%`}})})})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Tags"}),(0,t.jsx)("button",{className:"text-violet-600 hover:text-violet-700 text-sm font-medium",children:"+ Add"})]}),(0,t.jsx)("div",{className:"p-6",children:d.tags&&d.tags.length>0?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:d.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-3 py-1 bg-violet-100 text-violet-700 rounded-full text-sm font-medium",children:e},s))}):(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"No tags added"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Summary"})}),(0,t.jsxs)("div",{className:"p-6 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Created"}),(0,t.jsx)("span",{className:"font-medium text-slate-900",children:q(d.createdAt)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Last Updated"}),(0,t.jsx)("span",{className:"font-medium text-slate-900",children:q(d.updatedAt)})]}),d.lastActivityAt&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Last Activity"}),(0,t.jsx)("span",{className:"font-medium text-slate-900",children:U(d.lastActivityAt)})]}),(0,t.jsx)("hr",{className:"border-slate-200"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Opportunities"}),(0,t.jsx)("span",{className:"font-medium text-slate-900",children:y.length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Tasks"}),(0,t.jsx)("span",{className:"font-medium text-slate-900",children:L.length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Appointments"}),(0,t.jsx)("span",{className:"font-medium text-slate-900",children:S.length})]})]})]})]})]}),T&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Add Note"})]}),(0,t.jsx)("button",{onClick:()=>{W(!1),H("")},className:"text-white hover:bg-white/20 rounded-lg p-2",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsx)("textarea",{value:I,onChange:e=>H(e.target.value),placeholder:"Write your note here...",rows:6,className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",autoFocus:!0}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{W(!1),H("")},className:"flex-1 px-4 py-3 border border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 font-medium",children:"Cancel"}),(0,t.jsx)("button",{onClick:_,disabled:!I.trim()||O,className:"flex-1 px-4 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl font-medium hover:from-amber-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Saving...":"Add Note"})]})]})]})}),p&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-red-600 to-rose-600 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Delete Contact"})]}),(0,t.jsx)("button",{onClick:()=>j(!1),className:"text-white hover:bg-white/20 rounded-lg p-2",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("p",{className:"text-slate-700 mb-6",children:["Are you sure you want to delete ",(0,t.jsxs)("span",{className:"font-semibold",children:[d.firstName," ",d.lastName]}),"? This action cannot be undone."]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>j(!1),disabled:b,className:"flex-1 px-4 py-3 border border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 font-medium",children:"Cancel"}),(0,t.jsx)("button",{onClick:J,disabled:b,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-600 to-rose-600 text-white rounded-xl font-medium hover:from-red-700 hover:to-rose-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Deleting...":"Delete"})]})]})]})})]})}e.s(["default",()=>r])}]);