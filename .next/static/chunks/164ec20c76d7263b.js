(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89439,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016);let r=[{id:"tick-001",subject:"Unable to access dashboard",description:"Getting 404 error when trying to access the main dashboard",status:"Open",priority:"High",category:"Technical",companyId:"comp-001",companyName:"Tech Solutions Inc.",subAccountId:"sub-001",subAccountName:"Sales Team",submitter:{name:"Mike Davis",email:"mike@techsolutions.com"},createdAt:"2024-12-08 09:15",updatedAt:"2024-12-08 09:15"},{id:"tick-002",subject:"Payment method update needed",description:"Need to update credit card information for billing",status:"Open",priority:"Medium",category:"Billing",companyId:"comp-002",companyName:"Digital Marketing Pro",submitter:{name:"Sarah Johnson",email:"sarah@digitalmarketing.com"},createdAt:"2024-12-08 08:30",updatedAt:"2024-12-08 08:30"},{id:"tick-003",subject:"Feature request: Custom reports",description:"Would like to have custom report builder functionality",status:"Open",priority:"Low",category:"Feature Request",companyId:"comp-003",companyName:"Creative Agency Co.",submitter:{name:"Michael Chen",email:"michael@creativeagency.com"},createdAt:"2024-12-08 07:45",updatedAt:"2024-12-08 07:45"},{id:"tick-004",subject:"User permissions not working",description:"Sub-account users cannot access certain features they should have access to",status:"Open",priority:"Urgent",category:"Technical",companyId:"comp-004",companyName:"Global Enterprises",subAccountId:"sub-015",subAccountName:"North America",submitter:{name:"Patricia Davis",email:"patricia@globalenterprises.com"},assignedTo:{name:"Admin Team",email:"admin@risivo.com"},createdAt:"2024-12-08 06:20",updatedAt:"2024-12-08 10:15",lastReply:"2024-12-08 10:15"},{id:"tick-005",subject:"Slow loading times",description:"Dashboard takes 10+ seconds to load",status:"In Progress",priority:"High",category:"Performance",companyId:"comp-005",companyName:"StartupHub Accelerator",submitter:{name:"David Park",email:"david@startuphub.com"},assignedTo:{name:"Tech Support",email:"tech@risivo.com"},createdAt:"2024-12-07 16:30",updatedAt:"2024-12-08 11:20",lastReply:"2024-12-08 11:20"},{id:"tick-006",subject:"Data export issue",description:"Cannot export user data to CSV format",status:"In Progress",priority:"Medium",category:"Technical",companyId:"comp-006",companyName:"HealthTech Innovations",submitter:{name:"Dr. Lisa Wong",email:"lisa@healthtech.com"},assignedTo:{name:"Development Team",email:"dev@risivo.com"},createdAt:"2024-12-07 14:15",updatedAt:"2024-12-08 09:45",lastReply:"2024-12-08 09:45"},{id:"tick-007",subject:"Integration with third-party API",description:"Need help setting up API integration with Salesforce",status:"In Progress",priority:"Medium",category:"Integration",companyId:"comp-007",companyName:"EduLearn Platform",submitter:{name:"Prof. Robert Taylor",email:"robert@edulearn.com"},assignedTo:{name:"Integration Team",email:"integrations@risivo.com"},createdAt:"2024-12-07 11:50",updatedAt:"2024-12-08 08:30",lastReply:"2024-12-08 08:30"},{id:"tick-008",subject:"Password reset not working",description:"Password reset emails are not being received",status:"Resolved",priority:"High",category:"Account",companyId:"comp-008",companyName:"FinServe Solutions",submitter:{name:"James Martinez",email:"james@finserve.com"},assignedTo:{name:"Support Team",email:"support@risivo.com"},createdAt:"2024-12-06 15:20",updatedAt:"2024-12-07 10:30",lastReply:"2024-12-07 10:30"},{id:"tick-009",subject:"Invoice discrepancy",description:"Last month invoice shows incorrect amount",status:"Resolved",priority:"High",category:"Billing",companyId:"comp-009",companyName:"RetailConnect Corp",submitter:{name:"Amanda Wilson",email:"amanda@retailconnect.com"},assignedTo:{name:"Billing Team",email:"billing@risivo.com"},createdAt:"2024-12-06 13:45",updatedAt:"2024-12-07 09:15",lastReply:"2024-12-07 09:15"},{id:"tick-010",subject:"Email notifications not arriving",description:"Not receiving any email notifications from the platform",status:"Resolved",priority:"Medium",category:"Technical",companyId:"comp-010",companyName:"GreenEnergy Systems",submitter:{name:"Carlos Rodriguez",email:"carlos@greenenergy.com"},assignedTo:{name:"Tech Support",email:"tech@risivo.com"},createdAt:"2024-12-06 10:30",updatedAt:"2024-12-07 08:45",lastReply:"2024-12-07 08:45"},{id:"tick-011",subject:"Training session request",description:"Would like to schedule training for new team members",status:"Closed",priority:"Low",category:"Training",companyId:"comp-001",companyName:"Tech Solutions Inc.",submitter:{name:"John Smith",email:"john@techsolutions.com"},assignedTo:{name:"Training Team",email:"training@risivo.com"},createdAt:"2024-12-05 14:20",updatedAt:"2024-12-06 16:30",lastReply:"2024-12-06 16:30"},{id:"tick-012",subject:"General inquiry about features",description:"Questions about upcoming features and roadmap",status:"Closed",priority:"Low",category:"General",companyId:"comp-002",companyName:"Digital Marketing Pro",submitter:{name:"Sarah Johnson",email:"sarah@digitalmarketing.com"},assignedTo:{name:"Customer Success",email:"success@risivo.com"},createdAt:"2024-12-05 11:15",updatedAt:"2024-12-06 14:20",lastReply:"2024-12-06 14:20"}];function i(){let[e]=(0,s.useState)(r),[i,l]=(0,s.useState)(""),[o,n]=(0,s.useState)("all"),[d,c]=(0,s.useState)("all"),[m,p]=(0,s.useState)("all"),[u,x]=(0,s.useState)("all"),[g,h]=(0,s.useState)("created"),[y,b]=(0,s.useState)("desc"),[j,v]=(0,s.useState)(1),[N,f]=(0,s.useState)([]),w=Array.from(new Set(e.map(e=>e.companyName))).sort(),A=Array.from(new Set(e.map(e=>e.category))).sort(),k=[...e.filter(e=>{let t=e.subject.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())||e.companyName.toLowerCase().includes(i.toLowerCase())||e.submitter.name.toLowerCase().includes(i.toLowerCase())||e.submitter.email.toLowerCase().includes(i.toLowerCase()),s="all"===o||e.status===o,a="all"===d||e.priority===d,r="all"===m||e.category===m,l="all"===u||e.companyName===u;return t&&s&&a&&r&&l})].sort((e,t)=>{let s=0;if("created"===g)s=new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();else if("updated"===g)s=new Date(e.updatedAt).getTime()-new Date(t.updatedAt).getTime();else if("priority"===g){let a={Urgent:4,High:3,Medium:2,Low:1};s=a[e.priority]-a[t.priority]}return"asc"===y?s:-s}),C=Math.ceil(k.length/10),T=(j-1)*10,S=k.slice(T,T+10),I={total:e.length,open:e.filter(e=>"Open"===e.status).length,inProgress:e.filter(e=>"In Progress"===e.status).length,resolved:e.filter(e=>"Resolved"===e.status).length,closed:e.filter(e=>"Closed"===e.status).length,urgent:e.filter(e=>"Urgent"===e.priority).length};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("nav",{className:"flex items-center text-sm text-gray-500 mb-2",children:[(0,t.jsx)(a.default,{href:"/sub-account/platform-admin",className:"hover:text-gray-700",children:"Platform Admin"}),(0,t.jsx)("span",{className:"mx-2",children:"/"}),(0,t.jsx)("span",{className:"text-gray-900",children:"Support Tickets"})]}),(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"ðŸŽ«"}),"Support Tickets"]}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Manage and respond to customer support requests"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"âž•"}),"Create Ticket"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:I.total}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Total"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:I.open}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Open"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:I.inProgress}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"In Progress"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:I.resolved}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Resolved"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:I.closed}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Closed"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:I.urgent}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Urgent"})]})]}),N.length>0&&(0,t.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-purple-800",children:[N.length," ticket",N.length>1?"s":""," selected"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"px-3 py-1.5 bg-yellow-600 text-white rounded-lg text-sm hover:bg-yellow-700",children:"Assign"}),(0,t.jsx)("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700",children:"Resolve"}),(0,t.jsx)("button",{className:"px-3 py-1.5 bg-gray-600 text-white rounded-lg text-sm hover:bg-gray-700",children:"Close"}),(0,t.jsx)("button",{className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Export"}),(0,t.jsx)("button",{onClick:()=>f([]),className:"px-3 py-1.5 bg-white text-gray-700 border border-gray-300 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,t.jsx)("input",{type:"text",placeholder:"Search tickets, companies, submitters...",value:i,onChange:e=>l(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),(0,t.jsxs)("select",{value:o,onChange:e=>n(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"Open",children:"Open"}),(0,t.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,t.jsx)("option",{value:"Resolved",children:"Resolved"}),(0,t.jsx)("option",{value:"Closed",children:"Closed"})]}),(0,t.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Priorities"}),(0,t.jsx)("option",{value:"Urgent",children:"Urgent"}),(0,t.jsx)("option",{value:"High",children:"High"}),(0,t.jsx)("option",{value:"Medium",children:"Medium"}),(0,t.jsx)("option",{value:"Low",children:"Low"})]}),(0,t.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Categories"}),A.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-between",children:[(0,t.jsxs)("select",{value:u,onChange:e=>x(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Companies"}),w.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Sort by:"}),["created","updated","priority"].map(e=>(0,t.jsxs)("button",{onClick:()=>{g===e?b("asc"===y?"desc":"asc"):(h(e),b("desc"))},className:`px-3 py-1.5 rounded-lg text-sm ${g===e?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.charAt(0).toUpperCase()+e.slice(1),g===e&&("asc"===y?" â†‘":" â†“")]},e))]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left",children:(0,t.jsx)("input",{type:"checkbox",checked:N.length===S.length&&S.length>0,onChange:()=>{N.length===S.length?f([]):f(S.map(e=>e.id))},className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"})}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Company"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Submitter"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Created"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:S.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)("input",{type:"checkbox",checked:N.includes(e.id),onChange:()=>{var t;return t=e.id,void f(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsxs)(a.default,{href:`/sub-account/platform-admin/support/${e.id}`,className:"hover:underline",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.subject}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.id}),(0,t.jsx)("div",{className:"text-xs text-purple-600",children:e.category})]})}),(0,t.jsxs)("td",{className:"px-4 py-4",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.companyName}),e.subAccountName&&(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["ðŸ“ ",e.subAccountName]})]}),(0,t.jsxs)("td",{className:"px-4 py-4",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.submitter.name}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.submitter.email})]}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(e=>{switch(e){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(e.priority)}`,children:e.priority})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(e=>{switch(e){case"Open":return"bg-blue-100 text-blue-800";case"In Progress":return"bg-yellow-100 text-yellow-800";case"Resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"px-4 py-4",children:e.assignedTo?(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:e.assignedTo.name})}):(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Unassigned"})}),(0,t.jsxs)("td",{className:"px-4 py-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-900",children:e.createdAt}),e.lastReply&&(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Reply: ",e.lastReply]})]}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)(a.default,{href:`/sub-account/platform-admin/support/${e.id}`,className:"px-3 py-1 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700",children:"View"})})]},e.id))})]})}),(0,t.jsxs)("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",T+1," to ",Math.min(T+10,k.length)," of ",k.length," tickets"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>v(e=>Math.max(1,e-1)),disabled:1===j,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(C,5)},(e,s)=>{let a=s+1;return(0,t.jsx)("button",{onClick:()=>v(a),className:`px-3 py-1 rounded-lg text-sm ${j===a?"bg-purple-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:a},a)}),(0,t.jsx)("button",{onClick:()=>v(e=>Math.min(C,e+1)),disabled:j===C,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}e.s(["default",()=>i])}]);