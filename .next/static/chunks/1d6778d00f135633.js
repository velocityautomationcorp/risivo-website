(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18869,e=>{"use strict";var a=e.i(43476),r=e.i(71645);function s(){var e,s;let[t,l]=(0,r.useState)(!0),[i,o]=(0,r.useState)(!1),[n,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)("profile"),[u,x]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[p,h]=(0,r.useState)(null),b=(0,r.useRef)(null),[y,v]=(0,r.useState)({id:"",firstName:"",lastName:"",email:"",phone:"",avatar:null,role:"",timezone:"America/New_York",language:"en",dateFormat:"MM/DD/YYYY",timeFormat:"12h",notifications:{email:!0,sms:!0,push:!0,desktop:!1},twoFactorEnabled:!1,lastLoginAt:null,createdAt:new Date().toISOString()}),[j,N]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[w,k]=(0,r.useState)(""),[P,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{F()},[]);let F=async()=>{try{l(!0);let e=await fetch("/api/user/profile",{credentials:"include",cache:"no-store"}),a=await e.json();console.log("[Profile] Fetched profile data:",a),a.success&&a.profile?v(e=>({...e,id:a.profile.id,firstName:a.profile.firstName||"",lastName:a.profile.lastName||"",email:a.profile.email||"",phone:a.profile.phone||"",avatar:a.profile.avatar,role:a.profile.role||"user",timezone:a.profile.timezone||"America/New_York",language:a.profile.language||"en",lastLoginAt:a.profile.lastLoginAt,createdAt:a.profile.createdAt})):(console.error("[Profile] Failed to fetch:",a.error),A("error",a.error||"Failed to load profile"))}catch(e){console.error("Failed to fetch profile:",e),A("error","Failed to load profile")}finally{l(!1)}},A=(e,a)=>{h({type:e,text:a}),setTimeout(()=>h(null),5e3)},S=async()=>{o(!0);try{console.log("[Profile] Saving profile:",{firstName:y.firstName,lastName:y.lastName,phone:y.phone,timezone:y.timezone,language:y.language});let e=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({firstName:y.firstName,lastName:y.lastName,phone:y.phone,timezone:y.timezone,language:y.language,dateFormat:y.dateFormat,timeFormat:y.timeFormat})}),a=await e.json();console.log("[Profile] Save response:",a),a.success?(A("success","Profile updated successfully!"),a.profile&&v(e=>({...e,firstName:a.profile.firstName||e.firstName,lastName:a.profile.lastName||e.lastName,phone:a.profile.phone||"",timezone:a.profile.timezone||e.timezone,language:a.profile.language||e.language}))):A("error",a.error||"Failed to update profile")}catch(e){console.error("Save profile error:",e),A("error","Failed to save profile")}finally{o(!1)}},T=async()=>{if(k(""),!j.currentPassword||!j.newPassword||!j.confirmPassword)return void k("All fields are required");if(j.newPassword!==j.confirmPassword)return void k("New passwords do not match");if(j.newPassword.length<8)return void k("Password must be at least 8 characters");C(!0);try{let e,a=await fetch("/api/user/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j),credentials:"include",cache:"no-store"}),r=await a.text();try{e=r?JSON.parse(r):{}}catch{console.error("Failed to parse password response:",r),k("Server error. Please try again.");return}e.success?(A("success","Password changed successfully!"),x(!1),N({currentPassword:"",newPassword:"",confirmPassword:""})):k(e.error||"Failed to change password")}catch(e){console.error("Change password error:",e),k("Failed to change password. Please try again.")}finally{C(!1)}},Y=()=>{b.current?.click()},M=async e=>{let a=e.target.files?.[0];if(a){if(!["image/jpeg","image/png","image/gif","image/webp"].includes(a.type))return void A("error","Invalid file type. Only JPG, PNG, GIF, and WebP are allowed.");if(a.size>5242880)return void A("error","File too large. Maximum size is 5MB.");c(!0),g(!1);try{let e=new FormData;e.append("avatar",a);let r=await fetch("/api/user/avatar",{method:"POST",body:e,credentials:"include"}),s=await r.json();s.success?(v(e=>({...e,avatar:s.avatarUrl})),A("success","Avatar uploaded successfully!")):A("error",s.error||"Failed to upload avatar")}catch(e){console.error("Avatar upload error:",e),A("error","Failed to upload avatar")}finally{c(!1),b.current&&(b.current.value="")}}},E=async()=>{try{let e=await fetch("/api/user/avatar",{method:"DELETE",credentials:"include"}),a=await e.json();a.success?(v(e=>({...e,avatar:null})),A("success","Avatar removed successfully!"),g(!1)):A("error",a.error||"Failed to remove avatar")}catch(e){console.error("Remove avatar error:",e),A("error","Failed to remove avatar")}},D=async()=>{v(e=>({...e,twoFactorEnabled:!e.twoFactorEnabled})),A("success",y.twoFactorEnabled?"2FA disabled":"2FA enabled")};return t?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("input",{type:"file",ref:b,onChange:M,accept:"image/jpeg,image/png,image/gif,image/webp",className:"hidden"}),p&&(0,a.jsx)("div",{className:`p-4 rounded-lg ${"success"===p.type?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:`fas ${"success"===p.type?"fa-check-circle":"fa-exclamation-circle"}`}),p.text]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your personal information and preferences"})]}),(0,a.jsxs)("button",{onClick:S,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[i&&(0,a.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i?"Saving...":"Save Changes"]})]}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"flex gap-8",children:[{id:"profile",label:"Profile",icon:"fas fa-user"},{id:"security",label:"Security",icon:"fas fa-shield-alt"},{id:"notifications",label:"Notifications",icon:"fas fa-bell"}].map(e=>(0,a.jsxs)("button",{onClick:()=>m(e.id),className:`pb-4 px-1 border-b-2 transition-colors flex items-center gap-2 ${d===e.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,a.jsx)("i",{className:e.icon}),e.label]},e.id))})}),"profile"===d&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-4xl font-bold overflow-hidden",children:n?(0,a.jsxs)("svg",{className:"w-8 h-8 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):y.avatar?(0,a.jsx)("img",{src:y.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):`${y.firstName[0]||""}${y.lastName[0]||""}`}),(0,a.jsx)("button",{onClick:()=>g(!0),disabled:n,className:"absolute bottom-0 right-0 w-10 h-10 bg-white rounded-full border border-gray-200 shadow-sm flex items-center justify-center hover:bg-gray-50 disabled:opacity-50",children:(0,a.jsx)("i",{className:"fas fa-camera text-gray-600"})})]}),(0,a.jsxs)("h2",{className:"mt-4 text-xl font-semibold text-gray-900",children:[y.firstName," ",y.lastName]}),(0,a.jsx)("p",{className:"text-gray-500",children:y.email}),(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 mt-2 bg-blue-100 text-blue-700 rounded-full text-sm",children:[(0,a.jsx)("i",{className:"fas fa-user-shield mr-2"}),{master_admin:"Master Admin",agency_owner:"Agency Owner",agency_admin:"Agency Admin",user:"User",viewer:"Viewer",demo:"Demo User"}[e=y.role]||e]})]}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Member since"}),(0,a.jsx)("span",{className:"text-gray-900",children:new Date(y.createdAt).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Last login"}),(0,a.jsx)("span",{className:"text-gray-900",children:(s=y.lastLoginAt)?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never"})]})]})]})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-user text-blue-600"}),"Personal Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,a.jsx)("input",{type:"text",value:y.firstName,onChange:e=>v(a=>({...a,firstName:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter first name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,a.jsx)("input",{type:"text",value:y.lastName,onChange:e=>v(a=>({...a,lastName:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter last name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,a.jsx)("input",{type:"email",value:y.email,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Contact support to change your email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",value:y.phone,onChange:e=>v(a=>({...a,phone:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+1 (555) 123-4567"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-cog text-blue-600"}),"Preferences"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),(0,a.jsx)("select",{value:y.timezone,onChange:e=>v(a=>({...a,timezone:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"America/Anchorage",label:"Alaska Time (AKT)"},{value:"Pacific/Honolulu",label:"Hawaii Time (HT)"},{value:"Europe/London",label:"Greenwich Mean Time (GMT)"},{value:"Europe/Paris",label:"Central European Time (CET)"},{value:"Asia/Tokyo",label:"Japan Standard Time (JST)"},{value:"Australia/Sydney",label:"Australian Eastern Time (AET)"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),(0,a.jsx)("select",{value:y.language,onChange:e=>v(a=>({...a,language:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"pt",label:"Portuguese"},{value:"zh",label:"Chinese"},{value:"ja",label:"Japanese"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Format"}),(0,a.jsx)("select",{value:y.dateFormat,onChange:e=>v(a=>({...a,dateFormat:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"MM/DD/YYYY",label:"MM/DD/YYYY (12/18/2024)"},{value:"DD/MM/YYYY",label:"DD/MM/YYYY (18/12/2024)"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD (2024-12-18)"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Format"}),(0,a.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"radio",name:"timeFormat",value:"12h",checked:"12h"===y.timeFormat,onChange:e=>v(a=>({...a,timeFormat:e.target.value})),className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{children:"12-hour"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"radio",name:"timeFormat",value:"24h",checked:"24h"===y.timeFormat,onChange:e=>v(a=>({...a,timeFormat:e.target.value})),className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{children:"24-hour"})]})]})]})]})]})]})]}),"security"===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-key text-blue-600 text-xl"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Password"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Change your account password"})]})]}),(0,a.jsx)("button",{onClick:()=>x(!0),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Password"})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-shield-alt text-green-600 text-xl"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Two-Factor Authentication"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:y.twoFactorEnabled?"Your account is protected with 2FA":"Add an extra layer of security to your account"})]})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:y.twoFactorEnabled,onChange:D,className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),!y.twoFactorEnabled&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-yellow-600 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-yellow-800 font-medium",children:"Recommendation"}),(0,a.jsx)("p",{className:"text-yellow-700 text-sm",children:"Enable two-factor authentication to significantly increase the security of your account."})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-laptop text-blue-600"}),"Active Sessions"]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg border border-gray-200 flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-desktop text-gray-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:["Current Session",(0,a.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Active"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Your current browser session"})]})]})})})]})]}),"notifications"===d&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-bell text-blue-600"}),"Notification Preferences"]}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Choose how you want to receive notifications"}),(0,a.jsx)("div",{className:"space-y-6",children:[{key:"email",label:"Email Notifications",description:"Receive updates and alerts via email",icon:"fas fa-envelope"},{key:"sms",label:"SMS Notifications",description:"Receive important alerts via text message",icon:"fas fa-sms"},{key:"push",label:"Push Notifications",description:"Receive notifications on your mobile device",icon:"fas fa-mobile-alt"},{key:"desktop",label:"Desktop Notifications",description:"Show notifications on your desktop browser",icon:"fas fa-desktop"}].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg border border-gray-200 flex items-center justify-center",children:(0,a.jsx)("i",{className:`${e.icon} text-gray-600`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.label}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:y.notifications[e.key],onChange:()=>{var a;return a=e.key,void v(e=>({...e,notifications:{...e.notifications,[a]:!e.notifications[a]}}))},className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},e.key))})]})}),u&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Change Password"}),(0,a.jsx)("button",{onClick:()=>{x(!1),k(""),N({currentPassword:"",newPassword:"",confirmPassword:""})},className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("i",{className:"fas fa-times"})})]}),w&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-800 rounded-lg text-sm",children:w}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),(0,a.jsx)("input",{type:"password",value:j.currentPassword,onChange:e=>N(a=>({...a,currentPassword:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter current password"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),(0,a.jsx)("input",{type:"password",value:j.newPassword,onChange:e=>N(a=>({...a,newPassword:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password (min 8 characters)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),(0,a.jsx)("input",{type:"password",value:j.confirmPassword,onChange:e=>N(a=>({...a,confirmPassword:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,a.jsx)("button",{onClick:()=>{x(!1),k(""),N({currentPassword:"",newPassword:"",confirmPassword:""})},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,a.jsxs)("button",{onClick:T,disabled:P,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[P&&(0,a.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),P?"Updating...":"Update Password"]})]})]})}),f&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Avatar"}),(0,a.jsx)("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("i",{className:"fas fa-times"})})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors",onClick:Y,children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-cloud-upload-alt text-gray-400 text-2xl"})}),(0,a.jsx)("p",{className:"text-gray-600 mb-2",children:"Drag and drop your image here"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"or"}),(0,a.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),Y()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Choose File"}),(0,a.jsx)("p",{className:"text-gray-400 text-xs mt-4",children:"Supports JPG, PNG, GIF or WebP. Max file size 5MB."})]}),(0,a.jsxs)("div",{className:"flex justify-between gap-3 mt-6",children:[y.avatar&&(0,a.jsx)("button",{onClick:E,className:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50",children:"Remove Avatar"}),(0,a.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 ml-auto",children:"Cancel"})]})]})})]})}e.s(["default",()=>s])}]);