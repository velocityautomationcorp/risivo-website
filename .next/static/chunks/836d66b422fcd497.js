(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56241,e=>{"use strict";var s=e.i(43476),r=e.i(71645),t=e.i(22016);function a(){let[e,a]=(0,r.useState)({mode:"test",publishableKey:"",secretKey:"",webhookSecret:"",webhookUrl:"https://api.risivo.com/webhooks/stripe",currency:"USD",statementDescriptor:"RISIVO CRM",autoPayoutEnabled:!0,payoutSchedule:"daily"}),[l,d]=(0,r.useState)({}),[n,i]=(0,r.useState)("idle"),[o,c]=(0,r.useState)("idle"),x=async()=>{i("saving"),await new Promise(e=>setTimeout(e,1500)),i("saved"),setTimeout(()=>i("idle"),2e3)},m=async()=>{c("testing"),await new Promise(e=>setTimeout(e,2e3)),c(e.secretKey?"success":"error"),setTimeout(()=>c("idle"),3e3)};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(t.default,{href:"/sub-account/platform-admin/settings",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ’³"}),"Payment Gateway"]}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Configure Stripe payment processing for subscriptions and one-time payments"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:m,disabled:"testing"===o,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:"testing"===o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"animate-spin",children:"ðŸ”„"})," Testing..."]}):"success"===o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"âœ…"})," Connected!"]}):"error"===o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"âŒ"})," Failed"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"ðŸ”Œ"})," Test Connection"]})}),(0,s.jsx)("button",{onClick:x,disabled:"saving"===n,className:"px-4 py-2 bg-[#5E59EC] text-white rounded-lg hover:bg-[#4d49c9] transition-colors flex items-center gap-2",children:"saving"===n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"animate-spin",children:"â³"})," Saving..."]}):"saved"===n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"âœ…"})," Saved!"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"ðŸ’¾"})," Save Changes"]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",156750..toLocaleString()]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"This Month"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",24500..toLocaleString()]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Successful Payments"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:1847})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Failed Payments"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-red-600",children:23})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Active Subscriptions"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:312})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Refunds"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:8})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Environment Mode"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("button",{onClick:()=>a({...e,mode:"test"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${"test"===e.mode?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ§ª"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900",children:"Test Mode"}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Use test API keys for development"})]})]}),"test"===e.mode&&(0,s.jsx)("div",{className:"mt-3 px-3 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded-full inline-block",children:"Currently Active"})]}),(0,s.jsxs)("button",{onClick:()=>a({...e,mode:"live"}),className:`flex-1 p-4 rounded-xl border-2 transition-all ${"live"===e.mode?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:"ðŸš€"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900",children:"Live Mode"}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Process real payments"})]})]}),"live"===e.mode&&(0,s.jsx)("div",{className:"mt-3 px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full inline-block",children:"Currently Active"})]})]}),"live"===e.mode&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{children:"âš ï¸"}),(0,s.jsxs)("div",{className:"text-sm text-red-700",children:[(0,s.jsx)("strong",{children:"Warning:"})," Live mode processes real payments. Ensure your configuration is correct before enabling."]})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Stripe API Keys (","test"===e.mode?"Test":"Live",")"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Publishable Key ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",value:e.publishableKey,onChange:s=>a({...e,publishableKey:s.target.value}),placeholder:"test"===e.mode?"pk_test_...":"pk_live_...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5E59EC] focus:border-transparent"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Used for client-side Stripe.js integration"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Secret Key ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:l.secretKey?"text":"password",value:e.secretKey,onChange:s=>a({...e,secretKey:s.target.value}),placeholder:"test"===e.mode?"sk_test_...":"sk_live_...",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5E59EC] focus:border-transparent"}),(0,s.jsx)("button",{type:"button",onClick:()=>d({...l,secretKey:!l.secretKey}),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.secretKey?"ðŸ™ˆ":"ðŸ‘ï¸"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Used for server-side API calls. Never expose this key."})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Webhook Secret ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:l.webhookSecret?"text":"password",value:e.webhookSecret,onChange:s=>a({...e,webhookSecret:s.target.value}),placeholder:"whsec_...",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5E59EC] focus:border-transparent"}),(0,s.jsx)("button",{type:"button",onClick:()=>d({...l,webhookSecret:!l.webhookSecret}),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.webhookSecret?"ðŸ™ˆ":"ðŸ‘ï¸"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Used to verify webhook signatures"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Webhook URL"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:e.webhookUrl,readOnly:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"}),(0,s.jsx)("button",{onClick:()=>navigator.clipboard.writeText(e.webhookUrl),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"ðŸ“‹ Copy"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Add this URL to your Stripe webhook settings"})]})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Required Webhook Events"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-xs text-blue-700",children:[(0,s.jsx)("div",{children:"â€¢ customer.subscription.created"}),(0,s.jsx)("div",{children:"â€¢ customer.subscription.updated"}),(0,s.jsx)("div",{children:"â€¢ customer.subscription.deleted"}),(0,s.jsx)("div",{children:"â€¢ invoice.paid"}),(0,s.jsx)("div",{children:"â€¢ invoice.payment_failed"}),(0,s.jsx)("div",{children:"â€¢ charge.refunded"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Currency"}),(0,s.jsx)("select",{value:e.currency,onChange:s=>a({...e,currency:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5E59EC] focus:border-transparent",children:[{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound"},{value:"CAD",label:"CAD - Canadian Dollar"},{value:"AUD",label:"AUD - Australian Dollar"}].map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statement Descriptor"}),(0,s.jsx)("input",{type:"text",value:e.statementDescriptor,onChange:s=>a({...e,statementDescriptor:s.target.value.toUpperCase().slice(0,22)}),maxLength:22,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5E59EC] focus:border-transparent"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Appears on customer bank statements (max 22 chars)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payout Schedule"}),(0,s.jsxs)("select",{value:e.payoutSchedule,onChange:s=>a({...e,payoutSchedule:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5E59EC] focus:border-transparent",children:[(0,s.jsx)("option",{value:"daily",children:"Daily"}),(0,s.jsx)("option",{value:"weekly",children:"Weekly"}),(0,s.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"Auto Payouts"}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Automatically transfer funds to bank"})]}),(0,s.jsx)("button",{onClick:()=>a({...e,autoPayoutEnabled:!e.autoPayoutEnabled}),className:`relative w-12 h-6 rounded-full transition-colors ${e.autoPayoutEnabled?"bg-green-500":"bg-gray-300"}`,children:(0,s.jsx)("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${e.autoPayoutEnabled?"left-7":"left-1"}`})})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stripe Dashboard Links"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white rounded-lg border border-gray-200 hover:border-[#5E59EC] hover:shadow-md transition-all text-center",children:[(0,s.jsx)("span",{className:"text-2xl block mb-2",children:"ðŸ”‘"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"API Keys"})]}),(0,s.jsxs)("a",{href:"https://dashboard.stripe.com/webhooks",target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white rounded-lg border border-gray-200 hover:border-[#5E59EC] hover:shadow-md transition-all text-center",children:[(0,s.jsx)("span",{className:"text-2xl block mb-2",children:"ðŸ”—"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Webhooks"})]}),(0,s.jsxs)("a",{href:"https://dashboard.stripe.com/payments",target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white rounded-lg border border-gray-200 hover:border-[#5E59EC] hover:shadow-md transition-all text-center",children:[(0,s.jsx)("span",{className:"text-2xl block mb-2",children:"ðŸ’°"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Payments"})]}),(0,s.jsxs)("a",{href:"https://dashboard.stripe.com/subscriptions",target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white rounded-lg border border-gray-200 hover:border-[#5E59EC] hover:shadow-md transition-all text-center",children:[(0,s.jsx)("span",{className:"text-2xl block mb-2",children:"ðŸ“Š"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Subscriptions"})]})]})]})]})}e.s(["default",()=>a])}]);