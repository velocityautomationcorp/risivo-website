(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},66223,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566);function r(){let e=(0,a.useParams)().slug,[r,n]=(0,s.useState)(null),[i,c]=(0,s.useState)(null),[o,d]=(0,s.useState)(null),[m,x]=(0,s.useState)(null),[u,g]=(0,s.useState)(null),[h,p]=(0,s.useState)({name:"",email:"",phone:"",notes:"",guests:[]}),[f,y]=(0,s.useState)(!1),[j,b]=(0,s.useState)({firstName:"",lastName:"",email:"",phone:""}),[N,v]=(0,s.useState)("type"),[w,S]=(0,s.useState)(!0),[k,C]=(0,s.useState)(!1),[D,T]=(0,s.useState)(null),[B,F]=(0,s.useState)(null),[U,$]=(0,s.useState)(new Date);(0,s.useEffect)(()=>{M()},[e]),(0,s.useEffect)(()=>{r&&U&&I()},[r,U,i]);let M=async()=>{try{S(!0);let t=await fetch(`/api/v1/public/calendars/${e}`),s=await t.json();s.success?(n(s.data),s.data.appointmentTypes?.length===1?(c(s.data.appointmentTypes[0]),v("date")):s.data.appointmentTypes?.length||v("date")):F("Calendar not found")}catch(e){console.error("Error loading calendar:",e),F("Failed to load booking page")}finally{S(!1)}},I=async()=>{if(r)try{let e=new Date(U.getFullYear(),U.getMonth(),1),t=new Date(U.getFullYear(),U.getMonth()+1,0),s=Intl.DateTimeFormat().resolvedOptions().timeZone,a=i?`&appointmentTypeId=${i.id}`:"",l=await fetch(`/api/v1/calendars/${r.id}/availability?startDate=${e.toISOString().split("T")[0]}&endDate=${t.toISOString().split("T")[0]}&timezone=${s}${a}`),n=await l.json();n.success&&g(n.data)}catch(e){console.error("Error loading availability:",e)}},L=async e=>{if(e.preventDefault(),r&&m&&h.name&&h.email){C(!0),F(null);try{let e=h.guests.map(e=>({name:`${e.firstName} ${e.lastName}`,email:e.email,phone:e.phone||void 0})),t=await fetch("/api/v1/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({calendarId:r.id,appointmentTypeId:i?.id,startTime:m.utcStart,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,contact:{name:h.name,email:h.email,phone:h.phone},additionalGuests:e.length>0?e:void 0,notes:h.notes})}),s=await t.json();s.success?(T(s.data),v("confirm")):F(s.error||"Failed to book appointment")}catch(e){console.error("Error booking appointment:",e),F("Failed to book appointment. Please try again.")}finally{C(!1)}}},A=(0,s.useMemo)(()=>{if(!u||!o)return[];let e=o.toISOString().split("T")[0];return u.slots.filter(t=>t.utcStart.split("T")[0]===e&&t.available)},[u,o]);if(w)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading booking page..."})]})});if(B&&!r)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("i",{className:"fas fa-exclamation-triangle text-red-500 text-2xl"})}),(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Booking Page Not Found"}),(0,t.jsx)("p",{className:"text-gray-600",children:B})]})});if(!r)return null;let O=r.customBranding?.primaryColor||"#3B82F6";return(0,t.jsx)("div",{className:"min-h-screen py-8 px-4",style:{backgroundColor:r.customBranding?.backgroundColor||"#F9FAFB"},children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[r.customBranding?.logoUrl||r.avatarUrl?(0,t.jsx)("img",{src:r.customBranding?.logoUrl||r.avatarUrl,alt:r.name,className:"w-16 h-16 rounded-full object-cover"}):(0,t.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white text-2xl font-bold",style:{backgroundColor:O},children:r.name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",style:{color:r.customBranding?.textColor||"#111827"},children:r.name}),r.description&&(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:r.description})]})]})}),(0,t.jsx)("div",{className:"flex items-center justify-center mb-8",children:["type","date","time","form","confirm"].map((e,s)=>{let a=N===e,l=["type","date","time","form","confirm"].indexOf(N)>s;return"type"===e&&(!r.appointmentTypes?.length||r.appointmentTypes.length<=1)?null:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${a?"text-white":l?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,style:a?{backgroundColor:O}:{},children:l?(0,t.jsx)("i",{className:"fas fa-check"}):s+1}),(0,t.jsx)("span",{className:`ml-2 text-sm ${a?"font-medium text-gray-900":"text-gray-400"}`,children:{type:"Service",date:"Date",time:"Time",form:"Details",confirm:"Confirm"}[e]}),s<4&&(0,t.jsx)("div",{className:"w-8 h-px bg-gray-200 mx-3"})]},e)})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:["type"===N&&r.appointmentTypes&&r.appointmentTypes.length>1&&(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select a Service"}),(0,t.jsx)("div",{className:"space-y-3",children:r.appointmentTypes.map(e=>(0,t.jsx)("button",{onClick:()=>{c(e),v("date")},className:"w-full p-4 border rounded-lg text-left hover:border-blue-500 hover:bg-blue-50 transition-colors",style:{"--hover-color":O},children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("i",{className:"far fa-clock mr-1"}),e.durationMinutes," min"]}),e.price&&(0,t.jsxs)("span",{children:[(0,t.jsx)("i",{className:"far fa-dollar-sign mr-1"}),e.currency," ",e.price]})]})]}),(0,t.jsx)("i",{className:"fas fa-chevron-right text-gray-400"})]})},e.id))})]}),"date"===N&&(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.appointmentTypes&&r.appointmentTypes.length>1&&(0,t.jsxs)("button",{onClick:()=>v("type"),className:"text-sm text-gray-500 hover:text-gray-700",children:[(0,t.jsx)("i",{className:"fas fa-arrow-left mr-1"})," Back"]}),(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Select a Date",i&&(0,t.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["for ",i.name]})]}),(0,t.jsx)("div",{})]}),(0,t.jsx)(l,{month:U,onMonthChange:$,daysSummary:u?.daysSummary||[],selectedDate:o,onDateSelect:e=>{d(e),x(null),v("time")},primaryColor:O})]}),"time"===N&&o&&(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("button",{onClick:()=>v("date"),className:"text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,t.jsx)("i",{className:"fas fa-arrow-left mr-1"})," Back to calendar"]}),(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Select a Time",(0,t.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["on ",o.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]})]}),0===A.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("i",{className:"far fa-calendar-times text-4xl text-gray-300 mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No available times on this date"}),(0,t.jsx)("button",{onClick:()=>v("date"),className:"mt-4 text-sm text-blue-600 hover:underline",style:{color:O},children:"Select a different date"})]}):(0,t.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:A.map(e=>{let s=new Date(e.utcStart).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),a=m?.utcStart===e.utcStart;return(0,t.jsx)("button",{onClick:()=>{x(e),v("form")},className:`p-3 rounded-lg border text-center transition-colors ${a?"text-white border-transparent":"hover:border-blue-500 hover:bg-blue-50"}`,style:a?{backgroundColor:O}:{},children:s},e.utcStart)})})]}),"form"===N&&m&&(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("button",{onClick:()=>v("time"),className:"text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,t.jsx)("i",{className:"fas fa-arrow-left mr-1"})," Back"]}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:O},children:(0,t.jsx)("i",{className:"far fa-calendar-check text-xl"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:o?.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),(0,t.jsxs)("div",{className:"text-gray-600",children:[new Date(m.utcStart).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," - ",new Date(m.utcEnd).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),i&&` \xb7 ${i.durationMinutes} min`]})]})]})}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enter Your Details"}),B&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 text-red-700 text-sm",children:B}),(0,t.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:h.name,onChange:e=>p({...h,name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":O},placeholder:"Your full name",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"email",value:h.email,onChange:e=>p({...h,email:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":O},placeholder:"your@email.com",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,t.jsx)("input",{type:"tel",value:h.phone,onChange:e=>p({...h,phone:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":O},placeholder:"+1 (555) 000-0000"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),(0,t.jsx)("textarea",{value:h.notes,onChange:e=>p({...h,notes:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":O},rows:3,placeholder:"Any additional information..."})]}),r.allowGuests&&(0,t.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Additional Guests"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Invite others to this appointment (max ",r.maxGuests||5," guests)"]})]}),h.guests.length<(r.maxGuests||5)&&!f&&(0,t.jsxs)("button",{type:"button",onClick:()=>y(!0),className:"text-sm font-medium hover:opacity-80",style:{color:O},children:[(0,t.jsx)("i",{className:"fas fa-plus mr-1"})," Add Guest"]})]}),h.guests.length>0&&(0,t.jsx)("div",{className:"space-y-2 mb-4",children:h.guests.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium text-sm text-gray-900",children:[e.firstName," ",e.lastName]}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.email}),e.phone&&(0,t.jsx)("div",{className:"text-xs text-gray-400",children:e.phone})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{p({...h,guests:h.guests.filter((e,t)=>t!==s)})},className:"text-red-500 hover:text-red-700 p-1",children:(0,t.jsx)("i",{className:"fas fa-times"})})]},s))}),f&&(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["First Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:j.firstName,onChange:e=>b({...j,firstName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":O},placeholder:"First name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Last Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:j.lastName,onChange:e=>b({...j,lastName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":O},placeholder:"Last name"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Email ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"email",value:j.email,onChange:e=>b({...j,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":O},placeholder:"guest@email.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Phone"}),(0,t.jsx)("input",{type:"tel",value:j.phone,onChange:e=>b({...j,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":O},placeholder:"+1 (555) 000-0000"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{y(!1),b({firstName:"",lastName:"",email:"",phone:""})},className:"flex-1 py-2 border border-gray-300 rounded-lg text-sm text-gray-600 hover:bg-gray-100",children:"Cancel"}),(0,t.jsx)("button",{type:"button",onClick:()=>{j.firstName&&j.lastName&&j.email&&(p({...h,guests:[...h.guests,{...j}]}),b({firstName:"",lastName:"",email:"",phone:""}),y(!1))},disabled:!j.firstName||!j.lastName||!j.email,className:"flex-1 py-2 rounded-lg text-sm text-white disabled:opacity-50",style:{backgroundColor:O},children:"Add Guest"})]})]})]}),(0,t.jsx)("button",{type:"submit",disabled:k||!h.name||!h.email,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:O},children:k?(0,t.jsxs)("span",{children:[(0,t.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Booking..."]}):(0,t.jsxs)(t.Fragment,{children:["Confirm Booking",h.guests.length>0&&(0,t.jsxs)("span",{className:"ml-1",children:["(",h.guests.length+1," attendees)"]})]})})]})]}),"confirm"===N&&D&&(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-white",style:{backgroundColor:"#10B981"},children:(0,t.jsx)("i",{className:"fas fa-check text-3xl"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Confirmed!"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-6",children:["A confirmation email has been sent to ",h.email]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-left mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Appointment Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Date"}),(0,t.jsx)("span",{className:"text-gray-900",children:new Date(D.startTime).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Time"}),(0,t.jsxs)("span",{className:"text-gray-900",children:[new Date(D.startTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," - ",new Date(D.endTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]}),i&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Service"}),(0,t.jsx)("span",{className:"text-gray-900",children:i.name})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Status"}),(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded text-xs font-medium",children:D.status})]}),h.guests.length>0&&(0,t.jsxs)("div",{className:"pt-3 mt-3 border-t",children:[(0,t.jsx)("span",{className:"text-gray-500 block mb-2",children:"Additional Guests"}),(0,t.jsx)("div",{className:"space-y-1",children:h.guests.map((e,s)=>(0,t.jsxs)("div",{className:"text-gray-900 text-sm flex items-center gap-2",children:[(0,t.jsx)("i",{className:"fas fa-user-plus text-gray-400 text-xs"}),e.firstName," ",e.lastName," (",e.email,")"]},s))})]})]})]}),D.calendarInvite&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Add to your calendar"}),(0,t.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,t.jsxs)("a",{href:D.calendarInvite.google,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 text-sm",children:[(0,t.jsx)("i",{className:"fab fa-google text-red-500"}),"Google"]}),(0,t.jsxs)("a",{href:D.calendarInvite.outlook,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 text-sm",children:[(0,t.jsx)("i",{className:"fab fa-microsoft text-blue-500"}),"Outlook"]}),(0,t.jsxs)("a",{href:D.calendarInvite.icsUrl,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 text-sm",children:[(0,t.jsx)("i",{className:"far fa-calendar-plus text-gray-500"}),"iCal"]})]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,t.jsx)("p",{children:"Need to make changes?"}),(0,t.jsxs)("div",{className:"flex gap-4 justify-center mt-2",children:[D.rescheduleUrl&&(0,t.jsx)("a",{href:D.rescheduleUrl,className:"text-blue-600 hover:underline",children:"Reschedule"}),D.cancelUrl&&(0,t.jsx)("a",{href:D.cancelUrl,className:"text-red-600 hover:underline",children:"Cancel"})]})]})]})]}),r.customBranding?.showPoweredBy!==!1&&(0,t.jsxs)("div",{className:"text-center mt-6 text-sm text-gray-400",children:["Powered by ",(0,t.jsx)("span",{className:"font-medium",children:"Risivo"})]})]})})}function l({month:e,onMonthChange:s,daysSummary:a,selectedDate:r,onDateSelect:l,primaryColor:n}){let i=(()=>{let t=e.getFullYear(),s=e.getMonth(),a=new Date(t,s,1),r=new Date(t,s+1,0).getDate(),l=a.getDay(),n=[];for(let e=0;e<l;e++)n.push({date:new Date(t,s,-l+e+1),isCurrentMonth:!1});for(let e=1;e<=r;e++)n.push({date:new Date(t,s,e),isCurrentMonth:!0});let i=42-n.length;for(let e=1;e<=i;e++)n.push({date:new Date(t,s+1,e),isCurrentMonth:!1});return n})(),c=new Date;return c.setHours(0,0,0,0),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("button",{onClick:()=>s(new Date(e.getFullYear(),e.getMonth()-1)),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)("i",{className:"fas fa-chevron-left text-gray-500"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,t.jsx)("button",{onClick:()=>s(new Date(e.getFullYear(),e.getMonth()+1)),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)("i",{className:"fas fa-chevron-right text-gray-500"})})]}),(0,t.jsx)("div",{className:"grid grid-cols-7 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,t.jsx)("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:e},e))}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-1",children:i.map((e,s)=>{let i,o=e.date<c,d=r?.toDateString()===e.date.toDateString(),m=e.date.toDateString()===c.toDateString(),x=(i=e.date.toISOString().split("T")[0],a.find(e=>e.date===i)),u=x&&x.availableSlots>0,g=o||!e.isCurrentMonth||!u;return(0,t.jsxs)("button",{onClick:()=>!g&&l(e.date),disabled:g,className:`
                aspect-square p-2 rounded-lg flex flex-col items-center justify-center
                ${g?"text-gray-300 cursor-not-allowed":"hover:bg-gray-100 cursor-pointer"}
                ${d?"text-white":""}
                ${!e.isCurrentMonth?"text-gray-300":""}
              `,style:d?{backgroundColor:n}:{},children:[(0,t.jsx)("span",{className:`text-sm ${m&&!d?"font-bold":""}`,children:e.date.getDate()}),u&&!d&&e.isCurrentMonth&&!o&&(0,t.jsx)("div",{className:"flex gap-0.5 mt-1",children:(0,t.jsx)("span",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:x?.status==="many"?"#10B981":x?.status==="few"?"#F59E0B":"#D1D5DB"}})})]},s)})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 justify-center mt-4 text-xs text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,t.jsx)("span",{children:"Available"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),(0,t.jsx)("span",{children:"Limited"})]})]})]})}function n(){return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading booking page..."})]})})}function i(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)(n,{}),children:(0,t.jsx)(r,{})})}e.s(["default",()=>i])}]);